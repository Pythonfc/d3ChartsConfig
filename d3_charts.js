/*
 * D3Charts
 * @version: 0.4.23
 * last modified: 2020-4-2 15:44:39
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.D3Charts={})}(this,function(t){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),o=n(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),a=(o.version,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=function(t){return"object"===(void 0===t?"undefined":a(t))?null!==t:"function"==typeof t},d=function(t){if(!f(t))throw TypeError(t+" is not an object!");return t},p=function(t){try{return!!t()}catch(t){return!0}},g=!p(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),v=r.document,y=f(v)&&f(v.createElement),m=function(t){return y?v.createElement(t):{}},x=!g&&!p(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),_=function(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w=Object.defineProperty,b={f:g?Object.defineProperty:function(t,e,n){if(d(t),e=_(e,!0),d(n),x)try{return w(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=g?function(t,e,n){return b.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},M={}.hasOwnProperty,A=function(t,e){return M.call(t,e)},I=0,T=Math.random(),C=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++I+T).toString(36))},E=n(function(t){var e=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:o.version,mode:"global",copyright:"Êºè 2019 Denis Pushkarev (zloirock.ru)"})}),z=E("native-function-to-string",Function.toString),L=n(function(t){var e=C("src"),n=(""+z).split("toString");o.inspectSource=function(t){return z.call(t)},(t.exports=function(t,i,o,a){var s="function"==typeof o;s&&(A(o,"name")||k(o,"name",i)),t[i]!==o&&(s&&(A(o,e)||k(o,e,t[i]?""+t[i]:n.join(String(i)))),t===r?t[i]=o:a?t[i]?t[i]=o:k(t,i,o):(delete t[i],k(t,i,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||z.call(this)})}),O=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},D=function(t,e,n){if(O(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},P=function t(e,n,i){var a,s,l,u,h=e&t.F,c=e&t.G,f=e&t.P,d=e&t.B,p=c?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,g=c?o:o[n]||(o[n]={}),v=g.prototype||(g.prototype={});for(a in c&&(i=n),i)l=((s=!h&&p&&void 0!==p[a])?p:i)[a],u=d&&s?D(l,r):f&&"function"==typeof l?D(Function.call,l):l,p&&L(p,a,l,e&t.U),g[a]!=l&&k(g,a,u),f&&v[a]!=l&&(v[a]=l)};r.core=o,P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128;for(var F,N=P,R=C("typed_array"),B=C("view"),W=!(!r.ArrayBuffer||!r.DataView),j=W,G=0,H="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");G<9;)(F=r[H[G++]])?(k(F.prototype,R,!0),k(F.prototype,B,!0)):j=!1;var U={ABV:W,CONSTR:j,TYPED:R,VIEW:B},V=function(t,e,n){for(var r in e)L(t,r,e[r],n);return t},q=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},Y=Math.ceil,$=Math.floor,X=function(t){return isNaN(t=+t)?0:(t>0?$:Y)(t)},K=Math.min,Z=function(t){return t>0?K(X(t),9007199254740991):0},Q=function(t){if(void 0===t)return 0;var e=X(t),n=Z(e);if(e!==n)throw RangeError("Wrong length!");return n},J={}.toString,tt=function(t){return J.call(t).slice(8,-1)},et=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==tt(t)?t.split(""):Object(t)},nt=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},rt=function(t){return et(nt(t))},it=Math.max,ot=Math.min,at=function(t,e){return(t=X(t))<0?it(t+e,0):ot(t,e)},st=function(t){return function(e,n,r){var i,o=rt(e),a=Z(o.length),s=at(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},lt=E("keys"),ut=function(t){return lt[t]||(lt[t]=C(t))},ht=st(!1),ct=ut("IE_PROTO"),ft=function(t,e){var n,r=rt(t),i=0,o=[];for(n in r)n!=ct&&A(r,n)&&o.push(n);for(;e.length>i;)A(r,n=e[i++])&&(~ht(o,n)||o.push(n));return o},dt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),pt=dt.concat("length","prototype"),gt={f:Object.getOwnPropertyNames||function(t){return ft(t,pt)}},vt=function(t){return Object(nt(t))},yt=function(t){for(var e=vt(this),n=Z(e.length),r=arguments.length,i=at(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:at(o,n);a>i;)e[i++]=t;return e},mt=n(function(t){var e=E("wks"),n=r.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:C)("Symbol."+t))}).store=e}),xt=b.f,_t=mt("toStringTag"),wt=function(t,e,n){t&&!A(t=n?t:t.prototype,_t)&&xt(t,_t,{configurable:!0,value:e})},bt=n(function(t,e){var n=gt.f,i=b.f,o="prototype",a="Wrong index!",s=r.ArrayBuffer,l=r.DataView,u=r.Math,h=r.RangeError,c=r.Infinity,f=s,d=u.abs,v=u.pow,y=u.floor,m=u.log,x=u.LN2,_=g?"_b":"buffer",w=g?"_l":"byteLength",S=g?"_o":"byteOffset";function M(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,h=23===e?v(2,-24)-v(2,-77):0,f=0,p=t<0||0===t&&1/t<0?1:0;for((t=d(t))!=t||t===c?(i=t!=t?1:0,r=l):(r=y(m(t)/x),t*(o=v(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?h/o:h*v(2,1-u))*o>=2&&(r++,o/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(t*o-1)*v(2,e),r+=u):(i=t*v(2,u-1)*v(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*p,a}function A(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,u=t[l--],h=127&u;for(u>>=7;s>0;h=256*h+t[l],l--,s-=8);for(r=h&(1<<-s)-1,h>>=-s,s+=e;s>0;r=256*r+t[l],l--,s-=8);if(0===h)h=1-a;else{if(h===o)return r?NaN:u?-c:c;r+=v(2,e),h-=a}return(u?-1:1)*r*v(2,h-e)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function T(t){return[255&t]}function C(t){return[255&t,t>>8&255]}function E(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return M(t,52,8)}function L(t){return M(t,23,4)}function O(t,e,n){i(t[o],e,{get:function(){return this[n]}})}function D(t,e,n,r){var i=Q(+n);if(i+e>t[w])throw h(a);var o=t[_]._b,s=i+t[S],l=o.slice(s,s+e);return r?l:l.reverse()}function P(t,e,n,r,i,o){var s=Q(+n);if(s+e>t[w])throw h(a);for(var l=t[_]._b,u=s+t[S],c=r(+i),f=0;f<e;f++)l[u+f]=c[o?f:e-f-1]}if(U.ABV){if(!p(function(){s(1)})||!p(function(){new s(-1)})||p(function(){return new s,new s(1.5),new s(NaN),"ArrayBuffer"!=s.name})){for(var F,N=(s=function(t){return q(this,s),new f(Q(t))})[o]=f[o],R=n(f),B=0;R.length>B;)(F=R[B++])in s||k(s,F,f[F]);N.constructor=s}var W=new l(new s(2)),j=l[o].setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||V(l[o],{setInt8:function(t,e){j.call(this,t,e<<24>>24)},setUint8:function(t,e){j.call(this,t,e<<24>>24)}},!0)}else s=function(t){q(this,s,"ArrayBuffer");var e=Q(t);this._b=yt.call(new Array(e),0),this[w]=e},l=function(t,e,n){q(this,l,"DataView"),q(t,s,"DataView");var r=t[w],i=X(e);if(i<0||i>r)throw h("Wrong offset!");if(i+(n=void 0===n?r-i:Z(n))>r)throw h("Wrong length!");this[_]=t,this[S]=i,this[w]=n},g&&(O(s,"byteLength","_l"),O(l,"buffer","_b"),O(l,"byteLength","_l"),O(l,"byteOffset","_o")),V(l[o],{getInt8:function(t){return D(this,1,t)[0]<<24>>24},getUint8:function(t){return D(this,1,t)[0]},getInt16:function(t){var e=D(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=D(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return I(D(this,4,t,arguments[1]))},getUint32:function(t){return I(D(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return A(D(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return A(D(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){P(this,1,t,T,e)},setUint8:function(t,e){P(this,1,t,T,e)},setInt16:function(t,e){P(this,2,t,C,e,arguments[2])},setUint16:function(t,e){P(this,2,t,C,e,arguments[2])},setInt32:function(t,e){P(this,4,t,E,e,arguments[2])},setUint32:function(t,e){P(this,4,t,E,e,arguments[2])},setFloat32:function(t,e){P(this,4,t,L,e,arguments[2])},setFloat64:function(t,e){P(this,8,t,z,e,arguments[2])}});wt(s,"ArrayBuffer"),wt(l,"DataView"),k(l[o],U.VIEW,!0),e.ArrayBuffer=s,e.DataView=l}),St=mt("species"),kt=function(t,e){var n,r=d(t).constructor;return void 0===r||void 0==(n=d(r)[St])?e:O(n)},Mt=mt("species"),At=function(t){var e=r[t];g&&e&&!e[Mt]&&b.f(e,Mt,{configurable:!0,get:function(){return this}})},It=r.ArrayBuffer,Tt=bt.ArrayBuffer,Ct=bt.DataView,Et=U.ABV&&It.isView,zt=Tt.prototype.slice,Lt=U.VIEW;N(N.G+N.W+N.F*(It!==Tt),{ArrayBuffer:Tt}),N(N.S+N.F*!U.CONSTR,"ArrayBuffer",{isView:function(t){return Et&&Et(t)||f(t)&&Lt in t}}),N(N.P+N.U+N.F*p(function(){return!new Tt(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==zt&&void 0===e)return zt.call(d(this),t);for(var n=d(this).byteLength,r=at(t,n),i=at(void 0===e?n:e,n),o=new(kt(this,Tt))(Z(i-r)),a=new Ct(this),s=new Ct(o),l=0;r<i;)s.setUint8(l++,a.getUint8(r++));return o}}),At("ArrayBuffer"),N(N.G+N.W+N.F*!U.ABV,{DataView:bt.DataView});var Ot=mt("toStringTag"),Dt="Arguments"==tt(function(){return arguments}()),Pt=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ot))?n:Dt?tt(e):"Object"==(r=tt(e))&&"function"==typeof e.callee?"Arguments":r},Ft={},Nt=mt("iterator"),Rt=Array.prototype,Bt=function(t){return void 0!==t&&(Ft.Array===t||Rt[Nt]===t)},Wt=Object.keys||function(t){return ft(t,dt)},jt=g?Object.defineProperties:function(t,e){d(t);for(var n,r=Wt(e),i=r.length,o=0;i>o;)b.f(t,n=r[o++],e[n]);return t},Gt=r.document,Ht=Gt&&Gt.documentElement,Ut=ut("IE_PROTO"),Vt=function(){},qt=function(){var t,e=m("iframe"),n=dt.length;for(e.style.display="none",Ht.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),qt=t.F;n--;)delete qt.prototype[dt[n]];return qt()},Yt=Object.create||function(t,e){var n;return null!==t?(Vt.prototype=d(t),n=new Vt,Vt.prototype=null,n[Ut]=t):n=qt(),void 0===e?n:jt(n,e)},$t=ut("IE_PROTO"),Xt=Object.prototype,Kt=Object.getPrototypeOf||function(t){return t=vt(t),A(t,$t)?t[$t]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Xt:null},Zt=mt("iterator"),Qt=o.getIteratorMethod=function(t){if(void 0!=t)return t[Zt]||t["@@iterator"]||Ft[Pt(t)]},Jt=Array.isArray||function(t){return"Array"==tt(t)},te=mt("species"),ee=function(t,e){return new(function(t){var e;return Jt(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Jt(e.prototype)||(e=void 0),f(e)&&null===(e=e[te])&&(e=void 0)),void 0===e?Array:e}(t))(e)},ne=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,l=e||ee;return function(e,u,h){for(var c,f,d=vt(e),p=et(d),g=D(u,h,3),v=Z(p.length),y=0,m=n?l(e,v):r?l(e,0):void 0;v>y;y++)if((s||y in p)&&(f=g(c=p[y],y,d),t))if(n)m[y]=f;else if(f)switch(t){case 3:return!0;case 5:return c;case 6:return y;case 2:m.push(c)}else if(o)return!1;return a?-1:i||o?o:m}},re=mt("unscopables"),ie=Array.prototype;void 0==ie[re]&&k(ie,re,{});var oe=function(t){ie[re][t]=!0},ae=function(t,e){return{value:e,done:!!t}},se={};k(se,mt("iterator"),function(){return this});var le=function(t,e,n){t.prototype=Yt(se,{next:S(1,n)}),wt(t,e+" Iterator")},ue=mt("iterator"),he=!([].keys&&"next"in[].keys()),ce=function(){return this},fe=function(t,e,n,r,i,o,a){le(n,e,r);var s,l,u,h=function(t){if(!he&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},c=e+" Iterator",f="values"==i,d=!1,p=t.prototype,g=p[ue]||p["@@iterator"]||i&&p[i],v=g||h(i),y=i?f?h("entries"):v:void 0,m="Array"==e&&p.entries||g;if(m&&(u=Kt(m.call(new t)))!==Object.prototype&&u.next&&(wt(u,c,!0),"function"!=typeof u[ue]&&k(u,ue,ce)),f&&g&&"values"!==g.name&&(d=!0,v=function(){return g.call(this)}),(he||d||!p[ue])&&k(p,ue,v),Ft[e]=v,Ft[c]=ce,i)if(s={values:f?v:h("values"),keys:o?v:h("keys"),entries:y},a)for(l in s)l in p||L(p,l,s[l]);else N(N.P+N.F*(he||d),e,s);return s},de=fe(Array,"Array",function(t,e){this._t=rt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ae(1)):ae(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ft.Arguments=Ft.Array,oe("keys"),oe("values"),oe("entries");var pe=mt("iterator"),ge=!1;try{[7][pe]().return=function(){ge=!0}}catch(t){}var ve=function(t,e){if(!e&&!ge)return!1;var n=!1;try{var r=[7],i=r[pe]();i.next=function(){return{done:n=!0}},r[pe]=function(){return i},t(r)}catch(t){}return n},ye=[].copyWithin||function(t,e){var n=vt(this),r=Z(n.length),i=at(t,r),o=at(e,r),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?r:at(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n},me={f:{}.propertyIsEnumerable},xe=Object.getOwnPropertyDescriptor,_e={f:g?xe:function(t,e){if(t=rt(t),e=_(e,!0),x)try{return xe(t,e)}catch(t){}if(A(t,e))return S(!me.f.call(t,e),t[e])}},we=n(function(t){if(g){var e=r,n=p,i=N,o=U,s=bt,l=D,u=q,h=S,c=k,d=V,v=X,y=Z,m=Q,x=at,w=_,M=A,I=Pt,T=f,E=vt,z=Bt,L=Yt,O=Kt,P=gt.f,F=Qt,R=C,B=mt,W=ne,j=st,G=kt,H=de,Y=Ft,$=ve,K=At,J=yt,tt=ye,et=b,nt=_e,rt=et.f,it=nt.f,ot=e.RangeError,lt=e.TypeError,ut=e.Uint8Array,ht=Array.prototype,ct=s.ArrayBuffer,ft=s.DataView,dt=W(0),pt=W(2),xt=W(3),_t=W(4),wt=W(5),St=W(6),Mt=j(!0),It=j(!1),Tt=H.values,Ct=H.keys,Et=H.entries,zt=ht.lastIndexOf,Lt=ht.reduce,Ot=ht.reduceRight,Dt=ht.join,Nt=ht.sort,Rt=ht.slice,Wt=ht.toString,jt=ht.toLocaleString,Gt=B("iterator"),Ht=B("toStringTag"),Ut=R("typed_constructor"),Vt=R("def_constructor"),qt=o.CONSTR,$t=o.TYPED,Xt=o.VIEW,Zt=W(1,function(t,e){return ie(G(t,t[Vt]),e)}),Jt=n(function(){return 1===new ut(new Uint16Array([1]).buffer)[0]}),te=!!ut&&!!ut.prototype.set&&n(function(){new ut(1).set({})}),ee=function(t,e){var n=v(t);if(n<0||n%e)throw ot("Wrong offset!");return n},re=function(t){if(T(t)&&$t in t)return t;throw lt(t+" is not a typed array!")},ie=function(t,e){if(!(T(t)&&Ut in t))throw lt("It is not a typed array constructor!");return new t(e)},oe=function(t,e){return ae(G(t,t[Vt]),e)},ae=function(t,e){for(var n=0,r=e.length,i=ie(t,r);r>n;)i[n]=e[n++];return i},se=function(t,e,n){rt(t,e,{get:function(){return this._d[n]}})},le=function(t){var e,n,r,i,o,a,s=E(t),u=arguments.length,h=u>1?arguments[1]:void 0,c=void 0!==h,f=F(s);if(void 0!=f&&!z(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(c&&u>2&&(h=l(h,arguments[2],2)),e=0,n=y(s.length),i=ie(this,n);n>e;e++)i[e]=c?h(s[e],e):s[e];return i},ue=function(){for(var t=0,e=arguments.length,n=ie(this,e);e>t;)n[t]=arguments[t++];return n},he=!!ut&&n(function(){jt.call(new ut(1))}),ce=function(){return jt.apply(he?Rt.call(re(this)):re(this),arguments)},fe={copyWithin:function(t,e){return tt.call(re(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return _t(re(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return J.apply(re(this),arguments)},filter:function(t){return oe(this,pt(re(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return wt(re(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return St(re(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){dt(re(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return It(re(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return Mt(re(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return Dt.apply(re(this),arguments)},lastIndexOf:function(t){return zt.apply(re(this),arguments)},map:function(t){return Zt(re(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return Lt.apply(re(this),arguments)},reduceRight:function(t){return Ot.apply(re(this),arguments)},reverse:function(){for(var t,e=re(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return xt(re(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return Nt.call(re(this),t)},subarray:function(t,e){var n=re(this),r=n.length,i=x(t,r);return new(G(n,n[Vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((void 0===e?r:x(e,r))-i))}},pe=function(t,e){return oe(this,Rt.call(re(this),t,e))},ge=function(t){re(this);var e=ee(arguments[1],1),n=this.length,r=E(t),i=y(r.length),o=0;if(i+e>n)throw ot("Wrong length!");for(;o<i;)this[e+o]=r[o++]},me={entries:function(){return Et.call(re(this))},keys:function(){return Ct.call(re(this))},values:function(){return Tt.call(re(this))}},xe=function(t,e){return T(t)&&t[$t]&&"symbol"!=(void 0===e?"undefined":a(e))&&e in t&&String(+e)==String(e)},we=function(t,e){return xe(t,e=w(e,!0))?h(2,t[e]):it(t,e)},be=function(t,e,n){return!(xe(t,e=w(e,!0))&&T(n)&&M(n,"value"))||M(n,"get")||M(n,"set")||n.configurable||M(n,"writable")&&!n.writable||M(n,"enumerable")&&!n.enumerable?rt(t,e,n):(t[e]=n.value,t)};qt||(nt.f=we,et.f=be),i(i.S+i.F*!qt,"Object",{getOwnPropertyDescriptor:we,defineProperty:be}),n(function(){Wt.call({})})&&(Wt=jt=function(){return Dt.call(this)});var Se=d({},fe);d(Se,me),c(Se,Gt,me.values),d(Se,{slice:pe,set:ge,constructor:function(){},toString:Wt,toLocaleString:ce}),se(Se,"buffer","b"),se(Se,"byteOffset","o"),se(Se,"byteLength","l"),se(Se,"length","e"),rt(Se,Ht,{get:function(){return this[$t]}}),t.exports=function(t,r,a,s){var l=t+((s=!!s)?"Clamped":"")+"Array",h="get"+t,f="set"+t,d=e[l],p=d||{},g=d&&O(d),v=!d||!o.ABV,x={},_=d&&d.prototype,w=function(t,e){rt(t,e,{get:function(){return function(t,e){var n=t._d;return n.v[h](e*r+n.o,Jt)}(this,e)},set:function(t){return function(t,e,n){var i=t._d;s&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[f](e*r+i.o,n,Jt)}(this,e,t)},enumerable:!0})};v?(d=a(function(t,e,n,i){u(t,d,l,"_d");var o,a,s,h,f=0,p=0;if(T(e)){if(!(e instanceof ct||"ArrayBuffer"==(h=I(e))||"SharedArrayBuffer"==h))return $t in e?ae(d,e):le.call(d,e);o=e,p=ee(n,r);var g=e.byteLength;if(void 0===i){if(g%r)throw ot("Wrong length!");if((a=g-p)<0)throw ot("Wrong length!")}else if((a=y(i)*r)+p>g)throw ot("Wrong length!");s=a/r}else s=m(e),o=new ct(a=s*r);for(c(t,"_d",{b:o,o:p,l:a,e:s,v:new ft(o)});f<s;)w(t,f++)}),_=d.prototype=L(Se),c(_,"constructor",d)):n(function(){d(1)})&&n(function(){new d(-1)})&&$(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=a(function(t,e,n,i){var o;return u(t,d,l),T(e)?e instanceof ct||"ArrayBuffer"==(o=I(e))||"SharedArrayBuffer"==o?void 0!==i?new p(e,ee(n,r),i):void 0!==n?new p(e,ee(n,r)):new p(e):$t in e?ae(d,e):le.call(d,e):new p(m(e))}),dt(g!==Function.prototype?P(p).concat(P(g)):P(p),function(t){t in d||c(d,t,p[t])}),d.prototype=_,_.constructor=d);var b=_[Gt],S=!!b&&("values"==b.name||void 0==b.name),k=me.values;c(d,Ut,!0),c(_,$t,l),c(_,Xt,!0),c(_,Vt,d),(s?new d(1)[Ht]==l:Ht in _)||rt(_,Ht,{get:function(){return l}}),x[l]=d,i(i.G+i.W+i.F*(d!=p),x),i(i.S,l,{BYTES_PER_ELEMENT:r}),i(i.S+i.F*n(function(){p.of.call(d,1)}),l,{from:le,of:ue}),"BYTES_PER_ELEMENT"in _||c(_,"BYTES_PER_ELEMENT",r),i(i.P,l,fe),K(l),i(i.P+i.F*te,l,{set:ge}),i(i.P+i.F*!S,l,me),_.toString!=Wt&&(_.toString=Wt),i(i.P+i.F*n(function(){new d(1).slice()}),l,{slice:pe}),i(i.P+i.F*(n(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!n(function(){_.toLocaleString.call([1,2])})),l,{toLocaleString:ce}),Y[l]=S?b:k,S||c(_,Gt,k)}}else t.exports=function(){}});we("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0),we("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),we("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}});var be=function(t,e,n,r){try{return r?e(d(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&d(i.call(t)),e}},Se=n(function(t){var e={},n={},r=t.exports=function(t,r,i,o,a){var s,l,u,h,c=a?function(){return t}:Qt(t),f=D(i,o,r?2:1),p=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(Bt(c)){for(s=Z(t.length);s>p;p++)if((h=r?f(d(l=t[p])[0],l[1]):f(t[p]))===e||h===n)return h}else for(u=c.call(t);!(l=u.next()).done;)if((h=be(u,f,l.value,r))===e||h===n)return h};r.BREAK=e,r.RETURN=n}),ke=n(function(t){var e=C("meta"),n=b.f,r=0,i=Object.isExtensible||function(){return!0},o=!p(function(){return i(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!f(t))return"symbol"==(void 0===t?"undefined":a(t))?t:("string"==typeof t?"S":"P")+t;if(!A(t,e)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!A(t,e)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return o&&l.NEED&&i(t)&&!A(t,e)&&s(t),t}}}),Me=(ke.KEY,ke.NEED,ke.fastKey,ke.getWeak,ke.onFreeze,function(t,e){if(!f(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),Ae=b.f,Ie=ke.fastKey,Te=g?"_s":"size",Ce=function(t,e){var n,r=Ie(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n},Ee={getConstructor:function(t,e,n,r){var i=t(function(t,o){q(t,i,e,"_i"),t._t=e,t._i=Yt(null),t._f=void 0,t._l=void 0,t[Te]=0,void 0!=o&&Se(o,n,t[r],t)});return V(i.prototype,{clear:function(){for(var t=Me(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[Te]=0},delete:function(t){var n=Me(this,e),r=Ce(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[Te]--}return!!r},forEach:function(t){Me(this,e);for(var n,r=D(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!Ce(Me(this,e),t)}}),g&&Ae(i.prototype,"size",{get:function(){return Me(this,e)[Te]}}),i},def:function(t,e,n){var r,i,o=Ce(t,e);return o?o.v=n:(t._l=o={i:i=Ie(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[Te]++,"F"!==i&&(t._i[i]=o)),t},getEntry:Ce,setStrong:function(t,e,n){fe(t,e,function(t,n){this._t=Me(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?ae(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,ae(1))},n?"entries":"values",!n,!0),At(e)}},ze=function(t,e){if(d(t),!f(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Le={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=D(Function.call,_e.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return ze(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:ze},Oe=Le.set,De=function(t,e,n,i,o,a){var s=r[t],l=s,u=o?"set":"add",h=l&&l.prototype,c={},d=function(t){var e=h[t];L(h,t,"delete"==t?function(t){return!(a&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof l&&(a||h.forEach&&!p(function(){(new l).entries().next()}))){var g=new l,v=g[u](a?{}:-0,1)!=g,y=p(function(){g.has(1)}),m=ve(function(t){new l(t)}),x=!a&&p(function(){for(var t=new l,e=5;e--;)t[u](e,e);return!t.has(-0)});m||((l=e(function(e,n){q(e,l,t);var r=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&f(r)&&Oe&&Oe(t,r),t}(new s,e,l);return void 0!=n&&Se(n,o,r[u],r),r})).prototype=h,h.constructor=l),(y||x)&&(d("delete"),d("has"),o&&d("get")),(x||v)&&d(u),a&&h.clear&&delete h.clear}else l=i.getConstructor(e,t,o,u),V(l.prototype,n),ke.NEED=!0;return wt(l,t),c[t]=l,N(N.G+N.W+N.F*(l!=s),c),a||i.setStrong(l,t,o),l},Pe=(De("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=Ee.getEntry(Me(this,"Map"),t);return e&&e.v},set:function(t,e){return Ee.def(Me(this,"Map"),0===t?0:t,e)}},Ee,!0),De("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return Ee.def(Me(this,"Set"),t=0===t?0:t,t)}},Ee),{f:Object.getOwnPropertySymbols}),Fe=Object.assign,Ne=!Fe||p(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Fe({},t)[n]||Object.keys(Fe({},e)).join("")!=r})?function(t,e){for(var n=vt(t),r=arguments.length,i=1,o=Pe.f,a=me.f;r>i;)for(var s,l=et(arguments[i++]),u=o?Wt(l).concat(o(l)):Wt(l),h=u.length,c=0;h>c;)s=u[c++],g&&!a.call(l,s)||(n[s]=l[s]);return n}:Fe,Re=ke.getWeak,Be=ne(5),We=ne(6),je=0,Ge=function(t){return t._l||(t._l=new He)},He=function(){this.a=[]},Ue=function(t,e){return Be(t.a,function(t){return t[0]===e})};He.prototype={get:function(t){var e=Ue(this,t);if(e)return e[1]},has:function(t){return!!Ue(this,t)},set:function(t,e){var n=Ue(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=We(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}};var Ve={getConstructor:function(t,e,n,r){var i=t(function(t,o){q(t,i,e,"_i"),t._t=e,t._i=je++,t._l=void 0,void 0!=o&&Se(o,n,t[r],t)});return V(i.prototype,{delete:function(t){if(!f(t))return!1;var n=Re(t);return!0===n?Ge(Me(this,e)).delete(t):n&&A(n,this._i)&&delete n[this._i]},has:function(t){if(!f(t))return!1;var n=Re(t);return!0===n?Ge(Me(this,e)).has(t):n&&A(n,this._i)}}),i},def:function(t,e,n){var r=Re(d(e),!0);return!0===r?Ge(t).set(e,n):r[t._i]=n,t},ufstore:Ge};n(function(t){var e,n=ne(0),i=Me,o=!r.ActiveXObject&&"ActiveXObject"in r,a=ke.getWeak,s=Object.isExtensible,l=Ve.ufstore,u=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},h={get:function(t){if(f(t)){var e=a(t);return!0===e?l(Me(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return Ve.def(Me(this,"WeakMap"),t,e)}},c=t.exports=De("WeakMap",u,h,Ve,!0,!0);i&&o&&(e=Ve.getConstructor(u,"WeakMap"),Ne(e.prototype,h),ke.NEED=!0,n(["delete","has","get","set"],function(t){var n=c.prototype,r=n[t];L(n,t,function(n,i){if(f(n)&&!s(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))});De("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return Ve.def(Me(this,"WeakSet"),t,!0)}},Ve,!1,!0);var qe=(r.Reflect||{}).apply,Ye=Function.apply;N(N.S+N.F*!p(function(){qe(function(){})}),"Reflect",{apply:function(t,e,n){var r=O(t),i=d(n);return qe?qe(r,e,i):Ye.call(r,e,i)}});var $e=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},Xe=[].slice,Ke={},Ze=Function.bind||function(t){var e=O(this),n=Xe.call(arguments,1),r=function r(){var i=n.concat(Xe.call(arguments));return this instanceof r?function(t,e,n){if(!(e in Ke)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";Ke[e]=Function("F,a","return new F("+r.join(",")+")")}return Ke[e](t,n)}(e,i.length,i):$e(e,i,t)};return f(e.prototype)&&(r.prototype=e.prototype),r},Qe=(r.Reflect||{}).construct,Je=p(function(){function t(){}return!(Qe(function(){},[],t)instanceof t)}),tn=!p(function(){Qe(function(){})});N(N.S+N.F*(Je||tn),"Reflect",{construct:function(t,e){O(t),d(e);var n=arguments.length<3?t:O(arguments[2]);if(tn&&!Je)return Qe(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Ze.apply(t,r))}var i=n.prototype,o=Yt(f(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return f(a)?a:o}}),N(N.S+N.F*p(function(){Reflect.defineProperty(b.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){d(t),e=_(e,!0),d(n);try{return b.f(t,e,n),!0}catch(t){return!1}}});var en=_e.f;N(N.S,"Reflect",{deleteProperty:function(t,e){var n=en(d(t),e);return!(n&&!n.configurable)&&delete t[e]}}),N(N.S,"Reflect",{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return d(e)===o?e[n]:(r=_e.f(e,n))?A(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:f(i=Kt(e))?t(i,n,o):void 0}}),N(N.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return _e.f(d(t),e)}}),N(N.S,"Reflect",{getPrototypeOf:function(t){return Kt(d(t))}}),N(N.S,"Reflect",{has:function(t,e){return e in t}});var nn=Object.isExtensible;N(N.S,"Reflect",{isExtensible:function(t){return d(t),!nn||nn(t)}});var rn=r.Reflect,on=rn&&rn.ownKeys||function(t){var e=gt.f(d(t)),n=Pe.f;return n?e.concat(n(t)):e};N(N.S,"Reflect",{ownKeys:on});var an=Object.preventExtensions;N(N.S,"Reflect",{preventExtensions:function(t){d(t);try{return an&&an(t),!0}catch(t){return!1}}}),N(N.S,"Reflect",{set:function t(e,n,r){var i,o,a=arguments.length<4?e:arguments[3],s=_e.f(d(e),n);if(!s){if(f(o=Kt(e)))return t(o,n,r,a);s=S(0)}if(A(s,"value")){if(!1===s.writable||!f(a))return!1;if(i=_e.f(a,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,b.f(a,n,i)}else b.f(a,n,S(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}}),Le&&N(N.S,"Reflect",{setPrototypeOf:function(t,e){Le.check(t,e);try{return Le.set(t,e),!0}catch(t){return!1}}});var sn,ln,un,hn=r.process,cn=r.setImmediate,fn=r.clearImmediate,dn=r.MessageChannel,pn=r.Dispatch,gn=0,vn={},yn=function(){var t=+this;if(vn.hasOwnProperty(t)){var e=vn[t];delete vn[t],e()}},mn=function(t){yn.call(t.data)};cn&&fn||(cn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return vn[++gn]=function(){$e("function"==typeof t?t:Function(t),e)},sn(gn),gn},fn=function(t){delete vn[t]},"process"==tt(hn)?sn=function(t){hn.nextTick(D(yn,t,1))}:pn&&pn.now?sn=function(t){pn.now(D(yn,t,1))}:dn?(un=(ln=new dn).port2,ln.port1.onmessage=mn,sn=D(un.postMessage,un,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(sn=function(t){r.postMessage(t+"","*")},r.addEventListener("message",mn,!1)):sn="onreadystatechange"in m("script")?function(t){Ht.appendChild(m("script")).onreadystatechange=function(){Ht.removeChild(this),yn.call(t)}}:function(t){setTimeout(D(yn,t,1),0)});var xn={set:cn,clear:fn},_n=xn.set,wn=r.MutationObserver||r.WebKitMutationObserver,bn=r.process,Sn=r.Promise,kn="process"==tt(bn);var Mn,An,In,Tn,Cn={f:function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=O(e),this.reject=O(n)}(t)}},En=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},zn=r.navigator,Ln=zn&&zn.userAgent||"",On=xn.set,Dn=function(){var t,e,n,i=function(){var r,i;for(kn&&(r=bn.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(kn)n=function(){bn.nextTick(i)};else if(!wn||r.navigator&&r.navigator.standalone)if(Sn&&Sn.resolve){var o=Sn.resolve(void 0);n=function(){o.then(i)}}else n=function(){_n.call(r,i)};else{var a=!0,s=document.createTextNode("");new wn(i).observe(s,{characterData:!0}),n=function(){s.data=a=!a}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),Pn=r.TypeError,Fn=r.process,Nn=Fn&&Fn.versions,Rn=Nn&&Nn.v8||"",Bn=r.Promise,Wn="process"==Pt(Fn),jn=function(){},Gn=An=Cn.f,Hn=!!function(){try{var t=Bn.resolve(1),e=(t.constructor={})[mt("species")]=function(t){t(jn,jn)};return(Wn||"function"==typeof PromiseRejectionEvent)&&t.then(jn)instanceof e&&0!==Rn.indexOf("6.6")&&-1===Ln.indexOf("Chrome/66")}catch(t){}}(),Un=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},Vn=function(t,e){if(!t._n){t._n=!0;var n=t._c;Dn(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,l=e.resolve,u=e.reject,h=e.domain;try{s?(i||(2==t._h&&$n(t),t._h=1),!0===s?n=r:(h&&h.enter(),n=s(r),h&&(h.exit(),a=!0)),n===e.promise?u(Pn("Promise-chain cycle")):(o=Un(n))?o.call(n,l,u):l(n)):u(r)}catch(t){h&&!a&&h.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&qn(t)})}},qn=function(t){On.call(r,function(){var e,n,i,o=t._v,a=Yn(t);if(a&&(e=En(function(){Wn?Fn.emit("unhandledRejection",o,t):(n=r.onunhandledrejection)?n({promise:t,reason:o}):(i=r.console)&&i.error}),t._h=Wn||Yn(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},Yn=function(t){return 1!==t._h&&0===(t._a||t._c).length},$n=function(t){On.call(r,function(){var e;Wn?Fn.emit("rejectionHandled",t):(e=r.onrejectionhandled)&&e({promise:t,reason:t._v})})},Xn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Vn(e,!0))},Kn=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw Pn("Promise can't be resolved itself");(n=Un(e))?Dn(function(){var i={_w:r,_d:!1};try{n.call(e,D(t,i,1),D(Xn,i,1))}catch(t){Xn.call(i,t)}}):(r._v=e,r._s=1,Vn(r,!1))}catch(t){Xn.call({_w:r,_d:!1},t)}}};Hn||(Bn=function(t){q(this,Bn,"Promise","_h"),O(t),Mn.call(this);try{t(D(Kn,this,1),D(Xn,this,1))}catch(t){Xn.call(this,t)}},(Mn=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=V(Bn.prototype,{then:function(t,e){var n=Gn(kt(this,Bn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Wn?Fn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Vn(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),In=function(){var t=new Mn;this.promise=t,this.resolve=D(Kn,t,1),this.reject=D(Xn,t,1)},Cn.f=Gn=function(t){return t===Bn||t===Tn?new In(t):An(t)}),N(N.G+N.W+N.F*!Hn,{Promise:Bn}),wt(Bn,"Promise"),At("Promise"),Tn=o.Promise,N(N.S+N.F*!Hn,"Promise",{reject:function(t){var e=Gn(this);return(0,e.reject)(t),e.promise}}),N(N.S+N.F*!Hn,"Promise",{resolve:function(t){return function(t,e){if(d(t),f(e)&&e.constructor===t)return e;var n=Cn.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),N(N.S+N.F*!(Hn&&ve(function(t){Bn.all(t).catch(jn)})),"Promise",{all:function(t){var e=this,n=Gn(e),r=n.resolve,i=n.reject,o=En(function(){var n=[],o=0,a=1;Se(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=Gn(e),r=n.reject,i=En(function(){Se(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}});var Zn={f:mt},Qn=b.f,Jn=function(t){var e=o.Symbol||(o.Symbol=r.Symbol||{});"_"==t.charAt(0)||t in e||Qn(e,t,{value:Zn.f(t)})},tr=gt.f,er={}.toString,nr="object"==("undefined"==typeof window?"undefined":a(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],rr={f:function(t){return nr&&"[object Window]"==er.call(t)?function(t){try{return tr(t)}catch(t){return nr.slice()}}(t):tr(rt(t))}},ir=ke.KEY,or=_e.f,ar=b.f,sr=rr.f,lr=r.Symbol,ur=r.JSON,hr=ur&&ur.stringify,cr=mt("_hidden"),fr=mt("toPrimitive"),dr={}.propertyIsEnumerable,pr=E("symbol-registry"),gr=E("symbols"),vr=E("op-symbols"),yr=Object.prototype,mr="function"==typeof lr&&!!Pe.f,xr=r.QObject,_r=!xr||!xr.prototype||!xr.prototype.findChild,wr=g&&p(function(){return 7!=Yt(ar({},"a",{get:function(){return ar(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=or(yr,e);r&&delete yr[e],ar(t,e,n),r&&t!==yr&&ar(yr,e,r)}:ar,br=function(t){var e=gr[t]=Yt(lr.prototype);return e._k=t,e},Sr=mr&&"symbol"==a(lr.iterator)?function(t){return"symbol"==(void 0===t?"undefined":a(t))}:function(t){return t instanceof lr},kr=function(t,e,n){return t===yr&&kr(vr,e,n),d(t),e=_(e,!0),d(n),A(gr,e)?(n.enumerable?(A(t,cr)&&t[cr][e]&&(t[cr][e]=!1),n=Yt(n,{enumerable:S(0,!1)})):(A(t,cr)||ar(t,cr,S(1,{})),t[cr][e]=!0),wr(t,e,n)):ar(t,e,n)},Mr=function(t,e){d(t);for(var n,r=function(t){var e=Wt(t),n=Pe.f;if(n)for(var r,i=n(t),o=me.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=rt(e)),i=0,o=r.length;o>i;)kr(t,n=r[i++],e[n]);return t},Ar=function(t){var e=dr.call(this,t=_(t,!0));return!(this===yr&&A(gr,t)&&!A(vr,t))&&(!(e||!A(this,t)||!A(gr,t)||A(this,cr)&&this[cr][t])||e)},Ir=function(t,e){if(t=rt(t),e=_(e,!0),t!==yr||!A(gr,e)||A(vr,e)){var n=or(t,e);return!n||!A(gr,e)||A(t,cr)&&t[cr][e]||(n.enumerable=!0),n}},Tr=function(t){for(var e,n=sr(rt(t)),r=[],i=0;n.length>i;)A(gr,e=n[i++])||e==cr||e==ir||r.push(e);return r},Cr=function(t){for(var e,n=t===yr,r=sr(n?vr:rt(t)),i=[],o=0;r.length>o;)!A(gr,e=r[o++])||n&&!A(yr,e)||i.push(gr[e]);return i};mr||(L((lr=function(){if(this instanceof lr)throw TypeError("Symbol is not a constructor!");var t=C(arguments.length>0?arguments[0]:void 0);return g&&_r&&wr(yr,t,{configurable:!0,set:function e(n){this===yr&&e.call(vr,n),A(this,cr)&&A(this[cr],t)&&(this[cr][t]=!1),wr(this,t,S(1,n))}}),br(t)}).prototype,"toString",function(){return this._k}),_e.f=Ir,b.f=kr,gt.f=rr.f=Tr,me.f=Ar,Pe.f=Cr,g&&L(yr,"propertyIsEnumerable",Ar,!0),Zn.f=function(t){return br(mt(t))}),N(N.G+N.W+N.F*!mr,{Symbol:lr});for(var Er="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),zr=0;Er.length>zr;)mt(Er[zr++]);for(var Lr=Wt(mt.store),Or=0;Lr.length>Or;)Jn(Lr[Or++]);N(N.S+N.F*!mr,"Symbol",{for:function(t){return A(pr,t+="")?pr[t]:pr[t]=lr(t)},keyFor:function(t){if(!Sr(t))throw TypeError(t+" is not a symbol!");for(var e in pr)if(pr[e]===t)return e},useSetter:function(){_r=!0},useSimple:function(){_r=!1}}),N(N.S+N.F*!mr,"Object",{create:function(t,e){return void 0===e?Yt(t):Mr(Yt(t),e)},defineProperty:kr,defineProperties:Mr,getOwnPropertyDescriptor:Ir,getOwnPropertyNames:Tr,getOwnPropertySymbols:Cr});var Dr=p(function(){Pe.f(1)});N(N.S+N.F*Dr,"Object",{getOwnPropertySymbols:function(t){return Pe.f(vt(t))}}),ur&&N(N.S+N.F*(!mr||p(function(){var t=lr();return"[null]"!=hr([t])||"{}"!=hr({a:t})||"{}"!=hr(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(f(e)||void 0!==t)&&!Sr(t))return Jt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Sr(e))return e}),r[1]=e,hr.apply(ur,r)}}),lr.prototype[fr]||k(lr.prototype,fr,lr.prototype.valueOf),wt(lr,"Symbol"),wt(Math,"Math",!0),wt(r.JSON,"JSON",!0);var Pr=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),N(N.S+N.F*p(function(){n(1)}),"Object",r)},Fr=ke.onFreeze;Pr("freeze",function(t){return function(e){return t&&f(e)?t(Fr(e)):e}});var Nr=ke.onFreeze;Pr("seal",function(t){return function(e){return t&&f(e)?t(Nr(e)):e}});var Rr=ke.onFreeze;Pr("preventExtensions",function(t){return function(e){return t&&f(e)?t(Rr(e)):e}}),Pr("isFrozen",function(t){return function(e){return!f(e)||!!t&&t(e)}}),Pr("isSealed",function(t){return function(e){return!f(e)||!!t&&t(e)}}),Pr("isExtensible",function(t){return function(e){return!!f(e)&&(!t||t(e))}});var Br=_e.f;Pr("getOwnPropertyDescriptor",function(){return function(t,e){return Br(rt(t),e)}}),Pr("getPrototypeOf",function(){return function(t){return Kt(vt(t))}}),Pr("keys",function(){return function(t){return Wt(vt(t))}}),Pr("getOwnPropertyNames",function(){return rr.f}),N(N.S+N.F,"Object",{assign:Ne});var Wr=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};N(N.S,"Object",{is:Wr}),N(N.S,"Object",{setPrototypeOf:Le.set});var jr=b.f,Gr=Function.prototype,Hr=/^\s*function ([^ (]*)/;"name"in Gr||g&&jr(Gr,"name",{configurable:!0,get:function(){try{return(""+this).match(Hr)[1]}catch(t){return""}}}),N(N.S,"String",{raw:function(t){for(var e=rt(t.raw),n=Z(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var Ur=String.fromCharCode,Vr=String.fromCodePoint;N(N.S+N.F*(!!Vr&&1!=Vr.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],at(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Ur(e):Ur(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}});var qr=function(t){return function(e,n){var r,i,o=String(nt(e)),a=X(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Yr=qr(!1);N(N.P,"String",{codePointAt:function(t){return Yr(this,t)}});var $r=function(t){var e=String(nt(this)),n="",r=X(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n};N(N.P,"String",{repeat:$r});var Xr=mt("match"),Kr=function(t){var e;return f(t)&&(void 0!==(e=t[Xr])?!!e:"RegExp"==tt(t))},Zr=function(t,e,n){if(Kr(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(nt(t))},Qr=mt("match"),Jr=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Qr]=!1,!"/./"[t](e)}catch(t){}}return!0},ti="".startsWith;N(N.P+N.F*Jr("startsWith"),"String",{startsWith:function(t){var e=Zr(this,t,"startsWith"),n=Z(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return ti?ti.call(e,r,n):e.slice(n,n+r.length)===r}});var ei="".endsWith;N(N.P+N.F*Jr("endsWith"),"String",{endsWith:function(t){var e=Zr(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=Z(e.length),i=void 0===n?r:Math.min(Z(n),r),o=String(t);return ei?ei.call(e,o,i):e.slice(i-o.length,i)===o}});N(N.P+N.F*Jr("includes"),"String",{includes:function(t){return!!~Zr(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var ni=function(){var t=d(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};g&&"g"!=/./g.flags&&b.f(RegExp.prototype,"flags",{configurable:!0,get:ni});var ri,ii,oi=qr(!0),ai=function(t,e,n){return e+(n?oi(t,e).length:1)},si=RegExp.prototype.exec,li=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!==(void 0===r?"undefined":a(r)))throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Pt(t))throw new TypeError("RegExp#exec called on incompatible receiver");return si.call(t,e)},ui=RegExp.prototype.exec,hi=String.prototype.replace,ci=ui,fi=(ri=/a/,ii=/b*/g,ui.call(ri,"a"),ui.call(ii,"a"),0!==ri.lastIndex||0!==ii.lastIndex),di=void 0!==/()??/.exec("")[1];(fi||di)&&(ci=function(t){var e,n,r,i,o=this;return di&&(n=new RegExp("^"+o.source+"$(?!\\s)",ni.call(o))),fi&&(e=o.lastIndex),r=ui.call(o,t),fi&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),di&&r&&r.length>1&&hi.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var pi=ci;N({target:"RegExp",proto:!0,forced:pi!==/./.exec},{exec:pi});var gi=mt("species"),vi=!p(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),yi=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),mi=function(t,e,n){var r=mt(t),i=!p(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)}),o=i?!p(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[gi]=function(){return n}),n[r](""),!e}):void 0;if(!i||!o||"replace"===t&&!vi||"split"===t&&!yi){var a=/./[r],s=n(nt,r,""[t],function(t,e,n,r,o){return e.exec===pi?i&&!o?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),l=s[0],u=s[1];L(String.prototype,t,l),k(RegExp.prototype,r,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}};mi("match",1,function(t,e,n,r){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=r(n,t,this);if(e.done)return e.value;var i=d(t),o=String(this);if(!i.global)return li(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],u=0;null!==(s=li(i,o));){var h=String(s[0]);l[u]=h,""===h&&(i.lastIndex=ai(o,Z(i.lastIndex),a)),u++}return 0===u?null:l}]});var xi=Math.max,_i=Math.min,wi=Math.floor,bi=/\$([$&`']|\d\d?|<[^>]*>)/g,Si=/\$([$&`']|\d\d?)/g;mi("replace",2,function(t,e,n,r){return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var o=r(n,t,this,e);if(o.done)return o.value;var a=d(t),s=String(this),l="function"==typeof e;l||(e=String(e));var u=a.global;if(u){var h=a.unicode;a.lastIndex=0}for(var c=[];;){var f=li(a,s);if(null===f)break;if(c.push(f),!u)break;""===String(f[0])&&(a.lastIndex=ai(s,Z(a.lastIndex),h))}for(var p,g="",v=0,y=0;y<c.length;y++){f=c[y];for(var m=String(f[0]),x=xi(_i(X(f.index),s.length),0),_=[],w=1;w<f.length;w++)_.push(void 0===(p=f[w])?p:String(p));var b=f.groups;if(l){var S=[m].concat(_,x,s);void 0!==b&&S.push(b);var k=String(e.apply(void 0,S))}else k=i(m,s,x,_,b,e);x>=v&&(g+=s.slice(v,x)+k,v=x+m.length)}return g+s.slice(v)}];function i(t,e,r,i,o,a){var s=r+t.length,l=i.length,u=Si;return void 0!==o&&(o=vt(o),u=bi),n.call(a,u,function(n,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var h=+a;if(0===h)return n;if(h>l){var c=wi(h/10);return 0===c?n:c<=l?void 0===i[c-1]?a.charAt(1):i[c-1]+a.charAt(1):n}u=i[h-1]}return void 0===u?"":u})}});var ki=Math.min,Mi=[].push,Ai=!p(function(){});mi("split",2,function(t,e,n,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!Kr(t))return n.call(r,t,e);for(var i,o,a,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,h=void 0===e?4294967295:e>>>0,c=new RegExp(t.source,l+"g");(i=pi.call(c,r))&&!((o=c.lastIndex)>u&&(s.push(r.slice(u,i.index)),i.length>1&&i.index<r.length&&Mi.apply(s,i.slice(1)),a=i[0].length,u=o,s.length>=h));)c.lastIndex===i.index&&c.lastIndex++;return u===r.length?!a&&c.test("")||s.push(""):s.push(r.slice(u)),s.length>h?s.slice(0,h):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},function(t,e){var o=r(i,t,this,e,i!==n);if(o.done)return o.value;var a=d(t),s=String(this),l=kt(a,RegExp),u=a.unicode,h=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ai?"y":"g"),c=new l(Ai?a:"^(?:"+a.source+")",h),f=void 0===e?4294967295:e>>>0;if(0===f)return[];if(0===s.length)return null===li(c,s)?[s]:[];for(var p=0,g=0,v=[];g<s.length;){c.lastIndex=Ai?g:0;var y,m=li(c,Ai?s:s.slice(g));if(null===m||(y=ki(Z(c.lastIndex+(Ai?0:g)),s.length))===p)g=ai(s,g,u);else{if(v.push(s.slice(p,g)),v.length===f)return v;for(var x=1;x<=m.length-1;x++)if(v.push(m[x]),v.length===f)return v;g=p=y}}return v.push(s.slice(p)),v}]}),mi("search",1,function(t,e,n,r){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=r(n,t,this);if(e.done)return e.value;var i=d(t),o=String(this),a=i.lastIndex;Wr(a,0)||(i.lastIndex=0);var s=li(i,o);return Wr(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]});var Ii=function(t,e,n){e in t?b.f(t,e,S(0,n)):t[e]=n};N(N.S+N.F*!ve(function(t){}),"Array",{from:function(t){var e,n,r,i,o=vt(t),a="function"==typeof this?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,u=void 0!==l,h=0,c=Qt(o);if(u&&(l=D(l,s>2?arguments[2]:void 0,2)),void 0==c||a==Array&&Bt(c))for(n=new a(e=Z(o.length));e>h;h++)Ii(n,h,u?l(o[h],h):o[h]);else for(i=c.call(o),n=new a;!(r=i.next()).done;h++)Ii(n,h,u?be(i,l,[r.value,h],!0):r.value);return n.length=h,n}}),N(N.S+N.F*p(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Ii(n,t,arguments[t++]);return n.length=e,n}}),N(N.P,"Array",{copyWithin:ye}),oe("copyWithin");var Ti=ne(5),Ci=!0;"find"in[]&&Array(1).find(function(){Ci=!1}),N(N.P+N.F*Ci,"Array",{find:function(t){return Ti(this,t,arguments.length>1?arguments[1]:void 0)}}),oe("find");var Ei=ne(6),zi=!0;"findIndex"in[]&&Array(1).findIndex(function(){zi=!1}),N(N.P+N.F*zi,"Array",{findIndex:function(t){return Ei(this,t,arguments.length>1?arguments[1]:void 0)}}),oe("findIndex"),N(N.P,"Array",{fill:yt}),oe("fill");var Li=r.isFinite;N(N.S,"Number",{isFinite:function(t){return"number"==typeof t&&Li(t)}});var Oi=Math.floor,Di=function(t){return!f(t)&&isFinite(t)&&Oi(t)===t};N(N.S,"Number",{isInteger:Di});var Pi=Math.abs;N(N.S,"Number",{isSafeInteger:function(t){return Di(t)&&Pi(t)<=9007199254740991}}),N(N.S,"Number",{isNaN:function(t){return t!=t}}),N(N.S,"Number",{EPSILON:Math.pow(2,-52)}),N(N.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991}),N(N.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});var Fi=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)},Ni=Math.sqrt,Ri=Math.acosh;N(N.S+N.F*!(Ri&&710==Math.floor(Ri(Number.MAX_VALUE))&&Ri(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:Fi(t-1+Ni(t-1)*Ni(t+1))}});var Bi=Math.asinh;N(N.S+N.F*!(Bi&&1/Bi(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}});var Wi=Math.atanh;N(N.S+N.F*!(Wi&&1/Wi(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}});var ji=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};N(N.S,"Math",{cbrt:function(t){return ji(t=+t)*Math.pow(Math.abs(t),1/3)}}),N(N.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var Gi=Math.exp;N(N.S,"Math",{cosh:function(t){return(Gi(t=+t)+Gi(-t))/2}});var Hi=Math.expm1,Ui=!Hi||Hi(10)>22025.465794806718||Hi(10)<22025.465794806718||-2e-17!=Hi(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:Hi;N(N.S+N.F*(Ui!=Math.expm1),"Math",{expm1:Ui});var Vi=Math.pow,qi=Vi(2,-52),Yi=Vi(2,-23),$i=Vi(2,127)*(2-Yi),Xi=Vi(2,-126),Ki=Math.fround||function(t){var e,n,r=Math.abs(t),i=ji(t);return r<Xi?i*(r/Xi/Yi+1/qi-1/qi)*Xi*Yi:(n=(e=(1+Yi/qi)*r)-(e-r))>$i||n!=n?i*(1/0):i*n};N(N.S,"Math",{fround:Ki});var Zi=Math.abs;N(N.S,"Math",{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=Zi(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}});var Qi=Math.imul;N(N.S+N.F*p(function(){return-5!=Qi(4294967295,5)||2!=Qi.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}}),N(N.S,"Math",{log1p:Fi}),N(N.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}}),N(N.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}}),N(N.S,"Math",{sign:ji});var Ji=Math.exp;N(N.S+N.F*p(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(Ui(t)-Ui(-t))/2:(Ji(t-1)-Ji(-t-1))*(Math.E/2)}});var to=Math.exp;N(N.S,"Math",{tanh:function(t){var e=Ui(t=+t),n=Ui(-t);return e==1/0?1:n==1/0?-1:(e-n)/(to(t)+to(-t))}}),N(N.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}});var eo=st(!0);N(N.P,"Array",{includes:function(t){return eo(this,t,arguments.length>1?arguments[1]:void 0)}}),oe("includes");var no=me.f,ro=function(t){return function(e){for(var n,r=rt(e),i=Wt(r),o=i.length,a=0,s=[];o>a;)n=i[a++],g&&!no.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}},io=ro(!1);N(N.S,"Object",{values:function(t){return io(t)}});var oo=ro(!0);N(N.S,"Object",{entries:function(t){return oo(t)}}),N(N.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=rt(t),i=_e.f,o=on(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&Ii(a,e,n);return a}});var ao=function(t,e,n,r){var i=String(nt(t)),o=i.length,a=void 0===n?" ":String(n),s=Z(e);if(s<=o||""==a)return i;var l=s-o,u=$r.call(a,Math.ceil(l/a.length));return u.length>l&&(u=u.slice(0,l)),r?u+i:i+u},so=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Ln);N(N.P+N.F*so,"String",{padStart:function(t){return ao(this,t,arguments.length>1?arguments[1]:void 0,!0)}});var lo=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Ln);N(N.P+N.F*lo,"String",{padEnd:function(t){return ao(this,t,arguments.length>1?arguments[1]:void 0,!1)}});var uo=[].slice,ho=/MSIE .\./.test(Ln),co=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&uo.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};N(N.G+N.B+N.F*ho,{setTimeout:co(r.setTimeout),setInterval:co(r.setInterval)}),N(N.G+N.B,{setImmediate:xn.set,clearImmediate:xn.clear});for(var fo=mt("iterator"),po=mt("toStringTag"),go=Ft.Array,vo={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},yo=Wt(vo),mo=0;mo<yo.length;mo++){var xo,_o=yo[mo],wo=vo[_o],bo=r[_o],So=bo&&bo.prototype;if(So&&(So[fo]||k(So,fo,go),So[po]||k(So,po,_o),Ft[_o]=go,wo))for(xo in de)So[xo]||L(So,xo,de[xo],!0)}n(function(t){!function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",h=e.regeneratorRuntime;if(h)t.exports=h;else{(h=e.regeneratorRuntime=t.exports).wrap=_;var c="suspendedStart",f="suspendedYield",d="executing",p="completed",g={},v={};v[s]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(z([])));m&&m!==r&&i.call(m,s)&&(v=m);var x=k.prototype=b.prototype=Object.create(v);S.prototype=x.constructor=k,k.constructor=S,k[u]=S.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},h.awrap=function(t){return{__await:t}},M(A.prototype),A.prototype[l]=function(){return this},h.AsyncIterator=A,h.async=function(t,e,n,r){var i=new A(_(t,e,n,r));return h.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},M(x),x[u]="Generator",x[s]=function(){return this},x.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},h.values=z,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:z(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function _(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=w(t,e,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function S(){}function k(){}function M(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,s){var l=w(t[n],t,r);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===(void 0===h?"undefined":a(h))&&i.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(h).then(function(t){u.value=t,o(u)},s)}s(l.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function I(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,I(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function z(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())});var ko=2311;function Mo(){return ko++}var Ao="object"===("undefined"==typeof wx?"undefined":a(wx))&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(e.firefox=!0,e.version=n[1]);r&&(e.ie=!0,e.version=r[1]);i&&(e.edge=!0,e.version=i[1]);o&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent);var Io={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},To={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Co=Object.prototype.toString,Eo=Array.prototype,zo=Eo.forEach,Lo=Eo.filter,Oo=Eo.slice,Do=Eo.map,Po=Eo.reduce,Fo={};function No(t,e){"createCanvas"===t&&(Go=null),Fo[t]=e}function Ro(t){if(null==t||"object"!==(void 0===t?"undefined":a(t)))return t;var e=t,n=Co.call(t);if("[object Array]"===n){if(!fa(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=Ro(t[r])}}else if(To[n]){if(!fa(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(r=0,i=t.length;r<i;r++)e[r]=Ro(t[r])}}}else if(!Io[n]&&!fa(t)&&!aa(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=Ro(t[s]));return e}function Bo(t,e,n){if(!ia(e)||!ia(t))return n?Ro(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],o=e[r];!ia(o)||!ia(i)||ea(o)||ea(i)||aa(o)||aa(i)||oa(o)||oa(i)||fa(o)||fa(i)?!n&&r in t||(t[r]=Ro(e[r])):Bo(i,o,n)}return t}function Wo(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function jo(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var Go,Ho=function(){return Fo.createCanvas()};function Uo(){return Go||(Go=Ho().getContext("2d")),Go}function Vo(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function qo(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e}function Yo(t,e,n){jo(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function $o(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function Xo(t,e,n){if(t&&e)if(t.forEach&&t.forEach===zo)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function Ko(t,e,n){if(t&&e){if(t.map&&t.map===Do)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}}function Zo(t,e,n){if(t&&e){if(t.filter&&t.filter===Lo)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function Qo(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function Jo(t,e){var n=Oo.call(arguments,2);return function(){return t.apply(e,n.concat(Oo.call(arguments)))}}function ta(t){var e=Oo.call(arguments,1);return function(){return t.apply(this,e.concat(Oo.call(arguments)))}}function ea(t){return"[object Array]"===Co.call(t)}function na(t){return"function"==typeof t}function ra(t){return"[object String]"===Co.call(t)}function ia(t){var e=void 0===t?"undefined":a(t);return"function"===e||!!t&&"object"===e}function oa(t){return!!Io[Co.call(t)]}function aa(t){return"object"===(void 0===t?"undefined":a(t))&&"number"==typeof t.nodeType&&"object"===a(t.ownerDocument)}function sa(t,e){return null!=t?t:e}function la(t,e,n){return null!=t?t:null!=e?e:n}function ua(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function ha(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}Fo.createCanvas=function(){return document.createElement("canvas")};var ca="__ec_primitive__";function fa(t){return t[ca]}function da(t){var e=ea(t);this.data={};var n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof da?t.each(r):t&&Xo(t,r)}da.prototype={constructor:da,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=Jo(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}};var pa="undefined"==typeof Float32Array?Array:Float32Array;function ga(t,e){var n=new pa(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function va(t){var e=new pa(2);return e[0]=t[0],e[1]=t[1],e}function ya(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ma(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function xa(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function _a(t,e){var n=function(t){return Math.sqrt(function(t){return t[0]*t[0]+t[1]*t[1]}(t))}(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function wa(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var ba=wa;var Sa=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function ka(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Ma(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Aa(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function Ia(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function Ta(t,e){return{target:t,topTarget:e&&e.topTarget}}Ia.prototype={constructor:Ia,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(Ta(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.dispatchToElement(Ta(e,t),"drag",t.event);var a=this.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(Ta(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(Ta(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(Ta(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(Ta(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Ca=Array.prototype.slice,Ea=function(t){this._$handlers={},this._$eventProcessor=t};function za(t,e,n,r,i,o){var a=t._$handlers;if("function"==typeof n&&(i=r,r=n,n=null),!r||!e)return t;n=function(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}(t,n),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===r)return t;var l={h:r,one:o,query:n,ctx:i||t,callAtLast:r.zrEventfulCallAtLast},u=a[e].length-1,h=a[e][u];return h&&h.callAtLast?a[e].splice(u,0,l):a[e].push(l),t}Ea.prototype={constructor:Ea,one:function(t,e,n,r){return za(this,t,e,n,r,!0)},on:function(t,e,n,r){return za(this,t,e,n,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,i=r.length;i>3&&(r=Ca.call(r,1));for(var o=e.length,a=0;a<o;){var s=e[a];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))a++;else{switch(i){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,r[1]);break;case 3:s.h.call(s.ctx,r[1],r[2]);break;default:s.h.apply(s.ctx,r)}s.one?(e.splice(a,1),o--):a++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,i=r.length;i>4&&(r=Ca.call(r,1,r.length-1));for(var o=r[r.length-1],a=e.length,s=0;s<a;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(i){case 1:l.h.call(o);break;case 2:l.h.call(o,r[1]);break;case 3:l.h.call(o,r[1],r[2]);break;default:l.h.apply(o,r)}l.one?(e.splice(s,1),a--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var La="undefined"!=typeof window&&!!window.addEventListener,Oa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function Da(t,e,n,r){return n=n||{},r||!Ao.canvasSupported?Pa(t,e,n):Ao.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Pa(t,e,n),n}function Pa(t,e,n){var r=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function Fa(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];i&&Da(t,i,e,n)}else Da(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&Oa.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function Na(t,e,n){La?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}var Ra=La?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Ba=function(){this._track=[]};function Wa(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}Ba.prototype={constructor:Ba,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],l=Da(n,s,{});i.points.push([l.zrX,l.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in ja)if(ja.hasOwnProperty(e)){var n=ja[e](this._track,t);if(n)return n}}};var ja={pinch:function(t,e){var n=t.length;if(n){var r,i=(t[n-1]||{}).points,o=(t[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=Wa(i)/Wa(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},Ga="silent";function Ha(t){Ra(this.event)}function Ua(){}Ua.prototype.dispose=function(){};var Va=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],qa=function(t,e,n,r){Ea.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new Ua,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Ia.call(this),this.setHandlerProxy(n)};function Ya(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||Ga}return!1}qa.prototype={constructor:qa,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(Xo(Va,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(i=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=this.findHover(e,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),i&&a!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==i&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!==n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Ha}}(e,t,n);r&&(r[i]&&(o.cancelBubble=r[i].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},o=r.length-1;o>=0;o--){var a;if(r[o]!==n&&!r[o].ignore&&(a=Ya(r[o],t,e))&&(!i.topTarget&&(i.topTarget=r[o]),a!==Ga)){i.target=r[o];break}}return i},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new Ba);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i,this.dispatchToElement({target:r.target},i,r.event)}}},Xo(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){qa.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||ba(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),Yo(qa,Ea),Yo(qa,Ia);var $a="undefined"==typeof Float32Array?Array:Float32Array;function Xa(){var t=new $a(6);return Ka(t),t}function Ka(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Za(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function Qa(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function Ja(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}var ts=Ka,es=5e-5;function ns(t){return t>es||t<-es}var rs=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},is=rs.prototype;is.transform=null,is.needLocalTransform=function(){return ns(this.rotation)||ns(this.position[0])||ns(this.position[1])||ns(this.scale[0]-1)||ns(this.scale[1]-1)};var os=[];is.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;if(n||e){r=r||Xa(),n?this.getLocalTransform(r):ts(r),e&&(n?Za(r,t.transform,r):function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}(r,t.transform)),this.transform=r;var i,o,a,s,l,u,h,c,f,d=this.globalScaleRatio;if(null!=d&&1!==d){this.getGlobalScale(os);var p=os[0]<0?-1:1,g=os[1]<0?-1:1,v=((os[0]-p)*d+p)/os[0]||0,y=((os[1]-g)*d+g)/os[1]||0;r[0]*=v,r[1]*=v,r[2]*=y,r[3]*=y}this.invTransform=this.invTransform||Xa(),i=this.invTransform,a=(o=r)[0],s=o[2],l=o[4],u=o[1],h=o[3],c=o[5],(f=a*h-u*s)&&(f=1/f,i[0]=h*f,i[1]=-u*f,i[2]=-s*f,i[3]=a*f,i[4]=(s*c-h*l)*f,i[5]=(u*l-a*c)*f)}else r&&ts(r)},is.getLocalTransform=function(t){return rs.getLocalTransform(this,t)},is.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},is.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var as=[],ss=Xa();is.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,i=this.scale;ns(e-1)&&(e=Math.sqrt(e)),ns(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],i[0]=e,i[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},is.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Za(as,t.invTransform,e),e=as);var n=this.origin;n&&(n[0]||n[1])&&(ss[4]=n[0],ss[5]=n[1],Za(as,e,ss),as[4]-=n[0],as[5]-=n[1],e=as),this.setLocalTransform(e)}},is.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},is.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&ka(n,n,r),n},is.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&ka(n,n,r),n},rs.getLocalTransform=function(t,e){ts(e=e||[]);var n,r,i,o,a,s,l,u,h,c,f,d=t.origin,p=t.scale||[1,1],g=t.rotation||0,v=t.position||[0,0];return d&&(e[4]-=d[0],e[5]-=d[1]),Ja(e,e,p),g&&(n=e,i=g,o=(r=e)[0],a=r[2],s=r[4],l=r[1],u=r[3],h=r[5],c=Math.sin(i),f=Math.cos(i),n[0]=o*f+l*c,n[1]=-o*c+l*f,n[2]=a*f+u*c,n[3]=-a*c+f*u,n[4]=f*s+c*h,n[5]=f*h-c*s),d&&(e[4]+=d[0],e[5]+=d[1]),e[4]+=v[0],e[5]+=v[1],e};var ls={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ls.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*ls.bounceIn(2*t):.5*ls.bounceOut(2*t-1)+.5}};function us(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}us.prototype={constructor:us,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?ls[r]:r,o="function"==typeof i?i(n):n;return this.fire("frame",o),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var hs=function(){this.head=null,this.tail=null,this._len=0},cs=hs.prototype;cs.insert=function(t){var e=new fs(t);return this.insertEntry(e),e},cs.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},cs.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},cs.len=function(){return this._len},cs.clear=function(){this.head=this.tail=null,this._len=0};var fs=function(t){this.value=t,this.next,this.prev},ds=function(t){this._list=new hs,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},ps=ds.prototype;ps.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new fs(e),a.key=t,n.insertEntry(a),r[t]=a}return i},ps.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},ps.clear=function(){this._list.clear(),this._map={}};var gs={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function vs(t){return(t=Math.round(t))<0?0:t>255?255:t}function ys(t){return t<0?0:t>1?1:t}function ms(t){return t.length&&"%"===t.charAt(t.length-1)?vs(parseFloat(t)/100*255):vs(parseInt(t,10))}function xs(t){return t.length&&"%"===t.charAt(t.length-1)?ys(parseFloat(t)/100):ys(parseFloat(t))}function _s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function ws(t,e,n){return t+(e-t)*n}function bs(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Ss(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var ks=new ds(20),Ms=null;function As(t,e){Ms&&Ss(Ms,e),Ms=ks.put(t,Ms||e.slice())}function Is(t,e){if(t){e=e||[];var n=ks.get(t);if(n)return Ss(e,n);var r,i=(t+="").replace(/ /g,"").toLowerCase();if(i in gs)return Ss(e,gs[i]),As(t,e),e;if("#"===i.charAt(0))return 4===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=4095?(bs(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),As(t,e),e):void bs(e,0,0,0,1):7===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=16777215?(bs(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),As(t,e),e):void bs(e,0,0,0,1):void 0;var o=i.indexOf("("),a=i.indexOf(")");if(-1!==o&&a+1===i.length){var s=i.substr(0,o),l=i.substr(o+1,a-(o+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return void bs(e,0,0,0,1);u=xs(l.pop());case"rgb":return 3!==l.length?void bs(e,0,0,0,1):(bs(e,ms(l[0]),ms(l[1]),ms(l[2]),u),As(t,e),e);case"hsla":return 4!==l.length?void bs(e,0,0,0,1):(l[3]=xs(l[3]),Ts(l,e),As(t,e),e);case"hsl":return 3!==l.length?void bs(e,0,0,0,1):(Ts(l,e),As(t,e),e);default:return}}bs(e,0,0,0,1)}}function Ts(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=xs(t[1]),i=xs(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return bs(e=e||[],vs(255*_s(a,o,n+1/3)),vs(255*_s(a,o,n)),vs(255*_s(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Cs(t,e){var n=Is(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return Ds(n,4===n.length?"rgba":"rgb")}}function Es(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],l=r-i;return n[0]=vs(ws(a[0],s[0],l)),n[1]=vs(ws(a[1],s[1],l)),n[2]=vs(ws(a[2],s[2],l)),n[3]=ys(ws(a[3],s[3],l)),n}}var zs=Es;function Ls(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=Is(e[i]),s=Is(e[o]),l=r-i,u=Ds([vs(ws(a[0],s[0],l)),vs(ws(a[1],s[1],l)),vs(ws(a[2],s[2],l)),ys(ws(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:i,rightIndex:o,value:r}:u}}var Os=Ls;function Ds(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}var Ps=Object.freeze({parse:Is,lift:Cs,toHex:function(t){var e=Is(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:Es,fastMapToColor:zs,lerp:Ls,mapToColor:Os,modifyHSL:function(t,e,n,r){if(t=Is(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var h=((s-r)/6+l/2)/l,c=((s-i)/6+l/2)/l,f=((s-o)/6+l/2)/l;r===s?e=f-c:i===s?e=1/3+h-f:o===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,u];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(t[1]=xs(n)),null!=r&&(t[2]=xs(r)),Ds(Ts(t),"rgba");var i},modifyAlpha:function(t,e){if((t=Is(t))&&null!=e)return t[3]=ys(e),Ds(t,"rgba")},stringify:Ds}),Fs=Array.prototype.slice;function Ns(t,e){return t[e]}function Rs(t,e,n){t[e]=n}function Bs(t,e,n){return(e-t)*n+t}function Ws(t,e,n){return n>.5?e:t}function js(t,e,n,r,i){var o=t.length;if(1===i)for(var a=0;a<o;a++)r[a]=Bs(t[a],e[a],n);else{var s=o&&t[0].length;for(a=0;a<o;a++)for(var l=0;l<s;l++)r[a][l]=Bs(t[a][l],e[a][l],n)}}function Gs(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(var o=r;o<i;o++)t.push(1===n?e[o]:Fs.call(e[o]));var a=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var s=0;s<a;s++)isNaN(t[o][s])&&(t[o][s]=e[o][s])}function Hs(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var o=t[0].length;for(i=0;i<r;i++)for(var a=0;a<o;a++)if(t[i][a]!==e[i][a])return!1}return!0}function Us(t,e,n,r,i,o,a,s,l){var u=t.length;if(1===l)for(var h=0;h<u;h++)s[h]=Vs(t[h],e[h],n[h],r[h],i,o,a);else{var c=t[0].length;for(h=0;h<u;h++)for(var f=0;f<c;f++)s[h][f]=Vs(t[h][f],e[h][f],n[h][f],r[h][f],i,o,a)}}function Vs(t,e,n,r,i,o,a){var s=.5*(n-t),l=.5*(r-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*i+e}function qs(t){if($o(t)){var e=t.length;if($o(t[0])){for(var n=[],r=0;r<e;r++)n.push(Fs.call(t[r]));return n}return Fs.call(t)}return t}function Ys(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function $s(t,e,n,r,i,o){var a=t._getter,s=t._setter,l="spline"===e,u=r.length;if(u){var h,c=$o(r[0].value),f=!1,d=!1,p=c?function(t){var e=t[t.length-1].value;return $o(e&&e[0])?2:1}(r):0;r.sort(function(t,e){return t.time-e.time}),h=r[u-1].time;for(var g=[],v=[],y=r[0].value,m=!0,x=0;x<u;x++){g.push(r[x].time/h);var _=r[x].value;if(c&&Hs(_,y,p)||!c&&_===y||(m=!1),y=_,"string"==typeof _){var w=Is(_);w?(_=w,f=!0):d=!0}v.push(_)}if(o||!m){var b=v[u-1];for(x=0;x<u-1;x++)c?Gs(v[x],b,p):!isNaN(v[x])||isNaN(b)||d||f||(v[x]=b);c&&Gs(a(t._target,i),b,p);var S,k,M,A,I,T=0,C=0;if(f)var E=[0,0,0,0];var z=new us({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<C){for(n=Math.min(T+1,u-1);n>=0&&!(g[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=T;n<u&&!(g[n]>e);n++);n=Math.min(n-1,u-2)}T=n,C=e;var r=g[n+1]-g[n];if(0!==r)if(S=(e-g[n])/r,l)if(M=v[n],k=v[0===n?n:n-1],A=v[n>u-2?u-1:n+1],I=v[n>u-3?u-1:n+2],c)Us(k,M,A,I,S,S*S,S*S*S,a(t,i),p);else{if(f)o=Us(k,M,A,I,S,S*S,S*S*S,E,1),o=Ys(E);else{if(d)return Ws(M,A,S);o=Vs(k,M,A,I,S,S*S,S*S*S)}s(t,i,o)}else if(c)js(v[n],v[n+1],S,a(t,i),p);else{var o;if(f)js(v[n],v[n+1],S,E,1),o=Ys(E);else{if(d)return Ws(v[n],v[n+1],S);o=Bs(v[n],v[n+1],S)}s(t,i,o)}},ondestroy:n});return e&&"spline"!==e&&(z.easing=e),z}}}var Xs=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||Ns,this._setter=r||Rs,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Xs.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:qs(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0,o=function(){--i||r._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=$s(this,t,o,this._tracks[a],a,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Ks=1;"undefined"!=typeof window&&(Ks=Math.max(window.devicePixelRatio||1,1));var Zs=Ks,Qs=function(){};var Js=Qs,tl=function(){this.animators=[]};function el(t,e,n,r,i,o,a,s){ra(r)?(o=i,i=r,r=0):na(i)?(o=i,i="linear",r=0):na(r)?(o=r,r=0):na(n)?(o=n,n=500):n||(n=500),t.stopAnimation(),function t(e,n,r,i,o,a,s){var l={};var u=0;for(var h in i)i.hasOwnProperty(h)&&(null!=r[h]?ia(i[h])&&!$o(i[h])?t(e,n?n+"."+h:h,r[h],i[h],o,a,s):(s?(l[h]=r[h],nl(e,n,h,i[h])):l[h]=i[h],u++):null==i[h]||s||nl(e,n,h,i[h]));u>0&&e.animate(n,!1).when(null==o?500:o,l).delay(a||0)}(t,"",t,e,n,r,s);var l=t.animators.slice(),u=l.length;function h(){--u||o&&o()}u||o&&o();for(var c=0;c<l.length;c++)l[c].done(h).start(i,a)}function nl(t,e,n,r){if(e){var i={};i[e]={},i[e][n]=r,t.attr(i)}else t.attr(n,r)}tl.prototype={constructor:tl,animate:function(t,e){var n,r=!1,i=this,o=this.__zr;if(t){var a=t.split("."),s=i;r="shape"===a[0];for(var l=0,u=a.length;l<u;l++)s&&(s=s[a[l]]);s&&(n=s)}else n=i;if(n){var h=i.animators,c=new Xs(n,e);return c.during(function(t){i.dirty(r)}).done(function(){h.splice(Vo(h,c),1)}),h.push(c),o&&o.animation.addAnimator(c),c}Js('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,o){el(this,t,e,n,r,i,o)},animateFrom:function(t,e,n,r,i,o){el(this,t,e,n,r,i,o,!0)}};var rl=function(t){rs.call(this,t),Ea.call(this,t),tl.call(this,t),this.id=t.id||Mo()};rl.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(ia(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},Yo(rl,tl),Yo(rl,rs),Yo(rl,Ea);var il,ol,al,sl,ll=ka,ul=Math.min,hl=Math.max;function cl(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}cl.prototype={constructor:cl,union:function(t){var e=ul(t.x,this.x),n=ul(t.y,this.y);this.width=hl(t.x+t.width,this.x+this.width)-e,this.height=hl(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(il=[],ol=[],al=[],sl=[],function(t){if(t){il[0]=al[0]=this.x,il[1]=sl[1]=this.y,ol[0]=sl[0]=this.x+this.width,ol[1]=al[1]=this.y+this.height,ll(il,il,t),ll(ol,ol,t),ll(al,al,t),ll(sl,sl,t),this.x=ul(il[0],ol[0],al[0],sl[0]),this.y=ul(il[1],ol[1],al[1],sl[1]);var e=hl(il[0],ol[0],al[0],sl[0]),n=hl(il[1],ol[1],al[1],sl[1]);this.width=e-this.x,this.height=n-this.y}}),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=Xa();return Qa(i,i,[-e.x,-e.y]),Ja(i,i,[n,r]),Qa(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof cl||(t=cl.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(r<a||s<n||o<l||u<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new cl(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},cl.create=function(t){return new cl(t.x,t.y,t.width,t.height)};var fl=function(t){for(var e in t=t||{},rl.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};fl.prototype={constructor:fl,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof fl&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=Vo(r,t);return i<0?this:(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof fl&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof fl&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof fl&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof fl&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new cl(0,0,0,0),r=t||this._children,i=[],o=0;o<r.length;o++){var a=r[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(n.copy(s),n.applyTransform(l),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},qo(fl,rl);var dl=32,pl=7;function gl(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){n--;for(;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function vl(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,l=r;s<l;)i(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=r-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function yl(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])>0){for(s=r-i;l<s&&o(t,e[n+i+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(t,e[n+i-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function ml(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])<0){for(s=i+1;l<s&&o(t,e[n+i-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=r-i;l<s&&o(t,e[n+i+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])<0?l=h:a=h+1}return l}function xl(t,e){var n,r,i=pl,o=0;t.length;var a=[];function s(s){var l=n[s],u=r[s],h=n[s+1],c=r[s+1];r[s]=u+c,s===o-3&&(n[s+1]=n[s+2],r[s+1]=r[s+2]),o--;var f=ml(t[h],t,l,u,0,e);l+=f,0!==(u-=f)&&0!==(c=yl(t[l+u-1],t,h,c,c-1,e))&&(u<=c?function(n,r,o,s){var l=0;for(l=0;l<r;l++)a[l]=t[n+l];var u=0,h=o,c=n;if(t[c++]=t[h++],0==--s){for(l=0;l<r;l++)t[c+l]=a[u+l];return}if(1===r){for(l=0;l<s;l++)t[c+l]=t[h+l];return void(t[c+s]=a[u])}var f,d,p,g=i;for(;;){f=0,d=0,p=!1;do{if(e(t[h],a[u])<0){if(t[c++]=t[h++],d++,f=0,0==--s){p=!0;break}}else if(t[c++]=a[u++],f++,d=0,1==--r){p=!0;break}}while((f|d)<g);if(p)break;do{if(0!==(f=ml(t[h],a,u,r,0,e))){for(l=0;l<f;l++)t[c+l]=a[u+l];if(c+=f,u+=f,(r-=f)<=1){p=!0;break}}if(t[c++]=t[h++],0==--s){p=!0;break}if(0!==(d=yl(a[u],t,h,s,0,e))){for(l=0;l<d;l++)t[c+l]=t[h+l];if(c+=d,h+=d,0===(s-=d)){p=!0;break}}if(t[c++]=a[u++],1==--r){p=!0;break}g--}while(f>=pl||d>=pl);if(p)break;g<0&&(g=0),g+=2}if((i=g)<1&&(i=1),1===r){for(l=0;l<s;l++)t[c+l]=t[h+l];t[c+s]=a[u]}else{if(0===r)throw new Error;for(l=0;l<r;l++)t[c+l]=a[u+l]}}(l,u,h,c):function(n,r,o,s){var l=0;for(l=0;l<s;l++)a[l]=t[o+l];var u=n+r-1,h=s-1,c=o+s-1,f=0,d=0;if(t[c--]=t[u--],0==--r){for(f=c-(s-1),l=0;l<s;l++)t[f+l]=a[l];return}if(1===s){for(d=(c-=r)+1,f=(u-=r)+1,l=r-1;l>=0;l--)t[d+l]=t[f+l];return void(t[c]=a[h])}var p=i;for(;;){var g=0,v=0,y=!1;do{if(e(a[h],t[u])<0){if(t[c--]=t[u--],g++,v=0,0==--r){y=!0;break}}else if(t[c--]=a[h--],v++,g=0,1==--s){y=!0;break}}while((g|v)<p);if(y)break;do{if(0!==(g=r-ml(a[h],t,n,r,r-1,e))){for(r-=g,d=(c-=g)+1,f=(u-=g)+1,l=g-1;l>=0;l--)t[d+l]=t[f+l];if(0===r){y=!0;break}}if(t[c--]=a[h--],1==--s){y=!0;break}if(0!==(v=s-yl(t[u],a,0,s,s-1,e))){for(s-=v,d=(c-=v)+1,f=(h-=v)+1,l=0;l<v;l++)t[d+l]=a[f+l];if(s<=1){y=!0;break}}if(t[c--]=t[u--],0==--r){y=!0;break}p--}while(g>=pl||v>=pl);if(y)break;p<0&&(p=0),p+=2}(i=p)<1&&(i=1);if(1===s){for(d=(c-=r)+1,f=(u-=r)+1,l=r-1;l>=0;l--)t[d+l]=t[f+l];t[c]=a[h]}else{if(0===s)throw new Error;for(f=c-(s-1),l=0;l<s;l++)t[f+l]=a[l]}}(l,u,h,c))}n=[],r=[],this.mergeRuns=function(){for(;o>1;){var t=o-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;s(t)}},this.forceMergeRuns=function(){for(;o>1;){var t=o-2;t>0&&r[t-1]<r[t+1]&&t--,s(t)}},this.pushRun=function(t,e){n[o]=t,r[o]=e,o+=1}}function _l(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<dl)vl(t,n,r,n+(o=gl(t,n,r,e)),e);else{var a=new xl(t,e),s=function(t){for(var e=0;t>=dl;)e|=1&t,t>>=1;return t+e}(i);do{if((o=gl(t,n,r,e))<s){var l=i;l>s&&(l=s),vl(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}}}function wl(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var bl=function(){this._roots=[],this._displayList=[],this._displayListLen=0};bl.prototype={constructor:bl,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Ao.canvasSupported&&_l(n,wl)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof fl&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof fl&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var r=t.length;e<r;e++)this.delRoot(t[e])}else{var i=Vo(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof fl&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:wl};var Sl={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function kl(t,e,n){return Sl.hasOwnProperty(e)?n*t.dpr:n}var Ml={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Al=9,Il=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Tl=function(t){this.extendFrom(t,!1)};function Cl(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(r,o,i,a)}function El(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}Tl.prototype={constructor:Tl,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var r=n&&n.style,i=!r||t.__attrCachedBy!==Ml.STYLE_BIND;t.__attrCachedBy=Ml.STYLE_BIND;for(var o=0;o<Il.length;o++){var a=Il[o],s=a[0];(i||this[s]!==r[s])&&(t[s]=kl(t,s,this[s]||a[1]))}if((i||this.fill!==r.fill)&&(t.fillStyle=this.fill),(i||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(i||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(i||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var l=this.lineWidth;t.lineWidth=l/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?El:Cl)(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}};for(var zl=Tl.prototype,Ll=0;Ll<Il.length;Ll++){var Ol=Il[Ll];Ol[0]in zl||(zl[Ol[0]]=Ol[1])}Tl.getGradient=zl.getGradient;var Dl=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};function Pl(){return!1}function Fl(t,e,n){var r=Ho(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}Dl.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var Nl=function(t,e,n){var r;n=n||Zs,"string"==typeof t?r=Fl(t,e,n):ia(t)&&(t=(r=t).id),this.id=t,this.dom=r;var i=r.style;i&&(r.onselectstart=Pl,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};Nl.prototype={constructor:Nl,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Fl("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,i=this.ctx,o=r.width,a=r.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,u=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/u,a/u)),i.clearRect(0,0,o,a),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||Tl.getGradient(i,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=n):e.image&&(n=Dl.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,o,a),i.restore());if(s){var h=this.domBack;i.save(),i.globalAlpha=l,i.drawImage(h,0,0,o,a),i.restore()}}};var Rl="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Bl=new ds(50);function Wl(t){if("string"==typeof t){var e=Bl.get(t);return e&&e.image}return t}function jl(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Bl.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!Hl(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=Gl,Bl.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function Gl(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Hl(t){return t&&t.width&&t.height}var Ul={},Vl=0,ql=5e3,Yl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,$l="12px sans-serif",Xl={};function Kl(t,e){var n=t+":"+(e=e||$l);if(Ul[n])return Ul[n];for(var r=(t+"").split("\n"),i=0,o=0,a=r.length;o<a;o++)i=Math.max(ou(r[o],e).width,i);return Vl>ql&&(Vl=0,Ul={}),Vl++,Ul[n]=i,i}function Zl(t,e,n,r,i,o,a,s){return a?function(t,e,n,r,i,o,a,s){var l=su(t,{rich:a,truncate:s,font:e,textAlign:n,textPadding:i,textLineHeight:o}),u=l.outerWidth,h=l.outerHeight,c=Ql(0,u,n),f=Jl(0,h,r);return new cl(c,f,u,h)}(t,e,n,r,i,o,a,s):function(t,e,n,r,i,o,a){var s=au(t,e,i,o,a),l=Kl(t,e);i&&(l+=i[1]+i[3]);var u=s.outerHeight,h=Ql(0,l,n),c=Jl(0,u,r),f=new cl(h,c,l,u);return f.lineHeight=s.lineHeight,f}(t,e,n,r,i,o,s)}function Ql(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Jl(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function tu(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=eu(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=nu(o[a],i);return o.join("\n")}function eu(t,e,n,r){(r=Wo({},r)).font=e;n=sa(n,"...");r.maxIterations=sa(r.maxIterations,2);var i=r.minChar=sa(r.minChar,0);r.cnCharWidth=Kl("Èç•ÔøΩ",e);var o=r.ascCharWidth=Kl("a",e);r.placeholder=sa(r.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<i&&a>=o;s++)a-=o;var l=Kl(n,e);return l>a&&(n="",l=0),a=t-l,r.ellipsis=n,r.ellipsisWidth=l,r.contentWidth=a,r.containerWidth=t,r}function nu(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=Kl(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?ru(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=Kl(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function ru(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function iu(t){return Kl("Èç•ÔøΩ",t)}function ou(t,e){return Xl.measureText(t,e)}function au(t,e,n,r,i){null!=t&&(t+="");var o=sa(r,iu(e)),a=t?t.split("\n"):[],s=a.length*o,l=s;if(n&&(l+=n[0]+n[2]),t&&i){var u=i.outerHeight,h=i.outerWidth;if(null!=u&&l>u)t="",a=[];else if(null!=h)for(var c=eu(h-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,d=a.length;f<d;f++)a[f]=nu(a[f],c)}return{lines:a,height:s,outerHeight:l,lineHeight:o}}function su(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=Yl.lastIndex=0;null!=(r=Yl.exec(t));){var o=r.index;o>i&&lu(n,t.substring(i,o)),lu(n,r[2],r[1]),i=Yl.lastIndex}i<t.length&&lu(n,t.substring(i,t.length));var a=n.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,f=c&&c.outerWidth,d=c&&c.outerHeight;h&&(null!=f&&(f-=h[1]+h[3]),null!=d&&(d-=h[0]+h[2]));for(var p=0;p<a.length;p++){for(var g=a[p],v=0,y=0,m=0;m<g.tokens.length;m++){var x=(C=g.tokens[m]).styleName&&e.rich[C.styleName]||{},_=C.textPadding=x.textPadding,w=C.font=x.font||e.font,b=C.textHeight=sa(x.textHeight,iu(w));if(_&&(b+=_[0]+_[2]),C.height=b,C.lineHeight=la(x.textLineHeight,e.textLineHeight,b),C.textAlign=x&&x.textAlign||e.textAlign,C.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=d&&s+C.lineHeight>d)return{lines:[],width:0,height:0};C.textWidth=Kl(C.text,w);var S=x.textWidth,k=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))C.percentWidth=S,u.push(C),S=0;else{if(k){S=C.textWidth;var M=x.textBackgroundColor,A=M&&M.image;A&&Hl(A=Wl(A))&&(S=Math.max(S,A.width*b/A.height))}var I=_?_[1]+_[3]:0;S+=I;var T=null!=f?f-y:null;null!=T&&T<S&&(!k||T<I?(C.text="",C.textWidth=S=0):(C.text=tu(C.text,T-I,w,c.ellipsis,{minChar:c.minChar}),C.textWidth=Kl(C.text,w),S=C.textWidth+I))}y+=C.width=S,x&&(v=Math.max(v,C.lineHeight))}g.width=y,g.lineHeight=v,s+=v,l=Math.max(l,y)}n.outerWidth=n.width=sa(e.textWidth,l),n.outerHeight=n.height=sa(e.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(p=0;p<u.length;p++){var C,E=(C=u[p]).percentWidth;C.width=parseInt(E,10)/100*l}return n}function lu(t,e,n){for(var r=""===e,i=e.split("\n"),o=t.lines,a=0;a<i.length;a++){var s=i[a],l={styleName:n,text:s,isLineHolder:!s&&!r};if(a)o.push({tokens:[l]});else{var u=(o[o.length-1]||(o[0]={tokens:[]})).tokens,h=u.length;1===h&&u[0].isLineHolder?u[0]=l:(s||!h||r)&&u.push(l)}}}function uu(t,e){var n,r,i,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?n=r=i=o=c:c instanceof Array?1===c.length?n=r=i=o=c[0]:2===c.length?(n=i=c[0],r=o=c[1]):3===c.length?(n=c[0],r=o=c[1],i=c[2]):(n=c[0],r=c[1],i=c[2],o=c[3]):n=r=i=o=0,n+r>u&&(n*=u/(a=n+r),r*=u/a),i+o>u&&(i*=u/(a=i+o),o*=u/a),r+i>h&&(r*=h/(a=r+i),i*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+u-r,l),0!==r&&t.arc(s+u-r,l+r,r,-Math.PI/2,0),t.lineTo(s+u,l+h-i),0!==i&&t.arc(s+u-i,l+h-i,i,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}Xl.measureText=function(t,e){var n=Uo();return n.font=e||$l,n.measureText(t)};var hu=$l,cu={left:1,right:1,center:1},fu={top:1,bottom:1,middle:1},du=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function pu(t){return gu(t),Xo(t.rich,gu),t}function gu(t){if(t){t.font=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&ha(e)||t.textFont||t.font}(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||cu[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||fu[n]?n:"top",t.textPadding&&(t.textPadding=ua(t.textPadding))}}function vu(t,e,n,r,i,o){r.rich?function(t,e,n,r,i,o){o!==Al&&(e.__attrCachedBy=Ml.NONE);var a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=su(n,r));!function(t,e,n,r,i){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=r.textPadding,u=bu(s,r,i),h=u.baseX,c=u.baseY,f=u.textAlign,d=u.textVerticalAlign;yu(e,r,i,h,c);var p=Ql(h,a,f),g=Jl(c,s,d),v=p,y=g;l&&(v+=l[3],y+=l[0]);var m=v+o;xu(r)&&_u(t,e,r,p,g,a,s);for(var x=0;x<n.lines.length;x++){for(var _,w=n.lines[x],b=w.tokens,S=b.length,k=w.lineHeight,M=w.width,A=0,I=v,T=m,C=S-1;A<S&&(!(_=b[A]).textAlign||"left"===_.textAlign);)mu(t,e,_,r,k,y,I,"left"),M-=_.width,I+=_.width,A++;for(;C>=0&&"right"===(_=b[C]).textAlign;)mu(t,e,_,r,k,y,T,"right"),M-=_.width,T-=_.width,C--;for(I+=(o-(I-v)-(m-T)-M)/2;A<=C;)_=b[A],mu(t,e,_,r,k,y,I+_.width/2,"center"),I+=_.width,A++;y+=k}}(t,e,a,r,i)}(t,e,n,r,i,o):function(t,e,n,r,i,o){var a,s=xu(r),l=!1,u=e.__attrCachedBy===Ml.PLAIN_TEXT;o!==Al?(o&&(a=o.style,l=!s&&u&&a),e.__attrCachedBy=s?Ml.NONE:Ml.PLAIN_TEXT):u&&(e.__attrCachedBy=Ml.NONE);var h=r.font||hu;l&&h===(a.font||hu)||(e.font=h);var c=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,c=t.__computedFont=e.font);var f=r.textPadding,d=r.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=au(n,c,f,d,r.truncate));var g=p.outerHeight,v=p.lines,y=p.lineHeight,m=bu(g,r,i),x=m.baseX,_=m.baseY,w=m.textAlign||"left",b=m.textVerticalAlign;yu(e,r,i,x,_);var S=Jl(_,g,b),k=x,M=S;if(s||f){var A=Kl(n,c),I=A;f&&(I+=f[1]+f[3]);var T=Ql(x,I,w);s&&_u(t,e,r,T,S,I,g),f&&(k=Iu(x,w,f),M+=f[0])}e.textAlign=w,e.textBaseline="middle",e.globalAlpha=r.opacity||1;for(var C=0;C<du.length;C++){var E=du[C],z=E[0],L=E[1],O=r[z];l&&O===a[z]||(e[L]=kl(e,L,O||E[2]))}M+=y/2;var D=r.textStrokeWidth,P=l?a.textStrokeWidth:null,F=!l||D!==P,N=!l||F||r.textStroke!==a.textStroke,R=ku(r.textStroke,D),B=Mu(r.textFill);R&&(F&&(e.lineWidth=D),N&&(e.strokeStyle=R));B&&(l&&r.textFill===a.textFill||(e.fillStyle=B));if(1===v.length)R&&e.strokeText(v[0],k,M),B&&e.fillText(v[0],k,M);else for(var C=0;C<v.length;C++)R&&e.strokeText(v[C],k,M),B&&e.fillText(v[C],k,M),M+=y}(t,e,n,r,i,o)}function yu(t,e,n,r,i){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(r=n.width/2+n.x,i=n.height/2+n.y):o&&(r=o[0]+n.x,i=o[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function mu(t,e,n,r,i,o,a,s){var l=r.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,h=o+i/2;"top"===u?h=o+n.height/2:"bottom"===u&&(h=o+i-n.height/2),!n.isLineHolder&&xu(l)&&_u(t,e,l,"right"===s?a-n.width:"center"===s?a-n.width/2:a,h-n.height/2,n.width,n.height);var c=n.textPadding;c&&(a=Iu(a,s,c),h-=n.height/2-c[2]-n.textHeight/2),Su(e,"shadowBlur",la(l.textShadowBlur,r.textShadowBlur,0)),Su(e,"shadowColor",l.textShadowColor||r.textShadowColor||"transparent"),Su(e,"shadowOffsetX",la(l.textShadowOffsetX,r.textShadowOffsetX,0)),Su(e,"shadowOffsetY",la(l.textShadowOffsetY,r.textShadowOffsetY,0)),Su(e,"textAlign",s),Su(e,"textBaseline","middle"),Su(e,"font",n.font||hu);var f=ku(l.textStroke||r.textStroke,p),d=Mu(l.textFill||r.textFill),p=sa(l.textStrokeWidth,r.textStrokeWidth);f&&(Su(e,"lineWidth",p),Su(e,"strokeStyle",f),e.strokeText(n.text,a,h)),d&&(Su(e,"fillStyle",d),e.fillText(n.text,a,h))}function xu(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function _u(t,e,n,r,i,o,a){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,h=ra(s);if(Su(e,"shadowBlur",n.textBoxShadowBlur||0),Su(e,"shadowColor",n.textBoxShadowColor||"transparent"),Su(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),Su(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),h||l&&u){e.beginPath();var c=n.textBorderRadius;c?uu(e,{x:r,y:i,width:o,height:a,r:c}):e.rect(r,i,o,a),e.closePath()}if(h)if(Su(e,"fillStyle",s),null!=n.fillOpacity){var f=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=f}else e.fill();else if(ia(s)){var d=s.image;(d=jl(d,null,t,wu,s))&&Hl(d)&&e.drawImage(d,r,i,o,a)}if(l&&u)if(Su(e,"lineWidth",l),Su(e,"strokeStyle",u),null!=n.strokeOpacity){f=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=f}else e.stroke()}function wu(t,e){e.image=t}function bu(t,e,n){var r=e.x||0,i=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+Au(s[0],n.width),i=n.y+Au(s[1],n.height);else{var l=function(t,e,n){var r=e.x,i=e.y,o=e.height,a=e.width,s=o/2,l="left",u="top";switch(t){case"left":r-=n,i+=s,l="right",u="middle";break;case"right":r+=n+a,i+=s,u="middle";break;case"top":r+=a/2,i-=n,l="center",u="bottom";break;case"bottom":r+=a/2,i+=o+n,l="center";break;case"inside":r+=a/2,i+=s,l="center",u="middle";break;case"insideLeft":r+=n,i+=s,u="middle";break;case"insideRight":r+=a-n,i+=s,l="right",u="middle";break;case"insideTop":r+=a/2,i+=n,l="center";break;case"insideBottom":r+=a/2,i+=o-n,l="center",u="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=a-n,i+=n,l="right";break;case"insideBottomLeft":r+=n,i+=o-n,u="bottom";break;case"insideBottomRight":r+=a-n,i+=o-n,l="right",u="bottom"}return{x:r,y:i,textAlign:l,textVerticalAlign:u}}(s,n,e.textDistance);r=l.x,i=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var u=e.textOffset;u&&(r+=u[0],i+=u[1])}return{baseX:r,baseY:i,textAlign:o,textVerticalAlign:a}}function Su(t,e,n){return t[e]=kl(t,e,n),t[e]}function ku(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Mu(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Au(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Iu(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Tu(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var Cu=new cl,Eu=function(){};function zu(t){for(var e in t=t||{},rl.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Tl(t.style,this),this._rect=null,this.__clipPaths=[]}function Lu(t){zu.call(this,t)}Eu.prototype={constructor:Eu,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&pu(n);var r=n.text;if(null!=r&&(r+=""),Tu(r,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(Cu.copy(e),Cu.applyTransform(i),e=Cu),vu(this,t,r,n,e,Al),t.restore()}}},zu.prototype={constructor:zu,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?rl.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Tl(t,this),this.dirty(!1),this}},qo(zu,rl),Yo(zu,Eu),Lu.prototype={constructor:Lu,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=jl(r,this._image,this,this.onload);if(i&&Hl(i)){var o=n.x||0,a=n.y||0,s=n.width,l=n.height,u=i.width/i.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=i.width,l=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var h=n.sx||0,c=n.sy||0;t.drawImage(i,h,c,n.sWidth,n.sHeight,o,a,s,l)}else if(n.sx&&n.sy){var f=s-(h=n.sx),d=l-(c=n.sy);t.drawImage(i,h,c,f,d,o,a,s,l)}else t.drawImage(i,o,a,s,l);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new cl(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},qo(Lu,zu);function Ou(t){return parseInt(t,10)}var Du=new cl(0,0,0,0),Pu=new cl(0,0,0,0);var Fu=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=Wo({},n||{}),this.dpr=n.devicePixelRatio||Zs,this._singleCanvas=r,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var s=t.width,l=t.height;null!=n.width&&(s=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,t.width=s*this.dpr,t.height=l*this.dpr,this._width=s,this._height=l;var u=new Nl(t,this,this.dpr);u.__builtin__=!0,u.initContext(),a[314159]=u,u.zlevel=314159,o.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};Fu.prototype={constructor:Fu,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<n.length;r++){var i=n[r],o=this._layers[i];if(!o.__builtin__&&o.refresh){var a=0===r?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=Vo(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){_l(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var o=t[i],a=o.__from;a&&a.__zr?(i++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,r))):(t.splice(i,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;Rl(function(){i._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];(s=this._layers[i]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s,l=(s=n[a]).ctx,u={};l.save();var h=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,f=c&&Date.now(),d=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,d);else if(h===s.__startIndex){var p=t[h];p.incremental&&p.notClear&&!e||s.clear(!1,d)}-1===h&&(h=s.__startIndex);for(var g=h;g<s.__endIndex;g++){var v=t[g];if(this._doPaintEl(v,s,e,u),v.__dirty=v.__dirtyText=!1,c)if(Date.now()-f>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),u.prevElClipPaths&&l.restore(),l.restore()}return Ao.wxa&&Xo(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,r){var i=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!function(t,e,n){return Du.copy(t.getBoundingRect()),t.transform&&Du.applyTransform(t.transform),Pu.width=e,Pu.height=n,!Du.intersect(Pu)}(t,this._width,this._height))){var a=t.__clipPaths;r.prevElClipPaths&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}(a,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),a&&(i.save(),function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(a,i),r.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new Nl("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&Bo(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=null,a=-1,s=this._domRoot;if(n[t])Js("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(a=0;a<i-1&&!(r[a]<t&&r[a+1]>t);a++);o=n[r[a]]}if(r.splice(a+1,0,t),n[t]=e,!e.virtual)if(o){var l=o.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Js("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((o=t[n]).zlevel!==t[n-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}var r=null,i=0;for(n=0;n<t.length;n++){var o,a,s=(o=t[n]).zlevel;o.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):a=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),a.__builtin__||Js("ZLevel "+s+" has been used by unkown layer "+a.id),a!==r&&(a.__used=!0,a.__startIndex!==n&&(a.__dirty=!0),a.__startIndex=n,a.incremental?a.__drawIndex=-1:a.__drawIndex=n,e(n),r=a),o.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=n))}e(n),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?Bo(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+.01)Bo(this._layers[i],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(Vo(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);Xo(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Nl("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||Ou(s[n])||Ou(a.style[n]))-(Ou(s[i])||0)-(Ou(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,u=o.hasStroke()?o.lineWidth:0,h=Math.max(u/2,-s+a),c=Math.max(u/2,s+a),f=Math.max(u/2,-l+a),d=Math.max(u/2,l+a),p=i.width+h+c,g=i.height+f+d;n.width=p*e,n.height=g*e,r.scale(e,e),r.clearRect(0,0,p,g),r.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-i.x,f-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var y=new Lu({style:{x:0,y:0,image:n}});return null!=v.position&&(y.position=t.position=v.position),null!=v.rotation&&(y.rotation=t.rotation=v.rotation),null!=v.scale&&(y.scale=t.scale=v.scale),y}};var Nu=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Ea.call(this)};Nu.prototype={constructor:Nu,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=Vo(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],l=s.step(t,e);l&&(i.push(l),o.push(s))}for(a=0;a<r;)n[a]._needsRemove?(n[a]=n[r-1],n.pop(),r--):a++;r=i.length;for(a=0;a<r;a++)o[a].fire(i[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,Rl(function e(){t._running&&(Rl(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new Xs(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},Yo(Nu,Ea);var Ru=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Bu=["touchstart","touchend","touchmove"],Wu={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},ju=Ko(Ru,function(t){var e=t.replace("mouse","pointer");return Wu[e]?e:t});function Gu(t){return"mousewheel"===t&&Ao.browser.firefox?"DOMMouseScroll":t}function Hu(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var Uu={mousemove:function(t){t=Fa(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=Fa(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=Fa(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),Uu.mousemove.call(this,t),Uu.mousedown.call(this,t),Hu(this)},touchmove:function(t){(t=Fa(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),Uu.mousemove.call(this,t),Hu(this)},touchend:function(t){(t=Fa(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),Uu.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Uu.click.call(this,t),Hu(this)},pointerdown:function(t){Uu.mousedown.call(this,t)},pointermove:function(t){Vu(t)||Uu.mousemove.call(this,t)},pointerup:function(t){Uu.mouseup.call(this,t)},pointerout:function(t){Vu(t)||Uu.mouseout.call(this,t)}};function Vu(t){var e=t.pointerType;return"pen"===e||"touch"===e}function qu(t){var e;function n(e,n){Xo(e,function(e){!function(t,e,n){La?t.addEventListener(e,n):t.attachEvent("on"+e,n)}(t,Gu(e),n._handlers[e])},n)}Ea.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,Xo(Bu,function(t){e._handlers[t]=Jo(Uu[t],e)}),Xo(ju,function(t){e._handlers[t]=Jo(Uu[t],e)}),Xo(Ru,function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(Uu[t],e)}),Ao.pointerEventsSupported?n(ju,this):(Ao.touchEventsSupported&&n(Bu,this),n(Ru,this))}Xo(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Uu[t]=function(e){e=Fa(this.dom,e),this.trigger(t,e)}});var Yu=qu.prototype;Yu.dispose=function(){for(var t=Ru.concat(Bu),e=0;e<t.length;e++){var n=t[e];Na(this.dom,Gu(n),this._handlers[n])}},Yu.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},Yo(qu,Ea);var $u=!Ao.canvasSupported,Xu={canvas:Fu},Ku={};function Zu(t,e){var n=new Qu(Mo(),t,e);return Ku[n.id]=n,n}var Qu=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,i=new bl,o=n.renderer;if($u){if(!Xu.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&Xu[o]||(o="canvas");var a=new Xu[o](e,i,n,t);this.storage=i,this.painter=a;var s=Ao.node||Ao.worker?null:new qu(a.getViewportRoot());this.handler=new qa(i,a,s,a.root),this.animation=new Nu({stage:{update:Jo(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=i.delFromStorage,u=i.addToStorage;i.delFromStorage=function(t){l.call(i,t),t&&t.removeSelfFromZr(r)},i.addToStorage=function(t){u.call(i,t),t.addSelfToZr(r)}};Qu.prototype={constructor:Qu,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Ku[t]}};var Ju=Object.freeze({version:"4.0.7",init:Zu,dispose:function(t){if(t)t.dispose();else{for(var e in Ku)Ku.hasOwnProperty(e)&&Ku[e].dispose();Ku={}}return this},getInstance:function(t){return Ku[t]},registerPainter:function(t,e){Xu[t]=e}});function th(t){var e={};return t.registerClass=function(t,n){return e[n]=t,t},t.getClass=function(t){return e[t]},t.hasClass=function(t){return!!e[t]},t.getAllClass=function(){return e},t}var eh=Math.pow,nh=Math.sqrt,rh=1e-8,ih=1e-4,oh=nh(3),ah=1/3,sh=ga(),lh=ga(),uh=ga();function hh(t){return t>-rh&&t<rh}function ch(t){return t>rh||t<-rh}function fh(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function dh(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function ph(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,l=0;if(hh(a)){if(ch(o))(h=-s/o)>=0&&h<=1&&(i[l++]=h)}else{var u=o*o-4*a*s;if(hh(u))i[0]=-o/(2*a);else if(u>0){var h,c=nh(u),f=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(i[l++]=h),f>=0&&f<=1&&(i[l++]=f)}}return l}function gh(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,u=(s-a)*i+a,h=(l-s)*i+s,c=(h-u)*i+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=r}function vh(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function yh(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function mh(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function xh(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}var _h=Math.min,wh=Math.max,bh=Math.sin,Sh=Math.cos,kh=2*Math.PI,Mh=ga(),Ah=ga(),Ih=ga();function Th(t,e,n,r,i,o){i[0]=_h(t,n),i[1]=_h(e,r),o[0]=wh(t,n),o[1]=wh(e,r)}var Ch=[],Eh=[];function zh(t,e,n,r,i,o,a,s,l,u){var h,c=ph,f=fh,d=c(t,n,i,a,Ch);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<d;h++){var p=f(t,n,i,a,Ch[h]);l[0]=_h(p,l[0]),u[0]=wh(p,u[0])}for(d=c(e,r,o,s,Eh),h=0;h<d;h++){var g=f(e,r,o,s,Eh[h]);l[1]=_h(g,l[1]),u[1]=wh(g,u[1])}l[0]=_h(t,l[0]),u[0]=wh(t,u[0]),l[0]=_h(a,l[0]),u[0]=wh(a,u[0]),l[1]=_h(e,l[1]),u[1]=wh(e,u[1]),l[1]=_h(s,l[1]),u[1]=wh(s,u[1])}function Lh(t,e,n,r,i,o,a,s){var l=mh,u=vh,h=wh(_h(l(t,n,i),1),0),c=wh(_h(l(e,r,o),1),0),f=u(t,n,i,h),d=u(e,r,o,c);a[0]=_h(t,i,f),a[1]=_h(e,o,d),s[0]=wh(t,i,f),s[1]=wh(e,o,d)}function Oh(t,e,n,r,i,o,a,s,l){var u=Ma,h=Aa,c=Math.abs(i-o);if(c%kh<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-r,l[0]=t+n,void(l[1]=e+r);if(Mh[0]=Sh(i)*n+t,Mh[1]=bh(i)*r+e,Ah[0]=Sh(o)*n+t,Ah[1]=bh(o)*r+e,u(s,Mh,Ah),h(l,Mh,Ah),(i%=kh)<0&&(i+=kh),(o%=kh)<0&&(o+=kh),i>o&&!a?o+=kh:i<o&&a&&(i+=kh),a){var f=o;o=i,i=f}for(var d=0;d<o;d+=Math.PI/2)d>i&&(Ih[0]=Sh(d)*n+t,Ih[1]=bh(d)*r+e,u(s,Ih,s),h(l,Ih,l))}var Dh={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ph=[],Fh=[],Nh=[],Rh=[],Bh=Math.min,Wh=Math.max,jh=Math.cos,Gh=Math.sin,Hh=Math.sqrt,Uh=Math.abs,Vh="undefined"!=typeof Float32Array,qh=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};function Yh(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,l=0;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}function $h(t,e,n,r,i,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>r+c&&h>o+c&&h>s+c||h<e-c&&h<r-c&&h<o-c&&h<s-c||u>t+c&&u>n+c&&u>i+c&&u>a+c||u<t-c&&u<n-c&&u<i-c&&u<a-c)&&function(t,e,n,r,i,o,a,s,l,u,h){var c,f,d,p,g,v=.005,y=1/0;sh[0]=l,sh[1]=u;for(var m=0;m<1;m+=.05)lh[0]=fh(t,n,i,a,m),lh[1]=fh(e,r,o,s,m),(p=Sa(sh,lh))<y&&(c=m,y=p);y=1/0;for(var x=0;x<32&&!(v<ih);x++)f=c-v,d=c+v,lh[0]=fh(t,n,i,a,f),lh[1]=fh(e,r,o,s,f),p=Sa(lh,sh),f>=0&&p<y?(c=f,y=p):(uh[0]=fh(t,n,i,a,d),uh[1]=fh(e,r,o,s,d),g=Sa(uh,sh),d<=1&&g<y?(c=d,y=g):v*=.5);return h&&(h[0]=fh(t,n,i,a,c),h[1]=fh(e,r,o,s,c)),nh(y)}(t,e,n,r,i,o,a,s,u,h,null)<=c/2}function Xh(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>r+u&&l>o+u||l<e-u&&l<r-u&&l<o-u||s>t+u&&s>n+u&&s>i+u||s<t-u&&s<n-u&&s<i-u)&&function(t,e,n,r,i,o,a,s,l){var u,h=.005,c=1/0;sh[0]=a,sh[1]=s;for(var f=0;f<1;f+=.05)lh[0]=vh(t,n,i,f),lh[1]=vh(e,r,o,f),(v=Sa(sh,lh))<c&&(u=f,c=v);c=1/0;for(var d=0;d<32&&!(h<ih);d++){var p=u-h,g=u+h;lh[0]=vh(t,n,i,p),lh[1]=vh(e,r,o,p);var v=Sa(lh,sh);if(p>=0&&v<c)u=p,c=v;else{uh[0]=vh(t,n,i,g),uh[1]=vh(e,r,o,g);var y=Sa(uh,sh);g<=1&&y<c?(u=g,c=y):h*=.5}}return l&&(l[0]=vh(t,n,i,u),l[1]=vh(e,r,o,u)),nh(c)}(t,e,n,r,i,o,s,l,null)<=u/2}qh.prototype={constructor:qh,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Uh(1/Zs/t)||0,this._uy=Uh(1/Zs/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Dh.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=Uh(t-this._xi)>this._ux||Uh(e-this._yi)>this._uy||this._len<5;return this.addData(Dh.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,o){return this.addData(Dh.C,t,e,n,r,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,o):this._ctx.bezierCurveTo(t,e,n,r,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,n,r){return this.addData(Dh.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,o){return this.addData(Dh.A,t,e,n,n,r,i-r,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=jh(i)*n+t,this._yi=Gh(i)*n+e,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(Dh.R,t,e,n,r),this},closePath:function(){this.addData(Dh.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Vh||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();Vh&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=t-l,c=e-u,f=Hh(h*h+c*c),d=l,p=u,g=a.length;for(h/=f,c/=f,o<0&&(o=i+o),d-=(o%=i)*h,p-=o*c;h>0&&d<=t||h<0&&d>=t||0===h&&(c>0&&p<=e||c<0&&p>=e);)d+=h*(n=a[r=this._dashIdx]),p+=c*n,this._dashIdx=(r+1)%g,h>0&&d<l||h<0&&d>l||c>0&&p<u||c<0&&p>u||s[r%2?"moveTo":"lineTo"](h>=0?Bh(d,t):Wh(d,t),c>=0?Bh(p,e):Wh(p,e));h=d-t,c=p-e,this._dashOffset=-Hh(h*h+c*c)},_dashedBezierTo:function(t,e,n,r,i,o){var a,s,l,u,h,c=this._dashSum,f=this._dashOffset,d=this._lineDash,p=this._ctx,g=this._xi,v=this._yi,y=fh,m=0,x=this._dashIdx,_=d.length,w=0;for(f<0&&(f=c+f),f%=c,a=0;a<1;a+=.1)s=y(g,t,n,i,a+.1)-y(g,t,n,i,a),l=y(v,e,r,o,a+.1)-y(v,e,r,o,a),m+=Hh(s*s+l*l);for(;x<_&&!((w+=d[x])>f);x++);for(a=(w-f)/m;a<=1;)u=y(g,t,n,i,a),h=y(v,e,r,o,a),x%2?p.moveTo(u,h):p.lineTo(u,h),a+=d[x]/m,x=(x+1)%_;x%2!=0&&p.lineTo(i,o),s=i-u,l=o-h,this._dashOffset=-Hh(s*s+l*l)},_dashedQuadraticTo:function(t,e,n,r){var i=n,o=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Vh&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Ph[0]=Ph[1]=Nh[0]=Nh[1]=Number.MAX_VALUE,Fh[0]=Fh[1]=Rh[0]=Rh[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,o=0;o<t.length;){var a=t[o++];switch(1===o&&(r=e=t[o],i=n=t[o+1]),a){case Dh.M:e=r=t[o++],n=i=t[o++],Nh[0]=r,Nh[1]=i,Rh[0]=r,Rh[1]=i;break;case Dh.L:Th(e,n,t[o],t[o+1],Nh,Rh),e=t[o++],n=t[o++];break;case Dh.C:zh(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Nh,Rh),e=t[o++],n=t[o++];break;case Dh.Q:Lh(e,n,t[o++],t[o++],t[o],t[o+1],Nh,Rh),e=t[o++],n=t[o++];break;case Dh.A:var s=t[o++],l=t[o++],u=t[o++],h=t[o++],c=t[o++],f=t[o++]+c;o+=1;var d=1-t[o++];1===o&&(r=jh(c)*u+s,i=Gh(c)*h+l),Oh(s,l,u,h,c,f,d,Nh,Rh),e=jh(f)*u+s,n=Gh(f)*h+l;break;case Dh.R:Th(r=e=t[o++],i=n=t[o++],r+t[o++],i+t[o++],Nh,Rh);break;case Dh.Z:e=r,n=i}Ma(Ph,Ph,Nh),Aa(Fh,Fh,Rh)}return 0===o&&(Ph[0]=Ph[1]=Fh[0]=Fh[1]=0),new cl(Ph[0],Ph[1],Fh[0]-Ph[0],Fh[1]-Ph[1])},rebuildPath:function(t){for(var e,n,r,i,o,a,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var f=s[c++];switch(1===c&&(e=r=s[c],n=i=s[c+1]),f){case Dh.M:e=r=s[c++],n=i=s[c++],t.moveTo(r,i);break;case Dh.L:o=s[c++],a=s[c++],(Uh(o-r)>l||Uh(a-i)>u||c===h-1)&&(t.lineTo(o,a),r=o,i=a);break;case Dh.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),r=s[c-2],i=s[c-1];break;case Dh.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),r=s[c-2],i=s[c-1];break;case Dh.A:var d=s[c++],p=s[c++],g=s[c++],v=s[c++],y=s[c++],m=s[c++],x=s[c++],_=s[c++],w=g>v?g:v,b=g>v?1:g/v,S=g>v?v/g:1,k=y+m;Math.abs(g-v)>.001?(t.translate(d,p),t.rotate(x),t.scale(b,S),t.arc(0,0,w,y,k,1-_),t.scale(1/b,1/S),t.rotate(-x),t.translate(-d,-p)):t.arc(d,p,w,y,k,1-_),1===c&&(e=jh(y)*g+d,n=Gh(y)*v+p),r=jh(k)*g+d,i=Gh(k)*v+p;break;case Dh.R:e=r=s[c],n=i=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case Dh.Z:t.closePath(),r=e,i=n}}}},qh.CMD=Dh;var Kh=2*Math.PI;function Zh(t){return(t%=Kh)<0&&(t+=Kh),t}var Qh=2*Math.PI;function Jh(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(r-i)%Qh<1e-4)return!0;if(o){var c=r;r=Zh(i),i=Zh(c)}else r=Zh(r),i=Zh(i);r>i&&(i+=Qh);var f=Math.atan2(l,s);return f<0&&(f+=Qh),f>=r&&f<=i||f+Qh>=r&&f+Qh<=i}function tc(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=r<e?1:-1,s=(o-e)/(r-e);1!==s&&0!==s||(a=r<e?.5:-.5);var l=s*(n-t)+t;return l===i?1/0:l>i?a:0}var ec=qh.CMD,nc=2*Math.PI,rc=1e-4;var ic=[-1,-1,-1],oc=[-1,-1];function ac(t,e,n,r,i,o,a,s,l,u){if(u>e&&u>r&&u>o&&u>s||u<e&&u<r&&u<o&&u<s)return 0;var h,c=function(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-i,h=s*s-3*a*l,c=s*l-9*a*u,f=l*l-3*s*u,d=0;if(hh(h)&&hh(c))hh(s)?o[0]=0:(k=-l/s)>=0&&k<=1&&(o[d++]=k);else{var p=c*c-4*h*f;if(hh(p)){var g=c/h,v=-g/2;(k=-s/a+g)>=0&&k<=1&&(o[d++]=k),v>=0&&v<=1&&(o[d++]=v)}else if(p>0){var y=nh(p),m=h*s+1.5*a*(-c+y),x=h*s+1.5*a*(-c-y);(k=(-s-((m=m<0?-eh(-m,ah):eh(m,ah))+(x=x<0?-eh(-x,ah):eh(x,ah))))/(3*a))>=0&&k<=1&&(o[d++]=k)}else{var _=(2*h*s-3*a*c)/(2*nh(h*h*h)),w=Math.acos(_)/3,b=nh(h),S=Math.cos(w),k=(-s-2*b*S)/(3*a),M=(v=(-s+b*(S+oh*Math.sin(w)))/(3*a),(-s+b*(S-oh*Math.sin(w)))/(3*a));k>=0&&k<=1&&(o[d++]=k),v>=0&&v<=1&&(o[d++]=v),M>=0&&M<=1&&(o[d++]=M)}}return d}(e,r,o,s,u,ic);if(0===c)return 0;for(var f,d,p=0,g=-1,v=0;v<c;v++){var y=ic[v],m=0===y||1===y?.5:1;fh(t,n,i,a,y)<l||(g<0&&(g=ph(e,r,o,s,oc),oc[1]<oc[0]&&g>1&&(void 0,h=oc[0],oc[0]=oc[1],oc[1]=h),f=fh(e,r,o,s,oc[0]),g>1&&(d=fh(e,r,o,s,oc[1]))),2===g?y<oc[0]?p+=f<e?m:-m:y<oc[1]?p+=d<f?m:-m:p+=s<d?m:-m:y<oc[0]?p+=f<e?m:-m:p+=s<f?m:-m)}return p}function sc(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var l=function(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,l=0;if(hh(o))ch(a)&&(h=-s/a)>=0&&h<=1&&(i[l++]=h);else{var u=a*a-4*o*s;if(hh(u))(h=-a/(2*o))>=0&&h<=1&&(i[l++]=h);else if(u>0){var h,c=nh(u),f=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(i[l++]=h),f>=0&&f<=1&&(i[l++]=f)}}return l}(e,r,o,s,ic);if(0===l)return 0;var u=mh(e,r,o);if(u>=0&&u<=1){for(var h=0,c=vh(e,r,o,u),f=0;f<l;f++){var d=0===ic[f]||1===ic[f]?.5:1;vh(t,n,i,ic[f])<a||(ic[f]<u?h+=c<e?d:-d:h+=o<c?d:-d)}return h}d=0===ic[0]||1===ic[0]?.5:1;return vh(t,n,i,ic[0])<a?0:o<e?d:-d}function lc(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);ic[0]=-l,ic[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u%nc<1e-4){r=0,i=nc;var h=o?1:-1;return a>=ic[0]+t&&a<=ic[1]+t?h:0}if(o){l=r;r=Zh(i),i=Zh(l)}else r=Zh(r),i=Zh(i);r>i&&(i+=nc);for(var c=0,f=0;f<2;f++){var d=ic[f];if(d+t>a){var p=Math.atan2(s,d);h=o?1:-1;p<0&&(p=nc+p),(p>=r&&p<=i||p+nc>=r&&p+nc<=i)&&(p>Math.PI/2&&p<1.5*Math.PI&&(h=-h),c+=h)}}return c}function uc(t,e,n,r,i){for(var o,a,s=0,l=0,u=0,h=0,c=0,f=0;f<t.length;){var d=t[f++];switch(d===ec.M&&f>1&&(n||(s+=tc(l,u,h,c,r,i))),1===f&&(h=l=t[f],c=u=t[f+1]),d){case ec.M:l=h=t[f++],u=c=t[f++];break;case ec.L:if(n){if(Yh(l,u,t[f],t[f+1],e,r,i))return!0}else s+=tc(l,u,t[f],t[f+1],r,i)||0;l=t[f++],u=t[f++];break;case ec.C:if(n){if($h(l,u,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],e,r,i))return!0}else s+=ac(l,u,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],r,i)||0;l=t[f++],u=t[f++];break;case ec.Q:if(n){if(Xh(l,u,t[f++],t[f++],t[f],t[f+1],e,r,i))return!0}else s+=sc(l,u,t[f++],t[f++],t[f],t[f+1],r,i)||0;l=t[f++],u=t[f++];break;case ec.A:var p=t[f++],g=t[f++],v=t[f++],y=t[f++],m=t[f++],x=t[f++];f+=1;var _=1-t[f++],w=Math.cos(m)*v+p,b=Math.sin(m)*y+g;f>1?s+=tc(l,u,w,b,r,i):(h=w,c=b);var S=(r-p)*y/v+p;if(n){if(Jh(p,g,y,m,m+x,_,e,S,i))return!0}else s+=lc(p,g,y,m,m+x,_,S,i);l=Math.cos(m+x)*v+p,u=Math.sin(m+x)*y+g;break;case ec.R:h=l=t[f++],c=u=t[f++];w=h+t[f++],b=c+t[f++];if(n){if(Yh(h,c,w,c,e,r,i)||Yh(w,c,w,b,e,r,i)||Yh(w,b,h,b,e,r,i)||Yh(h,b,h,c,e,r,i))return!0}else s+=tc(w,c,w,b,r,i),s+=tc(h,b,h,c,r,i);break;case ec.Z:if(n){if(Yh(l,u,h,c,e,r,i))return!0}else s+=tc(l,u,h,c,r,i);l=h,u=c}}return n||(o=u,a=c,Math.abs(o-a)<rc)||(s+=tc(l,u,h,c,r,i)||0),0!==s}var hc=Dl.prototype.getCanvasPattern,cc=Math.abs,fc=new qh(!0);function dc(t){zu.call(this,t),this.path=null}dc.prototype={constructor:dc,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var n,r=this.style,i=this.path||fc,o=r.hasStroke(),a=r.hasFill(),s=r.fill,l=r.stroke,u=a&&!!s.colorStops,h=o&&!!l.colorStops,c=a&&!!s.image,f=o&&!!l.image;(r.bind(t,this,e),this.setTransform(t),this.__dirty)&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),h&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,l,n)));u?t.fillStyle=this._fillGradient:c&&(t.fillStyle=hc.call(s,t)),h?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=hc.call(l,t));var d=r.lineDash,p=r.lineDashOffset,g=!!t.setLineDash,v=this.getGlobalScale();if(i.setScale(v[0],v[1]),this.__dirtyPath||d&&!g&&o?(i.beginPath(t),d&&!g&&(i.setLineDash(d),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=r.fillOpacity){var y=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,i.fill(t),t.globalAlpha=y}else i.fill(t);if(d&&g&&(t.setLineDash(d),t.lineDashOffset=p),o)if(null!=r.strokeOpacity){y=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,i.stroke(t),t.globalAlpha=y}else i.stroke(t);d&&g&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new qh},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new qh),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(i.width+=o/a,i.height+=o/a,i.x-=o/a/2,i.y-=o/a/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path.data;if(i.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,r){return uc(t,e,!0,n,r)}(o,a/s,t,e)))return!0}if(i.hasFill())return function(t,e,n){return uc(t,0,!1,e,n)}(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):zu.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(ia(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&cc(t[0]-1)>1e-10&&cc(t[3]-1)>1e-10?Math.sqrt(cc(t[0]*t[3]-t[2]*t[1])):1}},dc.extend=function(t){var e=function(e){dc.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in qo(e,dc),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},qo(dc,zu);var pc=qh.CMD,gc=[[],[],[]],vc=Math.sqrt,yc=Math.atan2;var mc=Math.sqrt,xc=Math.sin,_c=Math.cos,wc=Math.PI,bc=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Sc=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(bc(t)*bc(e))},kc=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Sc(t,e))};function Mc(t,e,n,r,i,o,a,s,l,u,h){var c=l*(wc/180),f=_c(c)*(t-n)/2+xc(c)*(e-r)/2,d=-1*xc(c)*(t-n)/2+_c(c)*(e-r)/2,p=f*f/(a*a)+d*d/(s*s);p>1&&(a*=mc(p),s*=mc(p));var g=(i===o?-1:1)*mc((a*a*(s*s)-a*a*(d*d)-s*s*(f*f))/(a*a*(d*d)+s*s*(f*f)))||0,v=g*a*d/s,y=g*-s*f/a,m=(t+n)/2+_c(c)*v-xc(c)*y,x=(e+r)/2+xc(c)*v+_c(c)*y,_=kc([1,0],[(f-v)/a,(d-y)/s]),w=[(f-v)/a,(d-y)/s],b=[(-1*f-v)/a,(-1*d-y)/s],S=kc(w,b);Sc(w,b)<=-1&&(S=wc),Sc(w,b)>=1&&(S=0),0===o&&S>0&&(S-=2*wc),1===o&&S<0&&(S+=2*wc),h.addData(u,m,x,a,s,_,S,c,o)}var Ac=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Ic=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Tc(t,e){var n=function(t){if(!t)return new qh;for(var e,n=0,r=0,i=n,o=r,a=new qh,s=qh.CMD,l=t.match(Ac),u=0;u<l.length;u++){for(var h,c=l[u],f=c.charAt(0),d=c.match(Ic)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var v=0;v<p;){var y,m,x,_,w,b,S,k=n,M=r;switch(f){case"l":n+=d[v++],r+=d[v++],h=s.L,a.addData(h,n,r);break;case"L":n=d[v++],r=d[v++],h=s.L,a.addData(h,n,r);break;case"m":n+=d[v++],r+=d[v++],h=s.M,a.addData(h,n,r),i=n,o=r,f="l";break;case"M":n=d[v++],r=d[v++],h=s.M,a.addData(h,n,r),i=n,o=r,f="L";break;case"h":n+=d[v++],h=s.L,a.addData(h,n,r);break;case"H":n=d[v++],h=s.L,a.addData(h,n,r);break;case"v":r+=d[v++],h=s.L,a.addData(h,n,r);break;case"V":r=d[v++],h=s.L,a.addData(h,n,r);break;case"C":h=s.C,a.addData(h,d[v++],d[v++],d[v++],d[v++],d[v++],d[v++]),n=d[v-2],r=d[v-1];break;case"c":h=s.C,a.addData(h,d[v++]+n,d[v++]+r,d[v++]+n,d[v++]+r,d[v++]+n,d[v++]+r),n+=d[v-2],r+=d[v-1];break;case"S":y=n,m=r;var A=a.len(),I=a.data;e===s.C&&(y+=n-I[A-4],m+=r-I[A-3]),h=s.C,k=d[v++],M=d[v++],n=d[v++],r=d[v++],a.addData(h,y,m,k,M,n,r);break;case"s":y=n,m=r,A=a.len(),I=a.data,e===s.C&&(y+=n-I[A-4],m+=r-I[A-3]),h=s.C,k=n+d[v++],M=r+d[v++],n+=d[v++],r+=d[v++],a.addData(h,y,m,k,M,n,r);break;case"Q":k=d[v++],M=d[v++],n=d[v++],r=d[v++],h=s.Q,a.addData(h,k,M,n,r);break;case"q":k=d[v++]+n,M=d[v++]+r,n+=d[v++],r+=d[v++],h=s.Q,a.addData(h,k,M,n,r);break;case"T":y=n,m=r,A=a.len(),I=a.data,e===s.Q&&(y+=n-I[A-4],m+=r-I[A-3]),n=d[v++],r=d[v++],h=s.Q,a.addData(h,y,m,n,r);break;case"t":y=n,m=r,A=a.len(),I=a.data,e===s.Q&&(y+=n-I[A-4],m+=r-I[A-3]),n+=d[v++],r+=d[v++],h=s.Q,a.addData(h,y,m,n,r);break;case"A":x=d[v++],_=d[v++],w=d[v++],b=d[v++],S=d[v++],Mc(k=n,M=r,n=d[v++],r=d[v++],b,S,x,_,w,h=s.A,a);break;case"a":x=d[v++],_=d[v++],w=d[v++],b=d[v++],S=d[v++],Mc(k=n,M=r,n+=d[v++],r+=d[v++],b,S,x,_,w,h=s.A,a)}}"z"!==f&&"Z"!==f||(h=s.Z,a.addData(h),n=i,r=o),e=h}return a.toStatic(),a}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){!function(t,e){var n,r,i,o,a,s=t.data,l=pc.M,u=pc.C,h=pc.L,c=pc.R,f=pc.A,d=pc.Q;for(i=0,o=0;i<s.length;){switch(n=s[i++],o=i,r=0,n){case l:case h:r=1;break;case u:r=3;break;case d:r=2;break;case f:var p=e[4],g=e[5],v=vc(e[0]*e[0]+e[1]*e[1]),y=vc(e[2]*e[2]+e[3]*e[3]),m=yc(-e[1]/y,e[0]/v);s[i]*=v,s[i++]+=p,s[i]*=y,s[i++]+=g,s[i++]*=v,s[i++]*=y,s[i++]+=m,s[i++]+=m,o=i+=2;break;case c:x[0]=s[i++],x[1]=s[i++],ka(x,x,e),s[o++]=x[0],s[o++]=x[1],x[0]+=s[i++],x[1]+=s[i++],ka(x,x,e),s[o++]=x[0],s[o++]=x[1]}for(a=0;a<r;a++){var x;(x=gc[a])[0]=s[i++],x[1]=s[i++],ka(x,x,e),s[o++]=x[0],s[o++]=x[1]}}}(n,t),this.dirty(!0)},e}function Cc(t,e){return new dc(Tc(t,e))}var Ec=function(t){zu.call(this,t)};Ec.prototype={constructor:Ec,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&pu(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),Tu(r,n)?(this.setTransform(t),vu(this,t,r,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=Ml.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&pu(t),!this._rect){var e=t.text;null!=e?e+="":e="";var n=Zl(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,ku(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},qo(Ec,zu);var zc=dc.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Lc=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var Oc,Dc=dc.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:(Oc=dc.prototype.brush,Ao.browser.ie&&Ao.browser.version>=11?function(){var t,e=this.__clipPaths,n=this.style;if(e)for(var r=0;r<e.length;r++){var i=e[r],o=i&&i.shape,a=i&&i.type;if(o&&("sector"===a&&o.startAngle===o.endAngle||"rect"===a&&(!o.width||!o.height))){for(var s=0;s<Lc.length;s++)Lc[s][2]=n[Lc[s][0]],n[Lc[s][0]]=Lc[s][1];t=!0;break}}if(Oc.apply(this,arguments),t)for(s=0;s<Lc.length;s++)n[Lc[s][0]]=Lc[s][2]}:Oc),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(a),h=Math.sin(a);t.moveTo(u*i+n,h*i+r),t.lineTo(u*o+n,h*o+r),t.arc(n,r,o,a,s,!l),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,a,l),t.closePath()}}),Pc=dc.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}});function Fc(t,e,n,r,i,o,a){var s=.5*(n-t),l=.5*(r-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*i+e}function Nc(t,e,n){var r=e.points,i=e.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(t,e,n,r){var i,o,a,s,l=[],u=[],h=[],c=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)Ma(a,a,t[f]),Aa(s,s,t[f]);Ma(a,a,r[0]),Aa(s,s,r[1])}for(f=0,d=t.length;f<d;f++){var p=t[f];if(n)i=t[f?f-1:d-1],o=t[(f+1)%d];else{if(0===f||f===d-1){l.push(va(t[f]));continue}i=t[f-1],o=t[f+1]}ma(u,o,i),xa(u,u,e);var g=wa(p,i),v=wa(p,o),y=g+v;0!==y&&(g/=y,v/=y),xa(h,u,-g),xa(c,u,v);var m=ya([],p,h),x=ya([],p,c);r&&(Aa(m,m,a),Ma(m,m,s),Aa(x,x,a),Ma(x,x,s)),l.push(m),l.push(x)}return n&&l.push(l.shift()),l}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===i&&(r=function(t,e){for(var n=t.length,r=[],i=0,o=1;o<n;o++)i+=wa(t[o-1],t[o]);var a=i/2;for(a=a<n?n:a,o=0;o<a;o++){var s,l,u,h=o/(a-1)*(e?n:n-1),c=Math.floor(h),f=h-c,d=t[c%n];e?(s=t[(c-1+n)%n],l=t[(c+1)%n],u=t[(c+2)%n]):(s=t[0===c?c:c-1],l=t[c>n-2?n-1:c+1],u=t[c>n-3?n-1:c+2]);var p=f*f,g=f*p;r.push([Fc(s[0],d[0],l[0],u[0],f,p,g),Fc(s[1],d[1],l[1],u[1],f,p,g)])}return r}(r,n)),t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}var Rc=dc.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Nc(t,e,!0)}}),Bc=dc.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Nc(t,e,!1)}}),Wc=Math.round;function jc(t,e,n){var r=Wc(2*t);return(r+Wc(e))%2==0?r/2:(r+(n?1:-1))/2}var Gc={},Hc=dc.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,r,i,o;this.subPixelOptimize?(!function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x,o=e.y,a=e.width,s=e.height;t.x=jc(i,r,!0),t.y=jc(o,r,!0),t.width=Math.max(jc(i+a,r,!1)-t.x,0===a?0:1),t.height=Math.max(jc(o+s,r,!1)-t.y,0===s?0:1)}}(Gc,e,this.style),n=Gc.x,r=Gc.y,i=Gc.width,o=Gc.height,Gc.r=e.r,e=Gc):(n=e.x,r=e.y,i=e.width,o=e.height),e.r?uu(t,e):t.rect(n,r,i,o),t.closePath()}}),Uc={},Vc=dc.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,i,o;this.subPixelOptimize?(!function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x1,o=e.x2,a=e.y1,s=e.y2;Wc(2*i)===Wc(2*o)?t.x1=t.x2=jc(i,r,!0):(t.x1=i,t.x2=o),Wc(2*a)===Wc(2*s)?t.y1=t.y2=jc(a,r,!0):(t.y1=a,t.y2=s)}}(Uc,e,this.style),n=Uc.x1,r=Uc.y1,i=Uc.x2,o=Uc.y2):(n=e.x1,r=e.y1,i=e.x2,o=e.y2);var a=e.percent;0!==a&&(t.moveTo(n,r),a<1&&(i=n*(1-a)+i*a,o=r*(1-a)+o*a),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),qc=[];function Yc(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?dh:fh)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?dh:fh)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?yh:vh)(t.x1,t.cpx1,t.x2,e),(n?yh:vh)(t.y1,t.cpy1,t.y2,e)]}var $c=dc.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,r),null==l||null==u?(h<1&&(xh(n,a,i,h,qc),a=qc[1],i=qc[2],xh(r,s,o,h,qc),s=qc[1],o=qc[2]),t.quadraticCurveTo(a,s,i,o)):(h<1&&(gh(n,a,l,i,h,qc),a=qc[1],l=qc[2],i=qc[3],gh(r,s,u,o,h,qc),s=qc[1],u=qc[2],o=qc[3]),t.bezierCurveTo(a,s,l,u,i,o)))},pointAt:function(t){return Yc(this.shape,t,!1)},tangentAt:function(t){var e=Yc(this.shape,t,!0);return _a(e,e)}}),Xc=dc.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*i+n,u*i+r),t.arc(n,r,i,o,a,!s)}}),Kc=function(t){this.colorStops=t||[]};Kc.prototype={constructor:Kc,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Zc=function(t,e,n,r,i,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,Kc.call(this,i)};Zc.prototype={constructor:Zc},qo(Zc,Kc);var Qc=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,Kc.call(this,r)};function Jc(t){var e,n,r,i;return"number"==typeof t?e=n=r=i=t:t instanceof Array?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=0,{r1:e,r2:n,r3:r,r4:i}}Qc.prototype={constructor:Qc},qo(Qc,Kc);var tf=dc.extend({type:"borderRect",shape:{r:0,borderEnable:1,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;e.r||1!==e.borderEnable&&0!==e.borderEnable?function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.r;i<0&&(n+=i,i=-i),o<0&&(r+=o,o=-o);var s,l=Jc(a),u=l.r1,h=l.r2,c=l.r3,f=l.r4,d=Jc(e.borderEnable),p=d.r1,g=d.r2,v=d.r3,y=d.r4;u+h>i&&(u*=i/(s=u+h),h*=i/s),c+f>i&&(c*=i/(s=c+f),f*=i/s),h+c>o&&(h*=o/(s=h+c),c*=o/s),u+f>o&&(u*=o/(s=u+f),f*=o/s),p&&(t.moveTo(n+u,r),t.lineTo(n+i-h,r),0!==h&&t.arc(n+i-h,r+h,h,-Math.PI/2,0)),g&&(t.moveTo(n+i-h,r),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2)),v&&(t.moveTo(n+i,r+o-c),t.lineTo(n+f,r+o),0!==f&&t.arc(n+f,r+o-f,f,Math.PI/2,Math.PI)),y&&(t.moveTo(n+f,r+o),t.lineTo(n,r+u),0!==u&&t.arc(n+u,r+u,u,Math.PI,1.5*Math.PI))}(t,e):t.rect(n,r,i,o),t.closePath()}}),ef=Math.PI,nf=2*ef,rf=nf-1e-6;function of(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function af(){return new of}function sf(t){return function(){return t}}function lf(t){this._context=t}function uf(t){return new lf(t)}function hf(t){return t[0]}function cf(t){return t[1]}function ff(){var t=hf,e=cf,n=sf(!0),r=null,i=uf,o=null;function a(a){var s,l,u,h=a.length,c=!1;for(null==r&&(o=i(u=af())),s=0;s<=h;++s)!(s<h&&n(l=a[s],s,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(l,s,a),+e(l,s,a));if(u)return o=null,u+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:sf(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:sf(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:sf(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}of.prototype=af.prototype={constructor:of,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,h=a-e,c=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>1e-6)if(Math.abs(h*s-l*u)>1e-6&&i){var f=n-o,d=r-a,p=s*s+l*l,g=f*f+d*d,v=Math.sqrt(p),y=Math.sqrt(c),m=i*Math.tan((ef-Math.acos((p+c-g)/(2*v*y)))/2),x=m/y,_=m/v;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*u)+","+(e+x*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(c<0&&(c=c%nf+nf),c>rf?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):c>1e-6&&(this._+="A"+n+","+n+",0,"+ +(c>=ef)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var df=dc.extend({type:"d3-line",shape:{data:[],x:void 0,y:void 0,defined:void 0,curve:void 0,yStart:0,percent:1},style:{stroke:"#000",fill:null},updateLine:function(){!this.line&&(this.line=ff());var t=this.line,e=this.shape;for(var n in e)!~["data","percent","yStart"].indexOf(n)&&t[n]&&void 0!==e[n]&&("y"===n?function(){var r=e[n],i=na(r),o=e.percent,a=e.yStart,s=na(a);t[n](function(t,e,n){var l=i?r(t,e,n):r;return void 0===a?l:l*o+(s?a(t,e,n):a)*(1-o)})}():t[n](e[n]))},buildPath:function(t,e){this.updateLine(),this.line.context(t)(e.data)}}),pf=Math.round;function gf(t){return dc.extend(t)}function vf(t,e,n,r){var i=Cc(t,e),o=i.getBoundingRect();if(n){var a=o.width/o.height;if("center"===r){var s,l=n.height*a;s=l<=n.width?n.height:(l=n.width)/a;var u=n.x+n.width/2,h=n.y+n.height/2;n.x=u-l/2,n.y=h-s/2,n.width=l,n.height=s}xf(i,n)}return i}function yf(t,e,n){var r=new Lu({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(function(t,e){var n,r=e.width/e.height,i=t.height*r;i<=t.width?n=t.height:(i=t.width,n=i/r);var o=t.x+t.width/2,a=t.y+t.height/2;return{x:o-i/2,y:a-n/2,width:i,height:n}}(e,i))}}});return r}var mf=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new dc(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},a};function xf(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function _f(t){var e=t.shape,n=t.position||[0,0],r=t.style.lineWidth;return pf(2*e.x1)===pf(2*e.x2)&&(e.x1=e.x2=bf(e.x1,r,!0,n[0])),pf(2*e.y1)===pf(2*e.y2)&&(e.y1=e.y2=bf(e.y1,r,!0,n[1])),t}function wf(t){if(!t.style.stroke)return t;var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,o=e.width<0,a=e.height<0,s=Math.abs(e.width),l=Math.abs(e.height);return e.x=bf(e.x,n,!0),e.y=bf(e.y,n,!0),e.width=Math.max(bf(r+s,n,!1)-e.x,0===s?0:1),o&&(e.width=-e.width),e.height=Math.max(bf(i+l,n,!1)-e.y,0===l?0:1),a&&(e.height=-e.height),t}function bf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],i=pf(2*t);return(i+pf(e)+(r?pf(2*r):0))%2==0?i/2:(i+(n?1:-1))/2}function Sf(t){return null!=t&&"none"!=t}function kf(t){return"string"==typeof t?Cs(t,-.1):t}function Mf(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,r=t.__hoverStl;r.fill=r.fill||(Sf(n)?kf(n):null),r.stroke=r.stroke||(Sf(e)?kf(e):null);var i={};for(var o in r)r.hasOwnProperty(o)&&(i[o]=t.style[o]);t.__normalStl=i,t.__hoverStlDirty=!1}}function Af(t){t.__isHover||(Mf(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(t.setStyle(t.__hoverStl),t.z2+=1),t.__isHover=!0)}function If(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function Tf(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Af(t)}):Af(t)}function Cf(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&If(t)}):If(t)}function Ef(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&Mf(t)}function zf(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Tf(this)}function Lf(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Cf(this)}function Of(){this.__isEmphasis=!0,Tf(this)}function Df(){this.__isEmphasis=!1,Cf(this)}function Pf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableMouse:!1};t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&Ef(t,e)}):Ef(t,e),n&&n.disableMouse||t.on("mouseover",zf).on("mouseout",Lf),t.on("emphasis",Of).on("normal",Df)}var Ff=["fill","stroke","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","position","offset","lineWidth"],Nf=["textFill","textStroke","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","textPosition","textOffset","textLineWidth"];function Rf(t){if(t){var e=t.style?t.style:t;return e.rich&&Xo(e.rich,function(t){Rf(t)}),Xo(Ff,function(t,n){void 0!==e[t]&&(e[Nf[n]]=e[t],delete e[t])}),t}}var Bf=ia,Wf=Ro,jf=Ko;function Gf(t,e){if(Bf(t)){var n=t.colorStops,r=e&&1!==e?jf(Wf(n).reverse(),function(t){var n=t.offset;return{color:t.color,offset:1-n*(1-e)}}):[];t.colorStops=jf(n,function(t){var n=t.offset;return{color:t.color,offset:e?e*n:1-n}}).concat(r)}}function Hf(t,e){if(t){if(t.hasOwnProperty("fill")&&Bf(t.fill)||t.hasOwnProperty("stroke")&&Bf(t.stroke)){var n=Wf(t);return Gf(n.fill,e),Gf(n.stroke,e),n}return t}}function Uf(t,e,n){var r=n.onDragStart,i=n.onDragging,o=n.onDragEnd,a=!1,s=void 0;function l(t){a||(a=!0,s=t.target,r&&r(t))}function u(t){a&&(t.target=s,i&&i(t))}function h(t){a&&(t.target=s,o&&o(t),a=!1,s=void 0)}t.on("mousedown",l),e.on("mousemove",u),e.on("mouseup",h),e.on("globalout",h),t.disableDrag=function(){t.off("mousedown",l),e.off("mousedown",u),e.off("mousedown",h)}}var Vf=Object.freeze({extendShape:gf,extendPath:function(t,e){return function(t,e){return dc.extend(Tc(t,e))}(t,e)},PathString:function(t,e){return Cc(t,e)},makePath:vf,makeImage:yf,mergePath:mf,resizePath:xf,subPixelOptimizeLine:_f,subPixelOptimizeRect:wf,subPixelOptimize:bf,setHoverStyle:Pf,formatTextStyle:Rf,reverseStyleStops:Hf,enableDrag:Uf,Path:dc,Group:fl,Image:Lu,Text:Ec,Circle:zc,Sector:Dc,Ring:Pc,Polygon:Rc,Polyline:Bc,Rect:Hc,Line:Vc,D3Line:df,BorderRoundRect:tf,BezierCurve:$c,Arc:Xc,LinearGradient:Zc,RadialGradient:Qc,BoundingRect:cl,colorTool:Ps});function qf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(void 0!==t){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):"number"==typeof t?t:null==t?NaN:+t;var n}}function Yf(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return r}function $f(t,e,n){if(t&&e){for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(i);return r}}function Xf(t,e){return ea(t)?{width:qf(t[0],e),height:qf(t[1],e)}:{width:qf(t,e),height:qf(t,e)}}function Kf(t){return Object.prototype.toString.call(t).slice(8,-1)}function Zf(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=0,a=t;for(e=e.split(".");o<e.length-1;o++)a[e[o]]=a[e[o]]||{},a=a[e[o]];return"Object"===Kf(n)&&r?a[e[o]]=Bo(a[e[o]]||{},n,i):a[e[o]]=n,t}function Qf(t,e){var n=t,r=0;for(e=e.split(".");r<e.length-1;r++){if(!n[e[r]])return;n=n[e[r]]}return n[e[r]]}var Jf=Object.freeze({parsePercent:qf,findAll:function(t,e,n){if(t&&e){for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},findIndex:Yf,findAllIndex:$f,parseSize:Xf,typeOf:Kf,setObjectKV:Zf,getObjectKV:Qf,enableClassManagement:th,$override:No,clone:Ro,merge:Bo,mergeAll:function(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=Bo(n,t[r],e);return n},extend:Wo,defaults:jo,createCanvas:Ho,getContext:Uo,indexOf:Vo,inherits:qo,mixin:Yo,isArrayLike:$o,each:Xo,map:Ko,reduce:function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===Po)return t.reduce(e,n,r);for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}},filter:Zo,find:Qo,bind:Jo,curry:ta,isArray:ea,isFunction:na,isString:ra,isObject:ia,isBuiltInObject:oa,isTypedArray:function(t){return!!To[Co.call(t)]},isDom:aa,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},retrieve2:sa,retrieve3:la,slice:function(){return Function.call.apply(Oo,arguments)},normalizeCssArray:ua,assert:function(t,e){if(!t)throw new Error(e)},trim:ha,setAsPrimitive:function(t){t[ca]=!0},isPrimitive:fa,createHashMap:function(t){return new da(t)},concatArray:function(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n},noop:function(){}}),td=function(){function t(){s(this,t),this._shapeMap={},this.group=new fl}return t.prototype.set=function(e,n){var r=this.group,i=this.getShape(e);return i&&(n instanceof t?r.remove(i.group):r.remove(i)),n instanceof t?(r.add(n.group),n.group.groupShape=n):r.add(n),this._shapeMap[e]=n,n},t.prototype.getShape=function(t,e){var n=this._shapeMap[t];return n&&n instanceof fl?void 0===e?n:!!(n=n.childOfName(e))&&(n.groupShape?n.groupShape:n):n},t.prototype.eachShape=function(t){Xo(this._shapeMap,t)},t.prototype.setShape=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.animation,a=i.animateFrom,s=i.duration,l=void 0===s?500:s,u=i.easing,h=void 0===u?"cubicOut":u,c=i.animateList,f=arguments[4],d=this.group,p=this.getShape(e),g=!1;if(o&&void 0===c&&(c=a),p)if(o){var v=ed(c,r),y=ed(c,p._shapeMap?p._shapeMap:p);p.attr(r),p.attr(y),p.animateTo(v,l,h)}else p.attr(r);else if((p=ea(r)?new(Function.prototype.bind.apply(n,[null].concat(r))):new n(r))instanceof t?(d.add(p.group),p.group.groupShape=p):d.add(p),g=!0,o&&a){var m=ed(a,r);p.attr(a),p.animateTo(m,l,h)}return this._shapeMap[e]=p,g&&f&&f(p),p},t.prototype.setShapeGroup=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.animation,a=i.animateFrom,s=i.duration,l=void 0===s?500:s,u=i.easing,c=void 0===u?"cubicOut":u,f=i.animateList,d=i.animateLeave,p=arguments[4],g=arguments[5],v=this.group,y=this.getShape(e),m=(r.length,void 0),x=!1;y||(y=new fl,v.add(y),x=!0);var _,w=function(t,e,n){for(var r={},i=t.length,o=0;o<i;o++){var a=t[o];a._index=o,void 0===a.key?(a.name=o,r[o]=a):(a.name=a.key,r[a.key]=a,delete a.key)}return r}(r),b=(_={},y.eachChild(function(t,e){void 0===t.name?(t.name=e,_[e]=t):_[t.name]=t}),_);return o&&void 0===f&&(f=a),function(t,e){Xo(e,function(e,n){t[n]?e.action={type:"UPDATE",payload:{oldChild:t[n],index:e._index}}:e.action={type:"CREATE",payload:{index:e._index}},delete e._index}),Xo(t,function(t,n){e[n]||(e[n]=t,e[n].action={type:"REMOVE",payload:{oldChild:t}})})}(b,w),Xo(w,function(e,r){var i=e.action,s=i.type,u=i.payload,p=h(e,["action"]);switch(s){case"CREATE":if((m=new n(p))instanceof t?(y.add(m.group),m.group.groupShape=m):y.add(m),o&&a){var v=ea(a)?a[u.index]:Ro(a),x=ed(v,p);m.attr(v),m.animateTo(x,l,c)}g&&g(m);break;case"UPDATE":if((m=u.oldChild).groupShape&&(m=m.groupShape),o){var _=ea(f)?f[u.index]:f,w=ed(_,p),b=ed(_,m._shapeMap?m._shapeMap:m);m.attr(p),m.attr(b),m.animateTo(w,l,c)}else m.attr(p);break;case"REMOVE":o&&d?u.oldChild.animateTo(d,l,function(){y.remove(u.oldChild)}):y.remove(u.oldChild)}}),this._shapeMap[e]=y,x&&p&&p(y),y},t.prototype.removeShape=function(t){var e=this.getShape(t);e&&(this.group.remove(e.group?e.group:e),delete this._shapeMap[t])},t.prototype.remove=function(){for(var t in this.group.removeAll(),this.group.dirty(),this._shapeMap){var e=this._shapeMap[t];e.group?e.group.off():e.off(),delete this._shapeMap[t]}},t}();function ed(t,e){if(ia(t)){var n=ea(t)?[]:{};for(var r in t)ia(t[r])?e[r]&&(n[r]=ed(t[r],e[r])):n[r]=e[r];return n}return e}var nd={viewDidRenderAfterSetOption:"VIEW_DID_RENDER_AFTER_SET_OPTION",viewDidRender:"VIEW_DID_RENDER"},rd={titleClick:"TITLE_CLICK"},id={move:"AXIS_MOVE",out:"AXIS_OUT",zoomChange:"AXIS_ZOOM_CHANGED",domainChange:"AXIS_DOMAIN_CHANGED"},od={move:"RADAR_AXIS_MOVE",out:"RADAR_AXIS_OUT"},ad={over:"GEO_AXIS_OVER",out:"GEO_AXIS_OUT",itemClick:"GEO_AXIS_ITEM_CLICK"},sd={move:"AXISPOINTER_MOVE",out:"AXISPOINTER_OUT",before:"BEFORE_AXISPOINTER_MOVE",after:"AFTER_AXISPOINTER_MOVE"},ld={start:"ZOOM_MOVE_START",moving:"ZOOM_MOVING",end:"ZOOM_MOVE_END",wheel:"ZOOM_WHEEL",change:"ZOOM_CHANGE"},ud={itemClick:"ITEM_CLICK",dblClick:"DBL_CLICK",selectedListChange:"SELECTEDLIST_CHANGE",mouseover:"ITEM_MOUSEOVER",mouseout:"ITEM_MOUSEOUT",mousemove:"ITEM_MOUSEMOVE"},hd={click:"LEGEND_CLICK",mouseover:"LEGEND_MOUSEOVER",mouseout:"LEGEND_MOUSEOUT",mousemove:"LEGEND_MOUSEMOVE"},cd={showLabel:"LABEL",markerClick:"LABEL_NAME",itemClick:"ITEM_CLICK",mouseout:"ITEM_MOUSEOUT",mouseover:"ITEM_MOUSEMOVE"},fd={pointMousemove:"MARKPOINT_MOUSEMOVE",pointMouseout:"MARKPOINT_MOUSEOUT",pointMouseover:"MARKPOINT_MOUSEOVER",pointClick:"MARKPOINT_CLICK"},dd={lineMousemove:"MARKLINE_MOUSEMOVE",lineMouseout:"MARKLINE_MOUSEOUT",lineMouseover:"MARKLINE_MOUSEOVER",lineClick:"MARKLINE_CLICK"},pd={nodeClick:"NODE_CLICK",nodeMouseover:"NODE_MOUSEOVER",nodeMousemove:"NODE_MOUSEMOVE",nodeMouseout:"NODE_MOUSEOUT",edgeClick:"EDGE_CLICK",edgeMouseover:"EDGE_MOUSEOVER",edgeMousemove:"EDGE_MOUSEMOVE",edgeMouseout:"EDGE_MOUSEOUT"},gd={itemClick:"ITEM_CLICK"},vd={nodeClick:"FOCUS_NODE",linkClick:"FOCUS_EDGE"},yd={willUpdate:"MODEL_WILL_UPDATE",didUpdate:"MODEL_DID_UPDATE"},md={didRender:"VIEW_DID_RENDER"},xd={update:"PROVIDER_UPDATE"},_d={update:"POOL_UPDATE"},wd=Object.freeze({markPointActions:fd,markLineActions:dd,dataProviderActions:xd,dataPoolActions:_d,titleActions:rd,axisActions:id,radarAxisActions:od,axisPointerActions:sd,dataZoomActions:ld,seriesActions:ud,legendActions:hd,geoActions:cd,geoAxisActions:ad,dagrexActions:pd,sketchActions:gd,forceActions:vd,viewActions:md,modelActions:yd,instanceActions:nd}),bd="view",Sd=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=bd,o._lastUpdateTag=void 0,o.setRoam(n,r,i),o}return u(e,t),e.prototype.zoomable=function(t,e,n){var r=!(t.get("roam")||{}).enable;t.set({roam:{enable:r}})},e.prototype.setRoam=function(t,e,n){var r=this,i=t.get("roam")||{},o=e.get("roam"),a=e.get("preventDefaultMouseWheel");Bo(i,o);var s=void 0;if(i.inGrid){var l=t.get("$gridIndex");s=e.getComponentByIndex("grid",l)}n.on("mousewheel",function(t){var e=t.event,n=t.offsetX,o=t.offsetY,l=t.wheelDelta;i.inGrid||s&&!s.isPointInGrid(n,o)||!i.enable||r.scale(n,o,l,i),a&&e.preventDefault&&e.preventDefault()}),n.on("pinch",function(t){t.offsetX,t.offsetY;var e=t.pinchX,n=t.pinchY;s&&!s.isPointInGrid(e,n)||!i.enable||r.scale(e,n,t.pinchScale-1,i)}),this._roaming=!1;var u=void 0,h=void 0,c=void 0;n.on("mousedown",function(t){var e=t.offsetX,n=t.offsetY,o=t.target;if((!s||s.isPointInGrid(e,n))&&i.enable){var a=r.group;if(!a||!i.onTarget&&o)return;r._roaming=!0,u=e,h=n,c=[a.position[0],a.position[1]]}}),n.on("mousemove",function(t){var e=t.offsetX,o=t.offsetY;if(r._roaming){var a=r.group,s=0,l=0;if(i.horiDrag&&(s=e-u),i.vertiDrag&&(l=o-h),i.inGrid){var f=a.getBoundingRect(),d=n.getWidth(),p=n.getHeight();s=Math.max(-f.x,Math.min(d-f.width-f.x,c[0]+s)),l=Math.max(-f.y,Math.min(p-f.height-f.y,c[1]+l))}else s+=c[0],l+=c[1];a.attr({position:[s,l]})}}),n.on("mouseup",function(t){r._roaming=!1}),this.roam=i},e.prototype.scale=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.group;if(i){var o=.1*n+1,a=i.getLocalTransform(),s=r.scaleMax||1/0,l=r.scaleMin||-1/0;a[0]*o<=s&&a[3]*o<=s&&a[3]*o>=l&&a[3]*o>=l&&(Qa(a,a,[-t,-e]),Ja(a,a,[o,o]),Qa(a,a,[t,e]),i.transform=a,i.decomposeTransform(),i.dirty())}},e.prototype.updateZ=function(t){var e=t.get("z"),n=t.get("zlevel");this.group.traverse(function(t){"group"!==t.type&&(!isNaN(e)&&(t.z=e),!isNaN(n)&&(t.zlevel=n))})},e.prototype.__render=function(t,e,n){this._lastUpdateTag!==t._updateTag&&(this.render(t,e,n),this.updateZ(t),this._lastUpdateTag=t._updateTag,t.get("enableEdit")?this.renderEdit(t,e,n):this.removeEdit(),n.dispatchAction(t,md.didRender,{model:t,view:this}))},e.prototype.render=function(t,e,n){},e.prototype.renderEdit=function(t,e,n){},e.prototype.removeEdit=function(){var t=this;this.eachShape(function(e,n){0===n.indexOf("_edit_")&&(e.disableDrag&&e.disableDrag(),t.removeShape(n))})},e.prototype.remove=function(){var e;(e=t.prototype.remove).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))},e}(td);Sd.type=bd;var kd=th(Sd),Md="chart",Ad=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Md,c(r,n)}return u(e,t),e.prototype.highlight=function(t,e,n,r){},e.prototype.downplay=function(t,e,n,r){},e}(kd);Ad.type=Md;var Id=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=n.constructor.type,n}return u(e,t),e}(kd);Id.type="component";var Td={dependentWillUpdate:"DEPENDENT_WILL_UPDATE",seriesWillUpdate:"SERIES_WILL_UPDATE",dataUpdate:"DATA_UPDATED",setOption:"SET_OPTION",mergeOption:"MERGE_OPTION"},Cd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=arguments[2],i=arguments[3];s(this,t),this.__dirty=!0,this._updateTime=0,this.option=e,this.parentModel=n,this.globalModel=r,this.global=i}return t.prototype.dirty=function(t){var e=this.globalModel;return!(t&&!this.shouldModelDirty(t,this,e))&&(this.__dirty=!0,e&&e!==this&&e.dirty(this,t),!0)},t.prototype.shouldModelDirty=function(t,e,n){return!0},t.prototype.update=function(){},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.__update=function(t){(this.isDirty()||t)&&(this.global.dispatchAction(this,yd.willUpdate,{model:this,option:this._option},!1),this.beforeUpdate(t),this.update(t),this.__dirty=!1,this._updateTag=++this._updateTime+"|"+this.id,this.global.dispatchAction(this,yd.didUpdate,{model:this,option:this._option},!1),this.afterUpdate(t))},t.prototype.isDirty=function(){return this.__dirty},t.prototype.get=function(t){return t?this._option[t]:this._option},t.prototype.set=function(t,e){var n;!ra(t)||this._option[t]===e&&"object"!==(void 0===e?"undefined":a(e))?ia(t)&&(Bo(this._option,t,!0),this.dirty({type:Td.mergeOption,payload:t})):(this._option[t]=e,this.dirty({type:Td.setOption,payload:(n={},n[t]=e,n)}))},t}();"undefined"!=typeof navigator&&navigator.platform;var Ed={textStyle:{fontFamily:"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},roam:{enable:!1,inGrid:!1,horiDrag:!0,vertiDrag:!0},backgroundColor:void 0,preventDefaultMouseWheel:!0,animation:!0,animationDuration:500,animationEasing:"cubicOut"},zd=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Ld=function(t){function e(n,r,i,o,a){s(this,e);var l=c(this,t.apply(this,arguments));for(var u in l.__dataDirty=!0,a)l[u]=a[u];var h=n.data,f=n.originData;return delete n.data,delete n.originData,l.option=Ro(l.option),void 0!==h&&(n.data=l.option.data=h),void 0!==f&&(n.originData=l.option.originData=f),l.formatOption(l.option),l._option=Bo(l.option,l.constructor.defaultOption,!1),l}return u(e,t),e.prototype.formatOption=function(t){var e=this.constructor.emphasisList,n=t.emphasis||{};e&&Xo(e,function(e){var r=t[e];r?r.normal||r.emphasis||(r.style&&(r.style.normal||r.style.emphasis)?(r.style.normal&&(t[e]={normal:l({},r,{style:r.style.normal})}),r.style.emphasis&&(t[e].emphasis=l({},r,{style:r.style.emphasis}))):(t[e]={normal:r},n[e]&&(t[e].emphasis=n[e]))):n[e]&&(t[e]={emphasis:n[e]})})},e.prototype.getAxisModel=function(t){var e=this.globalModel,n=this.get("$axisIndex"),r=void 0;if(ea(n))Xo(n,function(n){var i=e.getComponentByIndex("axis",n);i&&i.get("xOrY")===t&&(r=i)});else if(void 0!==n){var i=e.getComponentByIndex("axis",n);i&&i.get("xOrY")===t&&(r=i)}return r},e.prototype.updateData=function(){var t=this.get("data"),e=this.get("$dataIndex"),n=!0;if(void 0!==e){var r=this.globalModel.getComponentByIndex("data",e),i=this.get("dataKey"),o=r.getData(i);o?this._data=o:n=!1}else if(void 0!==t){var a=t.dataIndex;if(void 0===a)this._data=t;else{var s=this.globalModel.getComponentByIndex("data",a);this._data=s.getData(t.key)}}else n=!1,this.__dataDirty=!1;n&&(this.formatData&&(this._data=this.formatData(this._data)),this.__dataDirty=!1,this.dirty({type:Td.dataUpdate,payload:{}}))},e.prototype.getData=function(t){if(void 0!==this._data)return void 0===t?this._data:this._data[t]},e.prototype.getRealData=function(t){var e=this.data||this._data;if(void 0!==e)return void 0===t?e:e[t]},e.prototype.dataDirty=function(t){return this.__dataDirty=!0,!0},e.prototype.isDataDirty=function(){return this.__dataDirty},e.prototype.get=function(t){return t?void 0!==Ed[t]&&void 0===this.option[t]?this.globalModel.get(t):this._option[t]:this._option},e.prototype.set=function(e,n){"data"===e&&this.dataDirty(),t.prototype.set.call(this,e,n)},e}(Cd);Ld.type="component",Ld.emphasisList=void 0;var Od=th(Ld),Dd="series",Pd=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=Dd,n.global.registerAction(n,ud.unselected,function(){n.onUnSelected&&n.onUnSelected()}),n}return u(e,t),e.prototype.getSeriesColor=function(t){var e=void 0,n=void 0;if(arguments.length&&this.get("name")!==t){var r=this.findDataNamed(t);r&&(e=r.itemStyle,n=r.color)}else e=this.get("itemStyle"),n=this.get("color");return n||(e&&e.normal?e.normal.stroke||e.normal.fill:void 0)},e.prototype.findDataNamed=function(t){var e=this.getData();if(ia(e)&&!ea(e)){var n=e.values||e.value||e.data;void 0!==n&&(e=n),!ea(e)&&(e=[e])}return function(t,e){return Qo(t,function(t){return t.name===e})}(e,t)},e.prototype.getDataExtent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.getData();function o(t){if(t){var e="x"===t.get("xOrY")?0:1;if("ordinal"===t.getAxisType()){var n=t.startIndex,r=t.endIndex;i=Zo(i,function(t){return t[e]>=n&&t[e]<=r})}else{var o=t.domain[0],a=t.domain[1];i=Zo(i,function(t){return t[e]>=o&&t[e]<=a})}}}r&&(o(this.getAxisModel("x")),"scatter"===this.get("type")&&o(this.getAxisModel("y")));var a=i.length;if("average"===t){for(var s=0,l=0;l<a;l++){var u=i[l][e];ea(u)&&(u=u[n]),s+=u}return s/a}if("left"===t||"right"===t){var h="left"===t?0:a-1,c=i[h][e];ea(c)&&(c=c[n]);var f=c;return[i[h],f]}for(var d="max"===t,p=d?-1/0:1/0,g=void 0,v=0;v<a;v++){var y=i[v][e];ea(y)&&(y=y[n]),d?p<y&&(p=y,g=v):p>y&&(p=y,g=v)}return[i[g],p]},e.prototype.getData=function(){var e,n=(e=t.prototype.getData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)));if(arguments.length)return n;var r=this.get("$visualMapIndex"),i=this.globalModel.getComponentByIndex("visualMap",r);if(i){var o=this.get("$geoIndex"),a=this.get("$calendarIndex"),s=this.get("$axisIndex");return void 0!==o?Ko(n,function(t){return i.isInRange(t[2])?t:null}):void 0!==a?Ko(n,function(t){return i.isInRange(t[1])?t:null}):void 0!==s?["scatter","heatmap"].indexOf(this.get("type"))>-1?Ko(n,function(t){return i.isInRange(t[2])?t:null}):Ko(n,function(t){return i.isInRange(t[1])?t:null}):n}return n},e}(Od);Pd.type=Dd,Tp(Pd);var Fd=dc.extend({type:"lineCircle",shape:{cx:0,cy:0,r:0,angle:-45,step:3},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.r,o=e.angle,a=e.step;o=o/180*Math.PI;var s=Math.tan(o),l=a/Math.cos(o+Math.PI/2);function u(e){for(var n=0,r=0;n<i;){var o=1+Math.pow(s,2),l=2*s*r,u=Math.pow(i,2)-Math.pow(r,2),h=Math.pow(l,2)/4/Math.pow(o,2)+u/o,c=Math.sqrt(h)-l/2/o,f=-Math.sqrt(h)-l/2/o,d=s*c+r,p=s*f+r;t.moveTo(c,d),t.lineTo(f,p),r+=e,n+=a}}t.arc(n,r,i,0,2*Math.PI,!0),u(l),u(-l)}}),Nd=gf({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),Rd=gf({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),Bd=gf({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),f=Math.cos(u);t.arc(n,l,a,Math.PI-u,2*Math.PI+u);var d=.6*a,p=.7*a;t.bezierCurveTo(n+h-c*d,l+s+f*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-h+c*d,l+s+f*d,n-h,l+s),t.closePath()}}),Wd=gf({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),jd={line:Vc,rect:Hc,roundRect:Hc,square:Hc,circle:zc,diamond:Rd,pin:Bd,arrow:Wd,triangle:Nd,lineCircle:Fd},Gd={line:function(t,e,n,r,i,o){o.offsetPoint?(i.x1=t,i.y1=e,i.x2=t+o.offsetPoint[0],i.y2=e+o.offsetPoint[1]):(i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2)},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},lineCircle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2}},Hd={};for(var Ud in jd)jd.hasOwnProperty(Ud)&&(Hd[Ud]=new jd[Ud]);var Vd=gf({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var r=e.symbolType;if(0===r.indexOf("path://")){this.lastSymbolType;var i=this.lastShape;for(var o in e)if(!i||e[o]!=i[o]){this.proxyPath=vf(r.slice(7),{},new cl(e.x,e.y,e.width,e.height),!1!==e.center&&"center"),this.lastSymbolType=r,this.lastShape=Ro(e);break}t.data=t.data||[],this.proxyPath.buildPath(t)}else if(0===r.indexOf("image://")){this.lastSymbolType;var a=this.lastShape;for(var s in e)if(!a||e[s]!=a[s]){this.proxyPath=yf(r.slice(8),new cl(e.x,e.y,e.width,e.height),!1!==e.center&&"center"),this.lastSymbolType=r,this.lastShape=Ro(e);break}t.data=t.data||[],this.proxyPath.brush(t._ctx,this.lastShape)}else{var l=Hd[r];"none"!==e.symbolType&&(l||(l=Hd[r="rect"]),Gd[r](e.x,e.y,e.width,e.height,l.shape,e),l.buildPath(t,l.shape,n))}},setColor:qd});function qd(t){if("image"!==this.type){var e=this.style,n=this.shape;n&&"line"===n.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1)}}var Yd=gf({type:"largeSymbol",shape:{points:[]},buildPath:function(t,e,n){var r=this;Xo(e.points,function(e){Vd.prototype.buildPath.call(r,t,e,!0)})}}),$d=Object.freeze({createSymbol:function(t,e,n,r,i,o){var a,s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(a=0===t.indexOf("image://")?new Lu({style:{image:t.slice(8),x:e,y:n,width:r,height:i}}):0===t.indexOf("path://")?vf(t.slice(7),{},new cl(e,n,r,i)):new Vd({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=s,a.setColor=qd,a.setColor(o),a},Symbol:Vd,LargeSymbol:Yd}),Xd="global",Kd=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Xd,r._option={},r._componentsMap={},c(r,n)}return u(e,t),e.prototype.setOption=function(t){var e=this,n=this._componentsMap,r=this.global;t=l({},t),this._option=Bo(t,Ro(Ed),!1),Xo(t,function(t,i){if(Od.hasClass(i)){var o="series"===i;n[i]=[],!ea(t)&&(t=[t]),Xo(t,function(t,a){var s=t.id,l=t.name,u=t.type,h=void 0,c=void 0,f=o?u:i;(h=Od.getClass(f))&&((c=new h(t,e,e,r,{id:i+"_"+a+"_"+(o?u:" ")+"_"+(s||l||" "),index:a})).type=f,n[i][a]=c)})}else Ed.hasOwnProperty(i)}),this._afterSetOption()},e.prototype.clear=function(){this._componentsMap={}},e.prototype._afterSetOption=function(){this._setDepAndSup(),this._setAxisIndex(),this.updateData(),this._setSeriesSelected(),this.dirty()},e.prototype._setDepAndSup=function(){var t=this;if(!this.global.isError()){var e=this._componentsMap,n=(this.global,/^\$(.*)Index$/),r={};for(var i in this.eachComponent("series",function(e){var n=e._option.$axisIndex;if(n&&2===n.length){var r=t.getComponentByIndex("axis",n[0]),i=t.getComponentByIndex("axis",n[1]);r&&i&&("y"===r.get("xOrY")?r._option.$axisIndex=n[1]:i._option.$axisIndex=n[0])}}),this.eachComponent(function(e,i,o){var a={},s={};Xo(i._option,function(i,s){var l=s.match(n);if(l&&void 0!==i){if(ea(i))i=Ko(i,function(e){if(ra(e)){var n=t.getComponentById(l[1],e);return n?n.index:e}return e});else if(ra(i)){var u=t.getComponentById(l[1],i);u&&(i=u.index)}a[l[1]]=i,!r[l[1]]&&(r[l[1]]=[]),ea(i)?Xo(i,function(t){!r[l[1]][t]&&(r[l[1]][t]={}),!r[l[1]][t][e]&&(r[l[1]][t][e]=[]),r[l[1]][t][e].push(o)}):(!r[l[1]][i]&&(r[l[1]][i]={}),!r[l[1]][i][e]&&(r[l[1]][i][e]=[]),r[l[1]][i][e].push(o))}}),Xo(a,function(e,n){ea(e)?s[n]=Ko(e,function(e){return t.getComponentByIndex(n,e)}):s[n]=t.getComponentByIndex(n,e)}),i.dependencies=a,i.dependentModels=s},!1),r)for(var o=r[i].length;o--;)if(r[i][o]){if(!e[i]||!e[i][o]){return Xo(r[i][o],function(t,e){e+"["+t.toString()+"], "}),void("Èéµ‚Ç¨Ê∏öÊøäÁ¶ÜÈê®ÔøΩ"+i+"["+o+"]ÈèàÓÅÑÊπ™setOptionÈèÇËßÑÁ°∂Ê∂ìÓÖ°ÁπòÁêõÂ≤ÑÂé§ÁºÉÓáÜÁ¥í")}e[i][o].supports=r[i][o]}}},e.prototype._setAxisIndex=function(){this.global.isError()||this.eachComponent("series",function(t){var e=t.getAxisModel("x");if(e){t.axisIndex=e.index;var n=t.getAxisModel("y");if(n){var r=t.get("stack"),i=t.get("overlap");t.axisIndex+="/"+(r?r+"-"+n.index:"_"),t.axisIndex+="/"+(i?i+"-"+n.index:"_")}}})},e.prototype._setSeriesSelected=function(){var t=this;this.global.isError()||this.eachComponent("series",function(e){t.eachComponent("legend",function(t){var n=t.get("selected");n?Xo(n,function(t,n){e.get("name")===n?e._option.selected=t:e.findDataNamed(n)&&(!e._option.selected&&(e._option.selected={}),e._option.selected[n]=t)}):Xo(t.get("data"),function(t){e.get("name")===t?e._option.selected=!0:e.findDataNamed(t)&&(!e._option.selected&&(e._option.selected={}),e._option.selected[t]=!0)})})})},e.prototype.updateData=function(t){if(!this.global.isError()){var e=this._componentsMap;t?"data"===t.type&&t.isDirty()&&(t.__update(),function t(e,n){Xo(n,function(n,r){for(var i=n.length;i--;){var o=e[r][n[i]];o&&o.isDataDirty()&&("data"===o.type?(o.__update(),t(e,o.supports)):o.updateData())}})}(e,t.supports)):(this.eachComponent("data",function(t){t.isDirty()&&(Qd(e,t.dependencies,t.type,t.index,!0),t.__update())}),this.eachComponent(function(t,e){"data"!==t&&e.isDataDirty()&&e.updateData()}))}},e.prototype.beforeUpdate=function(){this._setSeriesIndex("bar"),this._setSeriesIndex("line"),this._setStackData()},e.prototype._setSeriesIndex=function(t){if(!this.global.isError()){var e={},n={};this.eachComponent("series",function(r){if(r.type===t&&void 0!==r.axisIndex){var i=r.get("overlap"),o=r.get("stack"),a=r.axisIndex,s=t+"Index",l=t.slice(0,1).toUpperCase()+t.slice(1),u=r.getAxisModel("y");if(u){var h=u.get("$gridIndex"),c=n[h]=n[h]||{};!e[h]&&(e[h]=0),o||i?void 0===c[a]&&(c[a]=e[h]++):c[a]=e[h]++,r["last"+l+"Index"]=r[s],r[s]=c[a]}}}),this.eachComponent("series",function(n){if(n.type===t){var r=n.getAxisModel("y");if(r){var i=r.get("$gridIndex"),o=t.slice(0,1).toUpperCase()+t.slice(1);!1===n.get("selected")?(n["last"+o+"Total"]=void 0,n[t+"Total"]=void 0):(n["last"+o+"Total"]=n[t+"Total"],n[t+"Total"]=e[i])}}},!1)}},e.prototype._setStackData=function(){if(!this.global.isError()){var t={},e={},n=[];this.eachComponent("series",function(t){var e=t.getData();if(t.get("stack")&&!1!==t.get("selected")&&e)if(n.length){var r=[],i=void 0,o=void 0;for(i=0,o=0;i<e.length&&o<n.length;){var a=e[i][0],s=n[o];a<s?(r.push(e[i][0]),i++):a===s?(r.push(e[i][0]),i++,o++):(r.push(n[o]),o++)}for(;i<e.length;)r.push(e[i][0]),i++;for(;o<n.length;)r.push(n[o]),o++;n=r}else n=Ko(e,function(t){return t[0]})}),this.eachComponent("series",function(r){var i=r.get("stack");if(i){var o=r.getData();if(r._stackName=i=i+"|"+r.axisIndex,!t[i]&&(t[i]=[]),r.get("stackByPercent")&&(e[i]=!0),!1===r.get("selected")||!o)return void(r.stackTotal=void 0);var a=t[i],s=a.length,l=[],u=[],h=void 0,c=void 0;for(h=0,c=0;h<o.length&&c<n.length;){var f=o[h][0],d=n[c];f<d?(u.push(o[h]),h++):f===d?(u.push(o[h]),h++,c++):(0===h?u.push([n[c],0]):u.push([n[c],o[h-1][1]]),c++)}for(;c<n.length;)0===h?u.push([n[c],0]):u.push([n[c],o[h-1][1]]),c++;if(s)l=Ko(a[s-1],function(t,e){var n=0;if(u[e][1]>=0){for(var r=a.length;r--;)if(a[r][e][1][1]>=0){n=a[r][e][1][1];break}}else for(var i=a.length;i--;)if(a[i][e][1][1]<0){n=a[i][e][1][1];break}return[t[0],[n,n+("number"==typeof u[e][1]?u[e][1]:0)],u[e]]});else l=Ko(u,function(t){return[t[0],[0,"number"==typeof t[1]?t[1]:0],t]});a.push(l),r.lastStackIndex=r.stackIndex,r.stackIndex=s,r.stackData=l}},!1),this.eachComponent("series",function(n){var r=n._stackName;if(r){if(e[r]){var i=t[r][t[r].length-1],o=n.stackData;n.stackData=Ko(o,function(t,e){return[t[0],[t[1][0]/i[e][1][1],t[1][1]/i[e][1][1]],t[2],Math.abs(t[1][0]-t[1][1])/i[e][1][1]]}),n._stackByPercent=!0}n.lastStackTotal=n.stackTotal,n.stackTotal=t[r].length}})}},e.prototype.update=function(t){if(!this.global.isError()){var e=this._componentsMap;t&&this.eachComponent(function(t,e){e.__dirty=!0}),this.eachComponent(function(t,n){n.isDirty()&&!n.isPending&&(Qd(e,n.dependencies,n.type,n.index),n.__update())})}},e.prototype.dirty=function(t,e){if(!this.global.isError()){var n=this._componentsMap;if(t&&("data"===t.type?(Jd(n,t,e,"dataDirty"),this.updateData(t)):(t.isDataDirty()&&t.updateData(),Jd(n,t,e)),t instanceof Pd&&t.get("$axisIndex"))){var r=t.getAxisModel("x"),i=t.getAxisModel("y"),o={type:Td.seriesWillUpdate,payload:{series:t,action:e}};r&&!r.isDirty()&&r.dirty(o),i&&!i.isDirty()&&i.dirty(o)}this.__dirty=!0}},e.prototype.eachComponentType=function(t,e){Xo(this._componentsMap,function(n,r){t.call(e,r,Zd(n))})},e.prototype.eachComponent=function(t,e,n,r){var i=this._componentsMap;"function"==typeof t?(r=n,n=void 0===e||e,e=t,Xo(i,function(t,i){Xo(n?Zd(t):t,function(t,n){e.call(r,i,t,n)})})):ra(t)&&(void 0===n&&(n=!0),Xo(n?Zd(i[t]):i[t],e,r))},e.prototype.getComponentByIndex=function(t,e){return"string"==typeof e?this.getComponentById(t,e):this._componentsMap[t]&&this._componentsMap[t][e]},e.prototype.getComponentByName=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getComponent(t,function(t){return t.get("name")===e},n)},e.prototype.getComponentById=function(t,e){return this.getComponent(t,function(t){return t.get("id")===e},!1)[0]},e.prototype.getSeriesByAxis=function(t){var e=this;return Zo(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?Zd(this._componentsMap.series):this._componentsMap.series,function(n){var r=n.get("$axisIndex"),i=n.get("$radarAxisIndex");if(void 0!==r){!ea(r)&&(r=[r]);for(var o=0;o<r.length;o++){var a=e.getComponentByIndex("axis",r[o]);if(a&&a.index===t)return!0}}if(void 0!==i){!ea(i)&&(i=[i]);for(var s=0;s<i.length;s++){var l=e.getComponentByIndex("radarAxis",i[s]);if(l&&l.index===t)return!0}}})},e.prototype.getComponent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return Zo(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Zd(this._componentsMap[t]):this._componentsMap[t],e)},e.prototype.getSeriesByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getComponent("series",function(e){return e.get("name")===t},e)},e.prototype.getFormattedText=function(t){var e=t.style?t.style:t,n=this.get("textStyle");return e.color&&!e.fill&&(e.fill=e.color),Xo(n,function(t,n){void 0===e[n]&&(e[n]=t)}),e.color&&!e.fill&&(e.fill=e.color),e=Rf(e),t},e}(Cd);function Zd(t){return Zo(t,function(t){return!(t instanceof Pd)||!1!==t.get("selected")})}function Qd(t,e,n,r,i){Xo(e,function(e,n){if(ea(e))for(var r=e.length;r--;){var o=t[n]&&t[n][e[r]];o&&o.isDirty()&&(Qd(t,o.dependencies,o.type,o.index,i),i&&o.updateData(),!o.isPending&&o.__update())}else{var a=t[n]&&t[n][e];a.isDirty()&&(Qd(t,a.dependencies,a.type,a.index,i),i&&a.updateData(),!a.isPending&&a.__update())}})}function Jd(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dirty",i=e.supports,o={type:Td.dependentWillUpdate,payload:{dependent:e,action:n}};Xo(i,function(e,n){for(var i=e.length;i--;){var a=t[n][e[i]];a&&!a["dirty"===r?"isDirty":"isDataDirty"]()&&a[r](o)&&Jd(t,a,o,r)}})}Kd.type=Xd;var tp=function(){function t(){s(this,t)}return t.prototype.getShape=function(t){},t.prototype.getDrawData=function(t){t.name,t.xScale,t.yScale,t.data,t.model},t}();tp.type="indicatorBase";var ep=th(tp),np="0.4.23",rp=function(){var t=!1;if("undefined"!=typeof wx&&wx.request&&wx.getSystemInfoSync){var e=wx.getSystemInfoSync();t=e&&e.version}return t}(),ip=function(){this.id=0,this.ld=this.getLd();try{"undefined"!=typeof external&&void 0!==external.createObject&&(this.ld="client")}catch(t){}var t="undefined"!=typeof document&&"https:"==document.location.protocol?"https:":"http:";this._top=!0,"undefined"!=typeof screen&&(this.size=screen.width+"x"+screen.height),this._base=t+"//stat.10jqka.com.cn/q?",this._sid="__ths_stat__",this._imgs={}};ip.prototype.getLd=function(){if(rp)return"wx";var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("android")?"mobile":-1!=t.indexOf("iphone")?"mobile":-1!=t.indexOf("ipad")?"mobile":"browser"},ip.prototype._navigate=function(t){if(rp)wx.request({url:t});else{var e=this._imgs[this._sid];e||(e=new Image(0,0),this._imgs[this._sid]=e),e.src=t}},ip.prototype.add=function(t,e){if(t&&e)this.id=t,this.ld=e;else if(t instanceof Object)for(var n in t)this[n]=t[n];else t&&(this.id=t)},ip.prototype._setLocation=function(){if(!rp){if(this._top&&top)try{this.ref||(this.ref=top.document.referrer),this.url||(this.url=top.location.href)}catch(t){}this.ref||(this.ref=document.referrer?document.referrer:null),this.url||(this.url=window.location.href),document.body&&(this.cs=document.body.clientWidth+"x"+document.body.clientHeight),this.ts=(new Date).getTime()}},ip.prototype._getUrl=function(){this._setLocation();var t=[];for(var e in this)e&&"_"!=e.charAt(0)&&this[e]&&"function"!=typeof this[e]&&(t.length&&t.push("&"),t=t.concat([encodeURIComponent(e),"=",encodeURIComponent(this[e])]));return this._base+t.join("")},ip.prototype.log=function(){this._navigate(this._getUrl())};var op=!0;var ap={},sp=[];function lp(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3]?sp.push(t):Xo(t,function(t,r){if("series"===r){if(e.hasClass&&e.hasClass(r))if(ea(t)){var i=[];Xo(t,function(t){var e=t.aliasType||t.type;ap[e]||(ap[e]=0);var n=!1;Qo(i,function(t){t===e&&(n=!0)}),n||(i.push(e),ap[e]++)})}else{var o=t.aliasType||t.type;ap[o]||(ap[o]=0),ap[o]++}}else n.hasClass(r)&&(ap[r]||(ap[r]=0),ap[r]++)})}var up,hp,cp,fp=(up=function(t){if(op){var e="";t&&t.datavTrackId&&(e=t.datavTrackId+"."),function(){var t=new ip;t.add.apply(t,arguments),t.log()}({_sid:e+"iwencai_datav_d3charts.load",id:e+"iwencai_datav_d3charts.load",datavIwencai:"iwencai_datav_d3charts.load",version:np,widgetN:(n="",sp.length&&Xo(sp,function(t){var e="hqd"+t.type+(t.dType||"");ap[e]||(ap[e]=0),ap[e]++}),Xo(ap,function(t,e){n+=e+"-"+t+"|"}),n=n.slice(0,-1)),fid:"iwencai_datav"})}var n},hp=3e3,cp=null,function(t){clearTimeout(cp),cp=setTimeout(function(){up(t)},hp)}),dp=ra,pp=Xo,gp=Yf,vp=na,yp="__",mp={},xp=new Date-0,_p=new Ea,wp=nd,bp=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","mousewheel","pinch","contextmenu"],Sp=function(t){function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,e),window._thsclog&&window._thsclog({name:"datav_d3charts",ver:np}),fp(i);var o=c(this,t.apply(this,arguments));o.id=yp+xp++,o._viewMap={},o._model=void 0,o.isEnableEdit=!1,o.isEnableSketch=!1,o._dom=dp(n)?document.getElementById(n):n;var a=o._zr=Zu(o._dom,i);return i.backgroundColor&&a.setBackgroundColor(i.backgroundColor),o._model=new Kd(null,null,null,o),o._actionQueue=[],o.initEvents(),a.animation.on("frame",function(){if(!this.isError())try{for(var t=this._actionQueue;t.length;){var e=t.shift();this.trigger(e[0],e[1])}this._model.isDirty()&&this.update()}catch(t){throw this.error(),t}},o),o}return u(e,t),e.prototype.initEvents=function(){var t=this;pp(bp,function(e){t._zr.on(e,function(n){t.trigger(e,n)})})},e.prototype.setOption=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return lp(t,Pd,Od),this.clear(),this._model.setOption(t),this.toggleEdit(this.isEnableEdit),function(){var t=this;this._model.eachComponent(function(e,n){kp.call(t,n)})}.call(this),this.__AFTER_SET_OPTION=!0,e||this.update(!1,n),this},e.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._model.__update(t),function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._viewMap,r=this._model;r.eachComponent(function(e,i){var o=n[i.id];kd.getClass(i.type)&&(o||(o=kp.call(t,i)),o.__render(i,r,t))}),this.__AFTER_SET_OPTION&&(this.__AFTER_SET_OPTION=!1,e[wp.viewDidRenderAfterSetOption]&&e[wp.viewDidRenderAfterSetOption](),this.trigger(wp.viewDidRenderAfterSetOption));this.trigger(wp.viewDidRender)}.call(this,e);var n=this._model.get("backgroundColor");n&&this._zr.setBackgroundColor(n)},e.prototype.clear=function(){var t=this._zr;return this._model.clear(),pp(this._viewMap,function(e){e.remove(),t.remove(e.group)}),this._viewMap={},this.off(),this.error(!1),this},e.prototype.error=function(t){this._isError=void 0===t||t},e.prototype.isError=function(){return this._isError},e.prototype.resize=function(t){this._zr.resize(t),this.update(!0)},e.prototype.dispatchAction=function(t,e,n){if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3]){var r=gp(this._actionQueue,function(n){return n[0]===t.id&&n[1]===e});r>-1&&this._actionQueue.splice(r,1),this._actionQueue.push([t.id+"_"+e,n])}else this.trigger(t.id+"_"+e,n)},e.prototype.registerAction=function(t,e,n,r){this.on(t.id+"_"+e,n,r||t)},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getModel=function(t,e){return 2!==arguments.length?1===arguments.length?this._model._componentsMap[t]:this._model:"number"==typeof e?this._model.getComponentByIndex(t,e):dp(e)?this._model.getComponentById(t,e):vp(e)?this._model.getComponent(t,e,!1):void 0},e.prototype.getDataModel=function(t){return this._model.getComponentByIndex("data",t)},e.prototype.getZr=function(){return this._zr},e.prototype.getDom=function(){return this._dom},e.prototype.getViewOfComponentModel=function(t){return this._viewMap[t.id]},e.prototype.getRenderedCanvas=function(t){if(Ao.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,this.stopAnimation(),this._zr.painter.getRenderedCanvas(t)},e.prototype.stopAnimation=function(){var t=this._zr.storage.getDisplayList(!0);pp(t,function(t){t.stopAnimation(!0)})},e.prototype.getDataUrl=function(t){var e={width:this.getWidth(),height:this.getHeight()};(t=t||{}).size&&(this.resize(t.size),this.stopAnimation());var n=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return t.size&&(this.resize(e),this.stopAnimation()),n},e.prototype.toggleEdit=function(t){void 0===t&&(t=!this.isEnableEdit),this._model.eachComponent(function(e,n){n.set("enableEdit",t)}),this.isEnableEdit=t},e}(Ea);function kp(t){var e=this._viewMap,n=this._model,r=this._zr,i=void 0,o=void 0;return(i=kd.getClass(t.type))&&((o=new i(t,n,this)).type=t.type,e[t.id]=o,r.add(o.group)),o}function Mp(t){Od.registerClass(t,t.type)}function Ap(t){kd.registerClass(t,t.type)}function Ip(t){ep.registerClass(t,t.type)}function Tp(t,e){var n,r;(t&&Mp(t),e&&Ap(e),!t&&e)&&Mp((r=n=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e}(Od),n.type=e.type,r))}var Cp=Math.abs,Ep=Math.atan2,zp=Math.cos,Lp=Math.max,Op=Math.min,Dp=Math.sin,Pp=Math.sqrt,Fp=1e-12,Np=Math.PI,Rp=Np/2,Bp=2*Np;function Wp(t){return t>=1?Rp:t<=-1?-Rp:Math.asin(t)}function jp(t){return t.innerRadius}function Gp(t){return t.outerRadius}function Hp(t){return t.startAngle}function Up(t){return t.endAngle}function Vp(t){return t&&t.padAngle}function qp(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/Pp(s*s+l*l),h=u*l,c=-u*s,f=t+h,d=e+c,p=n+h,g=r+c,v=(f+p)/2,y=(d+g)/2,m=p-f,x=g-d,_=m*m+x*x,w=i-o,b=f*g-p*d,S=(x<0?-1:1)*Pp(Lp(0,w*w*_-b*b)),k=(b*x-m*S)/_,M=(-b*m-x*S)/_,A=(b*x+m*S)/_,I=(-b*m+x*S)/_,T=k-v,C=M-y,E=A-v,z=I-y;return T*T+C*C>E*E+z*z&&(k=A,M=I),{cx:k,cy:M,x01:-h,y01:-c,x11:k*(i/w-1),y11:M*(i/w-1)}}function Yp(){var t=jp,e=Gp,n=sf(0),r=null,i=Hp,o=Up,a=Vp,s=null;function l(){var l,u,h,c=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-Rp,p=o.apply(this,arguments)-Rp,g=Cp(p-d),v=p>d;if(s||(s=l=af()),f<c&&(u=f,f=c,c=u),f>Fp)if(g>Bp-Fp)s.moveTo(f*zp(d),f*Dp(d)),s.arc(0,0,f,d,p,!v),c>Fp&&(s.moveTo(c*zp(p),c*Dp(p)),s.arc(0,0,c,p,d,v));else{var y,m,x=d,_=p,w=d,b=p,S=g,k=g,M=a.apply(this,arguments)/2,A=M>Fp&&(r?+r.apply(this,arguments):Pp(c*c+f*f)),I=Op(Cp(f-c)/2,+n.apply(this,arguments)),T=I,C=I;if(A>Fp){var E=Wp(A/c*Dp(M)),z=Wp(A/f*Dp(M));(S-=2*E)>Fp?(w+=E*=v?1:-1,b-=E):(S=0,w=b=(d+p)/2),(k-=2*z)>Fp?(x+=z*=v?1:-1,_-=z):(k=0,x=_=(d+p)/2)}var L=f*zp(x),O=f*Dp(x),D=c*zp(b),P=c*Dp(b);if(I>Fp){var F,N=f*zp(_),R=f*Dp(_),B=c*zp(w),W=c*Dp(w);if(g<Np&&(F=function(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,h=a-i,c=s-o,f=c*l-h*u;if(!(f*f<Fp))return[t+(f=(h*(e-o)-c*(t-i))/f)*l,e+f*u]}(L,O,B,W,N,R,D,P))){var j=L-F[0],G=O-F[1],H=N-F[0],U=R-F[1],V=1/Dp(((h=(j*H+G*U)/(Pp(j*j+G*G)*Pp(H*H+U*U)))>1?0:h<-1?Np:Math.acos(h))/2),q=Pp(F[0]*F[0]+F[1]*F[1]);T=Op(I,(c-q)/(V-1)),C=Op(I,(f-q)/(V+1))}}k>Fp?C>Fp?(y=qp(B,W,L,O,f,C,v),m=qp(N,R,D,P,f,C,v),s.moveTo(y.cx+y.x01,y.cy+y.y01),C<I?s.arc(y.cx,y.cy,C,Ep(y.y01,y.x01),Ep(m.y01,m.x01),!v):(s.arc(y.cx,y.cy,C,Ep(y.y01,y.x01),Ep(y.y11,y.x11),!v),s.arc(0,0,f,Ep(y.cy+y.y11,y.cx+y.x11),Ep(m.cy+m.y11,m.cx+m.x11),!v),s.arc(m.cx,m.cy,C,Ep(m.y11,m.x11),Ep(m.y01,m.x01),!v))):(s.moveTo(L,O),s.arc(0,0,f,x,_,!v)):s.moveTo(L,O),c>Fp&&S>Fp?T>Fp?(y=qp(D,P,N,R,c,-T,v),m=qp(L,O,B,W,c,-T,v),s.lineTo(y.cx+y.x01,y.cy+y.y01),T<I?s.arc(y.cx,y.cy,T,Ep(y.y01,y.x01),Ep(m.y01,m.x01),!v):(s.arc(y.cx,y.cy,T,Ep(y.y01,y.x01),Ep(y.y11,y.x11),!v),s.arc(0,0,c,Ep(y.cy+y.y11,y.cx+y.x11),Ep(m.cy+m.y11,m.cx+m.x11),v),s.arc(m.cx,m.cy,T,Ep(m.y11,m.x11),Ep(m.y01,m.x01),!v))):s.arc(0,0,c,b,w,v):s.lineTo(D,P)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Np/2;return[zp(r)*n,Dp(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:sf(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:sf(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:sf(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:sf(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:sf(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:sf(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:sf(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}var $p=dc.extend({type:"d3-arc",shape:{innerRadius:0,outerRadius:0,cornerRadius:0,padRadius:0,startAngle:0,endAngle:2*Math.PI,padAngle:0},style:{stroke:null,fill:null},updateArc:function(){!this.arc&&(this.arc=Yp());var t=this.arc,e=this.shape;for(var n in e)!isNaN(e[n])&&t[n]&&t[n](e[n])},buildPath:function(t,e){this.updateArc(),this.arc.context(t)()}});function Xp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Kp(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Xp(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var Zp=Kp(Xp).right;function Qp(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var Jp=Math.sqrt(50),tg=Math.sqrt(10),eg=Math.sqrt(2);function ng(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=rg(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function rg(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Jp?10:o>=tg?5:o>=eg?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Jp?10:o>=tg?5:o>=eg?2:1)}function ig(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Jp?i*=10:o>=tg?i*=5:o>=eg&&(i*=2),e<t?-i:i}function og(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function ag(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function sg(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function lg(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}function ug(){}function hg(t,e){var n=new ug;if(t instanceof ug)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function cg(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,h,c=-1,f=n.length,d=r[i++],p=hg(),g=a();++c<f;)(h=p.get(l=d(u=n[c])+""))?h.push(u):p.set(l,[u]);return p.each(function(t,e){s(g,e,o(t,i,a,s))}),g}return n={object:function(t){return o(t,0,fg,dg)},map:function(t){return o(t,0,pg,gg)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,pg,gg),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function fg(){return{}}function dg(t,e,n){t[e]=n}function pg(){return hg()}function gg(t,e,n){t.set(e,n)}function vg(){}ug.prototype=hg.prototype={constructor:ug,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var yg=hg.prototype;vg.prototype=function(t,e){var n=new vg;if(t instanceof vg)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:vg,has:yg.has,add:function(t){return this["$"+(t+="")]=t,this},remove:yg.remove,clear:yg.clear,values:yg.keys,size:yg.size,empty:yg.empty,each:yg.each};var mg=Array.prototype,xg=mg.map,_g=mg.slice,wg={name:"implicit"};function bg(t){var e=hg(),n=[],r=wg;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==wg)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:_g.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=hg();for(var r,o,a=-1,s=t.length;++a<s;)e.has(o=(r=t[a])+"")||e.set(o,n.push(r));return i},i.range=function(e){return arguments.length?(t=_g.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return bg().domain(n).range(t).unknown(r)},i}function Sg(){var t,e,n=bg().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,u=.5;function h(){var n=r().length,h=o[1]<o[0],c=o[h-0],f=o[1-h];t=(f-c)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),c+=(f-c-t*(n-s))*u,e=t*(1-s),a&&(c=Math.round(c),e=Math.round(e));var d=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map(function(e){return c+t*e});return i(h?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],h()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(s=l=Math.max(0,Math.min(1,t)),h()):s},n.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),h()):s},n.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Sg().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},h()}function kg(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mg(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ag(){}var Ig="\\s*([+-]?\\d+)\\s*",Tg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eg=/^#([0-9a-f]{3})$/,zg=/^#([0-9a-f]{6})$/,Lg=new RegExp("^rgb\\("+[Ig,Ig,Ig]+"\\)$"),Og=new RegExp("^rgb\\("+[Cg,Cg,Cg]+"\\)$"),Dg=new RegExp("^rgba\\("+[Ig,Ig,Ig,Tg]+"\\)$"),Pg=new RegExp("^rgba\\("+[Cg,Cg,Cg,Tg]+"\\)$"),Fg=new RegExp("^hsl\\("+[Tg,Cg,Cg]+"\\)$"),Ng=new RegExp("^hsla\\("+[Tg,Cg,Cg,Tg]+"\\)$"),Rg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bg(){return this.rgb().formatHex()}function Wg(){return this.rgb().formatRgb()}function jg(t){var e;return t=(t+"").trim().toLowerCase(),(e=Eg.exec(t))?new qg((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=zg.exec(t))?Gg(parseInt(e[1],16)):(e=Lg.exec(t))?new qg(e[1],e[2],e[3],1):(e=Og.exec(t))?new qg(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Dg.exec(t))?Hg(e[1],e[2],e[3],e[4]):(e=Pg.exec(t))?Hg(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Fg.exec(t))?Kg(e[1],e[2]/100,e[3]/100,1):(e=Ng.exec(t))?Kg(e[1],e[2]/100,e[3]/100,e[4]):Rg.hasOwnProperty(t)?Gg(Rg[t]):"transparent"===t?new qg(NaN,NaN,NaN,0):null}function Gg(t){return new qg(t>>16&255,t>>8&255,255&t,1)}function Hg(t,e,n,r){return r<=0&&(t=e=n=NaN),new qg(t,e,n,r)}function Ug(t){return t instanceof Ag||(t=jg(t)),t?new qg((t=t.rgb()).r,t.g,t.b,t.opacity):new qg}function Vg(t,e,n,r){return 1===arguments.length?Ug(t):new qg(t,e,n,null==r?1:r)}function qg(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yg(){return"#"+Xg(this.r)+Xg(this.g)+Xg(this.b)}function $g(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Xg(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Kg(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jg(t,e,n,r)}function Zg(t){if(t instanceof Jg)return new Jg(t.h,t.s,t.l,t.opacity);if(t instanceof Ag||(t=jg(t)),!t)return new Jg;if(t instanceof Jg)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Jg(a,s,l,t.opacity)}function Qg(t,e,n,r){return 1===arguments.length?Zg(t):new Jg(t,e,n,null==r?1:r)}function Jg(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tv(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}kg(Ag,jg,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Bg,formatHex:Bg,formatHsl:function(){return Zg(this).formatHsl()},formatRgb:Wg,toString:Wg}),kg(qg,Vg,Mg(Ag,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qg(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qg(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yg,formatHex:Yg,formatRgb:$g,toString:$g})),kg(Jg,Qg,Mg(Ag,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Jg(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jg(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qg(tv(t>=240?t-240:t+120,i,r),tv(t,i,r),tv(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ev=Math.PI/180,nv=180/Math.PI,rv=.96422,iv=1,ov=.82521,av=4/29,sv=6/29,lv=3*sv*sv,uv=sv*sv*sv;function hv(t){if(t instanceof fv)return new fv(t.l,t.a,t.b,t.opacity);if(t instanceof xv)return _v(t);t instanceof qg||(t=Ug(t));var e,n,r=vv(t.r),i=vv(t.g),o=vv(t.b),a=dv((.2225045*r+.7168786*i+.0606169*o)/iv);return r===i&&i===o?e=n=a:(e=dv((.4360747*r+.3850649*i+.1430804*o)/rv),n=dv((.0139322*r+.0971045*i+.7141733*o)/ov)),new fv(116*a-16,500*(e-a),200*(a-n),t.opacity)}function cv(t,e,n,r){return 1===arguments.length?hv(t):new fv(t,e,n,null==r?1:r)}function fv(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function dv(t){return t>uv?Math.pow(t,1/3):t/lv+av}function pv(t){return t>sv?t*t*t:lv*(t-av)}function gv(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function vv(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yv(t){if(t instanceof xv)return new xv(t.h,t.c,t.l,t.opacity);if(t instanceof fv||(t=hv(t)),0===t.a&&0===t.b)return new xv(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*nv;return new xv(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mv(t,e,n,r){return 1===arguments.length?yv(t):new xv(t,e,n,null==r?1:r)}function xv(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function _v(t){if(isNaN(t.h))return new fv(t.l,0,0,t.opacity);var e=t.h*ev;return new fv(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}kg(fv,cv,Mg(Ag,{brighter:function(t){return new fv(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new fv(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new qg(gv(3.1338561*(e=rv*pv(e))-1.6168667*(t=iv*pv(t))-.4906146*(n=ov*pv(n))),gv(-.9787684*e+1.9161415*t+.033454*n),gv(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),kg(xv,mv,Mg(Ag,{brighter:function(t){return new xv(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new xv(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return _v(this).rgb()}}));var wv=-.14861,bv=1.78277,Sv=-.29227,kv=-.90649,Mv=1.97294,Av=Mv*kv,Iv=Mv*bv,Tv=bv*Sv-kv*wv;function Cv(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ev)return new Ev(t.h,t.s,t.l,t.opacity);t instanceof qg||(t=Ug(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Tv*r+Av*e-Iv*n)/(Tv+Av-Iv),o=r-i,a=(Mv*(n-i)-Sv*o)/kv,s=Math.sqrt(a*a+o*o)/(Mv*i*(1-i)),l=s?Math.atan2(a,o)*nv-120:NaN;return new Ev(l<0?l+360:l,s,i,t.opacity)}(t):new Ev(t,e,n,null==r?1:r)}function Ev(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kg(Ev,Cv,Mg(Ag,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ev(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ev(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ev,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new qg(255*(e+n*(wv*r+bv*i)),255*(e+n*(Sv*r+kv*i)),255*(e+n*(Mv*r)),this.opacity)}}));var zv=Object.freeze({color:jg,rgb:Vg,hsl:Qg,lab:cv,hcl:mv,lch:function(t,e,n,r){return 1===arguments.length?yv(t):new xv(n,e,t,null==r?1:r)},gray:function(t,e){return new fv(t,0,0,null==e?1:e)},cubehelix:Cv});function Lv(t){return function(){return t}}function Ov(t){return 1==(t=+t)?Dv:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Lv(isNaN(e)?n:e)}}function Dv(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Lv(isNaN(t)?e:t)}var Pv=function t(e){var n=Ov(e);function r(t,e){var r=n((t=Vg(t)).r,(e=Vg(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Dv(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Fv(t,e){return e-=t=+t,function(n){return t+e*n}}var Nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rv=new RegExp(Nv.source,"g");function Bv(t,e){var n,r=void 0===e?"undefined":a(e);return null==e||"boolean"===r?Lv(e):("number"===r?Fv:"string"===r?(n=jg(e))?(e=n,Pv):function(t,e){var n,r,i,o=Nv.lastIndex=Rv.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Nv.exec(t))&&(r=Rv.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Fv(n,r)})),o=Rv.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}:e instanceof jg?Pv:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Bv(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"===(void 0===t?"undefined":a(t))||(t={}),null!==e&&"object"===(void 0===e?"undefined":a(e))||(e={}),e)n in t?r[n]=Bv(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:Fv)(t,e)}function Wv(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}Math.PI,Math.SQRT2;function jv(t){return function(){return t}}function Gv(t){return+t}var Hv=[0,1];function Uv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jv(e)}function Vv(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function qv(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=n(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var n=Zp(t,e,1,i)-1;return a[n](o[n](e))}}function Yv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function $v(t,e){var n,r,i,o=Hv,a=Hv,s=Bv,l=!1;function u(){return n=Math.min(o.length,a.length)>2?qv:Vv,r=i=null,h}function h(e){return(r||(r=n(o,a,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return h.invert=function(t){return(i||(i=n(a,o,Uv,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},h.domain=function(t){return arguments.length?(o=xg.call(t,Gv),u()):o.slice()},h.range=function(t){return arguments.length?(a=_g.call(t),u()):a.slice()},h.rangeRound=function(t){return a=_g.call(t),s=Wv,u()},h.clamp=function(t){return arguments.length?(l=!!t,u()):l},h.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}function Xv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kv(t){return(t=Xv(Math.abs(t)))?t[1]:NaN}var Zv,Qv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jv(t){if(!(e=Qv.exec(t)))throw new Error("invalid format: "+t);var e;return new ty({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ty(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ey(t,e){var n=Xv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Jv.prototype=ty.prototype,ty.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ny={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ey(100*t,e)},r:ey,s:function(t,e){var n=Xv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Zv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xv(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ry(t){return t}var iy,oy,ay,sy=Array.prototype.map,ly=["y","z","a","f","p","n","Á¢å","m","","k","M","G","T","P","E","Z","Y"];function uy(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ry:(e=sy.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ry:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(sy.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=Jv(t)).fill,n=t.align,c=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):ny[m]||(void 0===v&&(v=12),y=!0,m="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===f?o:/[%p]/.test(m)?l:"",w=ny[m],b=/[defgprs%]/.test(m);function S(t){var i,o,l,f=x,S=_;if("c"===m)S=w(t)+S,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?h:w(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&(k=!1),f=(k?"("===c?c:u:"-"===c||"("===c?"":c)+f,S=("s"===m?ly[8+Zv/3]:"")+S+(k&&"("===c?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){S=(46===l?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=f.length+t.length+S.length,A=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(A+t,A.length?p-S.length:1/0),A=""),n){case"<":t=f+t+S+A;break;case"=":t=f+A+t+S;break;case"^":t=A.slice(0,M=A.length>>1)+f+t+S+A.slice(M);break;default:t=A+f+t+S}return s(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:c,formatPrefix:function(t,e){var n=c(((t=Jv(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Kv(e)/3))),i=Math.pow(10,-r),o=ly[8+r/3];return function(t){return n(i*t)+o}}}}function hy(t,e,n){var r,i=t[0],o=t[t.length-1],a=ig(i,o,null==e?10:e);switch((n=Jv(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Kv(e)/3)))-Kv(Math.abs(t)))}(a,s))||(n.precision=r),ay(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kv(e)-Kv(t))+1}(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-Kv(Math.abs(t)))}(a))||(n.precision=r-2*("%"===n.type))}return oy(n)}function cy(){var t=$v(Uv,Fv);return t.copy=function(){return Yv(t,cy())},function(t){var e=t.domain;return t.ticks=function(t){var n=e();return ng(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return hy(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=rg(s,l,n))>0?r=rg(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=rg(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}(t)}function fy(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function dy(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:jv(e)}function py(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function gy(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vy(t){return 10===t?gy:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function yy(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function my(t){return function(e){return-t(-e)}}iy=uy({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),oy=iy.format,ay=iy.formatPrefix;var xy=new Date,_y=new Date;function wy(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return wy(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return xy.setTime(+e),_y.setTime(+r),t(xy),t(_y),Math.floor(n(xy,_y))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var by=wy(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});by.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?wy(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):by:null};var Sy=by.range,ky=6e4,My=6048e5,Ay=wy(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Iy=Ay.range,Ty=wy(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*ky)},function(t,e){return(e-t)/ky},function(t){return t.getMinutes()}),Cy=Ty.range,Ey=wy(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ky)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),zy=Ey.range,Ly=wy(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ky)/864e5},function(t){return t.getDate()-1}),Oy=Ly.range;function Dy(t){return wy(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ky)/My})}var Py=Dy(0),Fy=Dy(1),Ny=Dy(2),Ry=Dy(3),By=Dy(4),Wy=Dy(5),jy=Dy(6),Gy=Py.range,Hy=Fy.range,Uy=Ny.range,Vy=Ry.range,qy=By.range,Yy=Wy.range,$y=jy.range,Xy=wy(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Ky=Xy.range,Zy=wy(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Zy.every=function(t){return isFinite(t=Math.floor(t))&&t>0?wy(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Qy=Zy.range,Jy=wy(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ky)},function(t,e){return(e-t)/ky},function(t){return t.getUTCMinutes()}),tm=Jy.range,em=wy(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),nm=em.range,rm=wy(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),im=rm.range;function om(t){return wy(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/My})}var am=om(0),sm=om(1),lm=om(2),um=om(3),hm=om(4),cm=om(5),fm=om(6),dm=am.range,pm=sm.range,gm=lm.range,vm=um.range,ym=hm.range,mm=cm.range,xm=fm.range,_m=wy(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),wm=_m.range,bm=wy(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});bm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?wy(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Sm=bm.range,km=Object.freeze({timeInterval:wy,timeMillisecond:by,timeMilliseconds:Sy,utcMillisecond:by,utcMilliseconds:Sy,timeSecond:Ay,timeSeconds:Iy,utcSecond:Ay,utcSeconds:Iy,timeMinute:Ty,timeMinutes:Cy,timeHour:Ey,timeHours:zy,timeDay:Ly,timeDays:Oy,timeWeek:Py,timeWeeks:Gy,timeSunday:Py,timeSundays:Gy,timeMonday:Fy,timeMondays:Hy,timeTuesday:Ny,timeTuesdays:Uy,timeWednesday:Ry,timeWednesdays:Vy,timeThursday:By,timeThursdays:qy,timeFriday:Wy,timeFridays:Yy,timeSaturday:jy,timeSaturdays:$y,timeMonth:Xy,timeMonths:Ky,timeYear:Zy,timeYears:Qy,utcMinute:Jy,utcMinutes:tm,utcHour:em,utcHours:nm,utcDay:rm,utcDays:im,utcWeek:am,utcWeeks:dm,utcSunday:am,utcSundays:dm,utcMonday:sm,utcMondays:pm,utcTuesday:lm,utcTuesdays:gm,utcWednesday:um,utcWednesdays:vm,utcThursday:hm,utcThursdays:ym,utcFriday:cm,utcFridays:mm,utcSaturday:fm,utcSaturdays:xm,utcMonth:_m,utcMonths:wm,utcYear:bm,utcYears:Sm});function Mm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Am(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Im(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Tm,Cm,Em,zm,Lm={"-":"",_:" ",0:"0"},Om=/^\s*\d+/,Dm=/^%/,Pm=/[\\^$*+?|[\]().{}]/g;function Fm(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Nm(t){return t.replace(Pm,"\\$&")}function Rm(t){return new RegExp("^(?:"+t.map(Nm).join("|")+")","i")}function Bm(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Wm(t,e,n){var r=Om.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jm(t,e,n){var r=Om.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Gm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Um(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vm(t,e,n){var r=Om.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ym(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $m(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Xm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Km(t,e,n){var r=Om.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Qm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jm(t,e,n){var r=Om.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tx(t,e,n){var r=Om.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ex(t,e,n){var r=Om.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nx(t,e,n){var r=Dm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rx(t,e,n){var r=Om.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ix(t,e,n){var r=Om.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ox(t,e){return Fm(t.getDate(),e,2)}function ax(t,e){return Fm(t.getHours(),e,2)}function sx(t,e){return Fm(t.getHours()%12||12,e,2)}function lx(t,e){return Fm(1+Ly.count(Zy(t),t),e,3)}function ux(t,e){return Fm(t.getMilliseconds(),e,3)}function hx(t,e){return ux(t,e)+"000"}function cx(t,e){return Fm(t.getMonth()+1,e,2)}function fx(t,e){return Fm(t.getMinutes(),e,2)}function dx(t,e){return Fm(t.getSeconds(),e,2)}function px(t){var e=t.getDay();return 0===e?7:e}function gx(t,e){return Fm(Py.count(Zy(t),t),e,2)}function vx(t,e){var n=t.getDay();return t=n>=4||0===n?By(t):By.ceil(t),Fm(By.count(Zy(t),t)+(4===Zy(t).getDay()),e,2)}function yx(t){return t.getDay()}function mx(t,e){return Fm(Fy.count(Zy(t),t),e,2)}function xx(t,e){return Fm(t.getFullYear()%100,e,2)}function _x(t,e){return Fm(t.getFullYear()%1e4,e,4)}function bx(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fm(e/60|0,"0",2)+Fm(e%60,"0",2)}function Sx(t,e){return Fm(t.getUTCDate(),e,2)}function kx(t,e){return Fm(t.getUTCHours(),e,2)}function Mx(t,e){return Fm(t.getUTCHours()%12||12,e,2)}function Ax(t,e){return Fm(1+rm.count(bm(t),t),e,3)}function Ix(t,e){return Fm(t.getUTCMilliseconds(),e,3)}function Tx(t,e){return Ix(t,e)+"000"}function Cx(t,e){return Fm(t.getUTCMonth()+1,e,2)}function Ex(t,e){return Fm(t.getUTCMinutes(),e,2)}function zx(t,e){return Fm(t.getUTCSeconds(),e,2)}function Lx(t){var e=t.getUTCDay();return 0===e?7:e}function Ox(t,e){return Fm(am.count(bm(t),t),e,2)}function Dx(t,e){var n=t.getUTCDay();return t=n>=4||0===n?hm(t):hm.ceil(t),Fm(hm.count(bm(t),t)+(4===bm(t).getUTCDay()),e,2)}function Px(t){return t.getUTCDay()}function Fx(t,e){return Fm(sm.count(bm(t),t),e,2)}function Nx(t,e){return Fm(t.getUTCFullYear()%100,e,2)}function Rx(t,e){return Fm(t.getUTCFullYear()%1e4,e,4)}function Bx(){return"+0000"}function Wx(){return"%"}function jx(t){return+t}function Gx(t){return Math.floor(+t/1e3)}!function(t){Tm=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Rm(i),h=Bm(i),c=Rm(o),f=Bm(o),d=Rm(a),p=Bm(a),g=Rm(s),v=Bm(s),y=Rm(l),m=Bm(l),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ox,e:ox,f:hx,H:ax,I:sx,j:lx,L:ux,m:cx,M:fx,p:function(t){return i[+(t.getHours()>=12)]},Q:jx,s:Gx,S:dx,u:px,U:gx,V:vx,w:yx,W:mx,x:null,X:null,y:xx,Y:_x,Z:bx,"%":Wx},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Sx,e:Sx,f:Tx,H:kx,I:Mx,j:Ax,L:Ix,m:Cx,M:Ex,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:jx,s:Gx,S:zx,u:Lx,U:Ox,V:Dx,w:Px,W:Fx,x:null,X:null,y:Nx,Y:Rx,Z:Bx,"%":Wx},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Xm,e:Xm,f:ex,H:Zm,I:Zm,j:Km,L:tx,m:$m,M:Qm,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},Q:rx,s:ix,S:Jm,u:jm,U:Gm,V:Hm,w:Wm,W:Um,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:qm,Y:Vm,Z:Ym,"%":nx};function b(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=Lm[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=Im(1900);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=Am(Im(o.y))).getUTCDay())>4||0===i?sm.ceil(r):sm(r),r=rm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=e(Im(o.y))).getDay())>4||0===i?Fy.ceil(r):Fy(r),r=Ly.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Am(Im(o.y)).getUTCDay():e(Im(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Am(o)):e(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Lm?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=b(n,x),x.X=b(r,x),x.c=b(e,x),_.x=b(n,_),_.X=b(r,_),_.c=b(e,_),{format:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",Mm);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t,Am);return e.toString=function(){return t},e}}}(t),Cm=Tm.format,Tm.parse,Em=Tm.utcFormat,zm=Tm.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Em("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||zm("%Y-%m-%dT%H:%M:%S.%LZ");var Hx="arc",Ux=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Hx,c(r,n)}return u(e,t),e.prototype.getPoint=function(t,e,n,r){var i=Math.cos,o=Math.sin;return[t+i(r)*n,e+o(r)*n]},e.prototype.getAttrs=function(t,e,n,r,i){for(var o=t,a=e,s=n.symbolStyle.angleWithItem?r:2*Math.PI,l=n.symbolStyle.edgePadding,u=n.outerRadius,h=s/4/Math.PI*360/l,c=[],f=0;f<h;f++){var d=this.getPoint(o,a,u,s/h*f+0-Math.PI/2);c.push({shape:{symbolType:i,x:d[0]-n.symbolStyle.radius,y:d[1]-n.symbolStyle.radius,width:2*n.symbolStyle.radius,height:2*n.symbolStyle.radius},cursor:"default",style:{stroke:n.symbolStyle.stroke,fill:n.symbolStyle.fill}})}return c},e.prototype.render=function(t,e,n){this.remove();this.group;var r=t.getData();if(r){t.get("z"),t.get("zlevel");var i=t.get("itemStyle"),o=t.get("circleStyle"),a=t.get("startArc"),s=t.get("endArc"),u=t.get("center"),h=t.get("radius"),c=n.getWidth(),f=n.getHeight(),d="string"==typeof u[0]?parseInt(parseFloat(u[0].split("%")[0])/100*c):parseInt(u[0]),p="string"==typeof u[1]?parseInt(parseFloat(u[1].split("%")[0])/100*f):parseInt(u[1]),g="string"==typeof h[0]?parseInt(parseFloat(h[0].split("%")[0])/100*c):parseInt(h[0]),v="string"==typeof h[1]?parseInt(parseFloat(h[1].split("%")[0])/100*f):parseInt(h[1]),y=cy().domain([0,2*Math.PI]).range([0,360]),m=r.values[0].value/(r.max-r.min),x=a.angleCross,_=s.angleCross,w=0,b=0;0!==m&&(w=y.invert(x),b=y.invert(_));var S=m||0==m?m*(2*Math.PI):Math.PI,k=t.get("animation")?0:S,M=new $p({shape:{innerRadius:g,outerRadius:v,startAngle:0,endAngle:k,cornerRadius:i.normal.cornerRadius,data:r},position:[d,p],style:i.normal,cursor:"default"}),A=void 0;a.show&&0!==a.angleCross&&(A=new $p({shape:{innerRadius:g,outerRadius:v,startAngle:0,endAngle:w,cornerRadius:a.normal.cornerRadius},position:[d,p],style:a.normal,cursor:"default"}));var I=void 0;if(s.show&&0!==s.angleCross&&(I=new $p({shape:{innerRadius:g,outerRadius:v,startAngle:t.get("animation")?0:S,endAngle:t.get("animation")?0:S+b,cornerRadius:s.normal.cornerRadius},position:[d,p],style:s.normal,cursor:"default"}),t.get("animation")&&I.animateTo({shape:{startAngle:S,endAngle:S+b}},800,"cubicOut")),t.get("animation")&&M.animateTo({shape:{endAngle:S}},800,"cubicOut"),o.show){if("line"==o.outerType)this.setShape("outline",Vd,{shape:{symbolType:"circle",x:d-o.outerRadius,y:p-o.outerRadius,width:2*o.outerRadius,height:2*o.outerRadius},cursor:"default",style:{stroke:o.outerStrokeColor,fill:o.outerFillColor}});else if("dotted"==o.outerType){var T=this.getAttrs(d,p,o,S,"circle");this.setShapeGroup("outline",Vd,T)}else{var C=this.getAttrs(d,p,o,S,"square");this.setShapeGroup("outline",Vd,C)}this.setShape("innerPie",Vd,{shape:{symbolType:"circle",x:d-o.innerRadius,y:p-o.innerRadius,width:2*o.innerRadius,height:2*o.innerRadius},cursor:"default",style:{stroke:o.innerStrokeColor,fill:o.innerFillColor}})}this.group.add(M),this.group.add(A),this.group.add(I);var E=i.formatter,z=i.offsetCenter,L="string"==typeof z[0]?parseFloat(z[0].split("%")[0])/100*c:z[0],O="string"==typeof z[1]?parseFloat(z[1].split("%")[0])/100*f:z[1],D=new Ec({cursor:"default",style:e.getFormattedText(l({text:E(r.values[0],m),x:d-L,y:p-O},i.textStyle))});if(this.group.add(D),r.title){var P=t.get("title"),F="string"==typeof P.offsetCenter[0]?parseFloat(P.offsetCenter[0].split("%")[0])/100*c:P.offsetCenter[0],N="string"==typeof P.offsetCenter[1]?parseFloat(P.offsetCenter[1].split("%")[0])/100*f:P.offsetCenter[1],R=new Ec({cursor:"default",style:{text:r.title,x:d-F,y:p-N,font:P.textStyle.fontWeight+" "+P.textStyle.fontSize+"px "+P.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:P.textStyle.color}});this.group.add(R)}}},e}(Ad);Ux.type=Hx;var Vx="arc",qx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Vx,c(r,n)}return u(e,t),e}(Pd);qx.type=Vx,qx.defaultOption={zlevel:0,z:1,data:void 0,$dataIndex:void 0,center:["50%","50%"],radius:[10,20],title:{offsetCenter:[0,0],textStyle:{color:"#333",fontStyle:"normal",fontFamily:"sans-serif",fontWeight:"normal",fontSize:14}},circleStyle:{show:!1,innerRadius:55,outerRadius:70,innerType:"line",outerType:"line",symbolStyle:{angleWithItem:!1,edgePadding:1,radius:3,stroke:"#000",fill:"#000"},innerStrokeColor:"#333",innerFillColor:"#F04927",outerFillColor:"#F04927",outerStrokeColor:"#F04927"},animation:!0,itemStyle:{offsetCenter:[0,0],normal:{stroke:"#333",fill:"#333",cornerRadius:0},formatter:function(t,e){return e},textStyle:{position:"center",textBaseline:"middle",textAlign:"center",color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:12}},startArc:{show:!1,angleCross:1,normal:{fill:"#576AD0",stroke:"#576AD0",cornerRadius:0}},endArc:{show:!1,angleCross:1,normal:{fill:"#576AD0",stroke:"#576AD0",cornerRadius:0}}},Tp(qx,Ux);var Yx="pie",$x=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Yx,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t._updateTime<=1,o=t.drawData,s=0;if(o){var u=Uo(),h=Math.PI,c=2*h,f=this.group,d=(t.get("z"),t.get("zlevel"),t.get("label")),p=t.get("label").hideList,g=t.get("label").symbol,v=t.get("circleStyle"),y=t.get("itemStyle"),m=t.get("item").normal.style,x=t.get("item").emphasis.style,_=this,w=t.get("center"),b=t.get("radius"),S=t.get("likeAlipay"),k=(e.getComponentByIndex("grid",0)||{position:{width:n.getWidth(),height:n.getHeight(),left:0,top:0}}).position,M=k.width,A=k.height,I=k.left,T=k.top,C=M||n.getWidth(),E=A||n.getHeight(),z="string"==typeof w[0]?parseInt(parseFloat(w[0].split("%")[0])/100*C):parseInt(w[0]),L="string"==typeof w[1]?parseInt(parseFloat(w[1].split("%")[0])/100*E):parseInt(w[1]),O=t.get("theme");z+=I,L+=T;var D=void 0,P=void 0,F=void 0,N=Math.min(C,E);void 0==b?(D=N/4,F=(P=N/2.5)+10):(D="string"==typeof b[0]?parseInt(parseFloat(b[0].split("%")[0])/100*N):parseInt(b[0]),P="string"==typeof b[1]?parseInt(parseFloat(b[1].split("%")[0])/100*N):parseInt(b[1]),F="string"==typeof b[2]?parseInt(parseFloat(b[2].split("%")[0])/100*N):b[2]?parseInt(b[2]):P+8);var R=d.position,B=!("center"!=R),W=!("inner"!=R),j=!("both"!=R),G=d.lineLen||[15,15],H=ea(G)?G[0]:G,U=ea(G)?G[1]:G,V=d.formatter,q=d.nameFormatter,Y=[],$=[],X=[],K=[],Z=t.get("animation"),Q=o.values,J=0,tt=void 0,et=void 0,nt=void 0,rt=!!y.shadowRadius;rt&&this.setShapeGroup("gray",$p,[{key:"gray",shape:{outerRadius:P,innerRadius:D},style:{fill:y.shadowColor},position:[z,L]}],{animation:Z,animateFrom:[{position:[z,L]}]});var it=t.get("avoidLabelGap");this.onShape=zt,this.offShape=Lt,this.onEmphasis=Ot,this.onNormal=function(){Dt.call(_)};var ot={};if(o.max&&o.min){var at=Math.abs(o.values[0].value/(o.max-o.min));(at>=1||!at)&&(at=1);var st=o.values[0].color,lt=at*c;Et.call(this,{endAngle:lt,itemValue:at,strokeColor:st,startAngle:0},i)}else{for(var ut=Q.length,ht=0,ct=0;ct<ut;ct++)J+=Q[ct].value-0;(tt=cy()).domain(Qp(Q,function(t){return t.value})),tt.range([1.2*D,P]),isNaN(J)&&(J=0);for(var ft,dt=0;dt<ut;dt++){ft=Q[dt];var pt=J?Math.abs(ft.value/J):1/ut,gt=ht+pt*c,vt=ft.color||O[dt%O.length],yt=F-P,mt=F,xt=P,_t=D;"rose"==y.type&&(mt=(xt=tt(ft.value))+yt);var wt={itemValue:pt,inner:_t,outer:xt,hover:mt,startAngle:ht,endAngle:gt,strokeColor:vt,itemName:ft.name,value:ft.value,dataIndex:ft.dataIndex,name:ft.name};Et.call(this,wt,dt),ht=gt}}if(function(){if(ea(p)&&(p.sort(),!B))if(j)for(var t=p.length-1;t>=0;t--){var e=p[t];$.splice(2*e+1,1),$.splice(2*e,1),X.splice(e,1)}else for(var n=p.length-1;n>=0;n--){var r=p[n];$.splice(r,1),X.splice(r,1)}}(),"outer"===R&&t.get("avoidLabelOverlap")){var bt=Ko($,function(t){return{x:t.style.x,y:t.style.y,position:"outer",height:new Ec(t).getBoundingRect().height,len:H,len2:U}});!function(t,e,n,r,i,o){for(var a=[],s=[],l=0;l<t.length;l++)t[l].x<e?a.push(t[l]):s.push(t[l]);for(Ct(s,e,n,r,1,0,o),Ct(a,e,n,r,-1,0,o),l=0;l<X.length;l++){var u=X[l].shape.data;if(u){var h=u[1][0]-u[2][0],c=t[l].x<e;u[2][0]=t[l].x,u[1][1]=u[2][1]=t[l].y,u[1][0]=u[2][0]+h,d.outerOffset&&(u[2][0]=t[l].x=c?d.outerOffset:M-d.outerOffset),t[l].x<e?u[2][0]+=5:u[2][0]-=5,K.length&&(K[l].position=[].concat(u[0]))}}}(bt,z,L,P,0,E),Xo($,function(t,e){t.style.x=bt[e].x,t.style.y=bt[e].y})}this._shape=this.setShapeGroup("shape",$p,Y,{animation:Z,animateList:{shape:{endAngle:0,startAngle:0}}},function(e){e.off("mouseover"),e.off("mouseout"),e.on("click",function(e){e.target.node;n.dispatchAction(t,ud.itemClick,e)}),e.on("dblclick",function(e){e.target.node;n.dispatchAction(t,ud.dblClick,e)}),t.get("hoverAnimation")&&(e.on("mouseover",function(e){var r=e.target;Ot.call(r),n.dispatchAction(t,ud.mouseover,e)}),e.on("mouseout",function(e){e.target;Dt.call(_),n.dispatchAction(t,ud.mouseout,e)}),e.on("mousemove",function(e){n.dispatchAction(t,ud.mousemove,e)}))});var St=this.setShapeGroup("line",df,X,{animation:Z,animateList:{shape:{data:[[0,0],[0,0],[0,0]]}}}),kt=this.setShapeGroup("text",Ec,$,{animation:Z,animateList:{style:{x:0,y:0}}}),Mt=this.setShapeGroup("labelSymbol",Vd,K,{animation:Z,animateList:{position:[0,0]}});if(r&&Z&&f.setClipPath(function(){var t=this.setShape("shape_clip",$p,{shape:{outerRadius:Math.max(C,E)/2,innerRadius:0,startAngle:0,endAngle:0},position:[z,L]});return t.animateTo({shape:{endAngle:c}},300,"linear",function(){f.removeClipPath()}),t}.call(this)),o.title){var At=t.get("title"),It="string"==typeof At.offsetCenter[0]?parseFloat(At.offsetCenter[0].split("%")[0])/100*C:At.offsetCenter[0],Tt="string"==typeof At.offsetCenter[1]?parseFloat(At.offsetCenter[1].split("%")[0])/100*E:At.offsetCenter[1];this.setShapeGroup("title_text",Ec,[{style:l({text:o.title,x:z-It,y:L-Tt,font:At.textStyle.fontWeight+" "+At.textStyle.fontSize+"px "+At.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:At.textStyle.color},At.textStyle)}])}}function Ct(t,e,n,r,i,o,a){function s(e,n,r,i){for(var o=e;o<n;o++)if(t[o].y+=r,o>e&&o+1<n&&t[o+1].y>t[o].y+t[o].height)return void l(o,r/2);l(n-1,r/2)}function l(e,n){for(var r=e;r>=0&&(t[r].y-=n,!(r>0&&t[r].y>t[r-1].y+t[r-1].height));r--);}function u(t,e,n,r,i,o){for(var a=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("center"!==t[s].position){var u=Math.abs(t[s].y-r),h=t[s].len,c=t[s].len2,f=u<i+h?Math.sqrt((i+h+c)*(i+h+c)-u*u):Math.abs(t[s].x-n);e&&f>=a&&(f=a-10),!e&&f<=a&&(f=a+10),t[s].x=n+f*o,a=f}}t.sort(function(t,e){return t.y-e.y});for(var h,c=0,f=t.length,d=[],p=[],g=0;g<f;g++)(h=t[g].y-c)<0&&s(g,f,-h),c=t[g].y+t[g].height+it;a-c<0&&l(f-1,c-a);for(g=0;g<f;g++)t[g].y>=n?p.push(t[g]):d.push(t[g]);u(d,!1,e,n,r,i),u(p,!0,e,n,r,i)}function Et(e,n){var r=e.endAngle,i=e.inner,o=e.outer,a=(e.hover,e.startAngle),s=e.strokeColor,u=e.itemValue,h=e.itemName,f=(e.value,void 0);Y.push({shape:{outerRadius:o,innerRadius:i,endAngle:r,startAngle:a},key:h,position:[z,L],style:l({fill:s},m),seriesIndex:t.index,data:{name:h,value:(100*u).toFixed(0)+"%",item:e},z:10}),e.loopKey=e.dataIndex,void 0===d.show&&(B?et?f=et:(nt=function(t){var e=v&&v.innerCircleRadius||t.inner-8,n=v.fillColor||t.strokeColor;return this.setShapeGroup("innerCircle",$p,[{key:"innerCircle",shape:{outerRadius:e,innerRadius:0,endAngle:c,startAngle:0},position:[z,L],style:{fill:n,stroke:null}}],{animation:Z,animateFrom:[{position:[z,L]}]})}.call(this,e),f=Ft.call(this,e,!0),et=f):(e.itemName="",f=Ft.call(this,e)))}function zt(t){if(kt.childOfName(t)&&St.childOfName(t)){var e={opacity:1};kt.childOfName(t).setStyle(e),St.childOfName(t).setStyle(e),Mt.childOfName(t).setStyle(e)}}function Lt(t){var e={opacity:0};kt.eachChild(function(t){return t.setStyle(e)}),St.eachChild(function(t){return t.setStyle(e)}),Mt.eachChild(function(t){return t.setStyle(e)})}function Ot(){Dt.call(_);var t=this.data.item,e=this.name;nt&&(v.fillColor||nt.childAt(0).setStyle({fill:t.strokeColor}),kt&&kt.childAt(0).setStyle({text:V(t,t.itemValue)+(t.itemName?"\n{a|"+t.itemName+"}":""),fill:d.emphasis&&d.emphasis.color||d.color||t.strokeColor})),this.stopAnimation(!0);var n=Bo(Ro(m),x,!0);this.animateTo({shape:{innerRadius:rt?t.inner+y.shadowRadius:t.inner,outerRadius:t.hover},style:l({},n),z2:++s},300,"elasticOut"),S&&(Lt(),zt(e))}function Dt(){this._shape.eachChild(function(t){var e=t.data.item;t.animateTo({shape:{outerRadius:e.outer,innerRadius:e.inner},style:l({},m)},50,"elasticOut")}),S&&Lt()}function Pt(t){if("object"!==(void 0===t?"undefined":a(t)))return t;var e=t.colorStops;return e[e.length-1].color}function Ft(t,e){var r=t.endAngle,i=t.startAngle,o=t.strokeColor,a=t.itemValue,s=t.value,c=(r+i)/2-h/2,f=(P+D)/2,p=Math.cos(c),v=Math.sin(c),m=e?0:p*f,x=e?0:v*f,_=S?2*(F-P):0,w=(W?(P+D)/2*p:(P+_)*p)+z,b=(W?(P+D)/2*v:(P+_)*v)+L,k=w+p*H,M=b+v*H;if(S){var A=k;p>0&&(A=n.getWidth()-k),t.validWidth=A,t.labelFontSize=d.textStyle.fontSize}else{var I=k+(p<0?-1:1)*U,T=I;p>0&&(T=n.getWidth()-I),t.validWidth=T,t.labelFontSize=d.textStyle.fontSize}var C=void 0,E=void 0,O=[],N="center",R=d.textStyle.color,G=d.textStyle.insideColor||R,Y=V(t,a),Z=S?0:1;if(!1===Y)return!1;if(B)C=z,E=L;else if(W)C=z+m,E=L+x;else{var Q=ot[Y]||function(t){u.save(),u.font=(d.textStyle.fontSize||12)+"px sans-serif";var e=Math.max.apply(Math,t.split("\n").map(function(t){return u.measureText(t).width}));return u.restore(),e}(Y);ot[Y]=Q,S&&(U=Q);var J=k+(p<0?-1:1)*U,et=M;N=W?"center":p>0?"left":"right",R=R&&"auto"!=R?R:o,S?(C=k+(p<0?-1:0)*Q,E=M-2,N=d.textStyle.textAlign):(C=J+(p<0?-5:5),E=et),j&&($.push({key:"both"+t.name,style:Bo({text:Y,x:z+m,y:L+x,fontSize:d.textStyle.fontSize,fontFamily:d.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:Pt(G)},d.textStyle,!0),silent:!0,z:11}),Y=q(t)),"rose"==y.type&&(w=tt(s)*p+z,b=tt(s)*v+L),O=[[w,b],[k,M],[J,et]],X.push({shape:{data:O},key:t.name,style:{stroke:Pt(d.lineColor||R),opacity:Z}}),g.show&&K.push({key:t.name,shape:{symbolType:g.type,x:-g.size/2,y:-g.size/2,width:g.size,height:g.size},style:l({fill:R,opacity:Z},g.style),position:[w,b]})}return $.push({key:t.name,style:Bo({opacity:Z,text:Y+(t.itemName?"\n{a|"+t.itemName+"}":""),x:C,y:E,fontSize:d.textStyle.fontSize,fontFamily:d.textStyle.fontFamily,textBaseline:S?"bottom":"middle",textAlign:N,textFill:Pt(R),rich:{a:{fontSize:d.subTextStyle.fontSize,textLineHeight:d.subTextStyle.textLineHeight}}},d.textStyle,!0),silent:!0,z:11}),!0}},e}(Ad);$x.type=Yx;var Xx="pie",Kx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Xx,c(r,n)}return u(e,t),e.prototype.update=function(){this.globalModel;var t=this.getData(),e=t.values;e[0]&&e[0][0]&&e.forEach(function(t){t.name=t[0],t.value=t[1],t.color=t[2]});var n=this.get("selected"),r=Zo(t.values,function(t,e){return t.dataIndex=e,!(n&&!1===n[t.name])});if(r.length>=0){if("nice"==this.get("itemStyle").order){r.sort(function(t,e){return t.value-e.value});var i=r.pop();i&&r.splice(0,0,i)}var o=t.max,a=t.min,s=t.title;this.drawData={max:o,min:a,title:s,values:r}}},e.prototype.getSeriesColor=function(t){var e=this.get("theme"),n=this.getData().values.findIndex(function(e){return e.name==t}),r=void 0,i=void 0;if(arguments.length&&this.get("name")!==t){var o=this.findDataNamed(t);o&&(r=o.itemStyle,i=o.color)}else r=this.get("itemStyle"),i=this.get("color");return i||(r&&r.normal?r.normal.stroke||r.normal.fill:e[n%e.length])},e}(Pd);Kx.type=Xx,Kx.defaultOption={theme:zd,center:["50%","50%"],radius:[50,"30%"],hoverAnimation:!0,avoidLabelOverlap:!0,avoidLabelGap:6,likeAlipay:!1,itemStyle:{shadowRadius:0,shadowColor:"#e4e4e4",order:"nice"},item:{normal:{style:{}},emphasis:{style:{}}},label:{nameFormatter:function(){},lineColor:"",position:"inner",outerOffset:0,textStyle:{color:""},subTextStyle:{fontSize:14,textLineHeight:30},symbol:{show:!1,size:5,type:"circle",style:{}}},title:{offsetCenter:[0,0],textStyle:{color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:18}}},Tp(Kx,$x);var Zx=Math.PI,Qx=Math.cos,Jx=Math.sin,t_=dc.extend({type:"arcline",shape:{cx:0,cy:0,r:0,r1:0,endAngle:-Zx/2,startAngle:-Zx/2,edgePadding:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.endAngle,o=e.startAngle,a=e.edgePadding,s=n,l=.97*r>>0,u=e.r,h=e.r1||.8*u>>0,c=i/4/Zx*360/a;function f(t,e,n,r){return[t+Qx(r)*n,e+Jx(r)*n]}for(var d=0;d<c;d++){var p=f(n,r,u,i/c*d+o),g=f(s,l,h,i/c*d+o);t.moveTo.apply(t,p),t.lineTo.apply(t,g)}}}),e_="arcline",n_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=e_,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove();var r=Math.PI,i=(this.group,t.drawData),o=(t.get("z"),t.get("zlevel"),t.get("itemStyle")),a=o.normal.lineWidth,s=o.emphasis.lineWidth,l=t.get("circleStyle"),u=t.get("center"),h=t.get("radius"),c=n.getWidth(),f=n.getHeight(),d="string"==typeof u[0]?parseInt(parseFloat(u[0].split("%")[0])/100*c):parseInt(u[0]),p="string"==typeof u[1]?parseInt(parseFloat(u[1].split("%")[0])/100*f):parseInt(u[1]),g="string"==typeof h[0]?parseInt(parseFloat(h[0].split("%")[0])/100*c):parseInt(h[0]),v="string"==typeof h[1]?parseInt(parseFloat(h[1].split("%")[0])/100*f):parseInt(h[1]),y=l.edgePadding||2,m=o.formatter,x=void 0,_=[],w=i.values,b=0;function S(t){var e=t.endAngle,n=t.startAngle,r=t.strokeColor,i=t.itemValue,o=this.setShape(Math.random(),t_,{shape:{cx:d,cy:p,r:v,r1:g,endAngle:e,startAngle:n,edgePadding:y},style:{fill:null,stroke:r}}),l=void 0;return o.on("mouseover",function(){clearTimeout(l),l=setTimeout(function(){x.setStyle({text:m(null,i),fill:r}),o.stopAnimation(!0),o.animateTo({shape:{r:v+8},style:{lineWidth:s}},300,"elasticOut")},50)}),o.on("mouseout",function(){clearTimeout(l),o.stopAnimation(!0),l=setTimeout(function(){o.animateTo({shape:{r:v},style:{lineWidth:a}},300,"elasticOut")},50)}),o}function k(t,e){return x=new Ec({style:{text:m(null,t),x:d,y:.97*p,font:o.textStyle.fontWeight+" "+o.textStyle.fontSize+"px "+o.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:e}}),this.group.add(x),x}if(function(){var t=new t_({shape:{cx:d,cy:p,r:v,r1:g,edgePadding:y,endAngle:2*Math.PI},style:{stroke:l.backgroundColor||"#223272"}}),e=new zc({shape:{cx:d,cy:p,r:v+3},style:{fill:null,stroke:l.outerCircleColor||"#101851"}}),n=new zc({shape:{cx:d,cy:.97*p,r:g-3},style:{fill:null,stroke:l.innerCircleColor||"#314b89"}});this.group.add(e),this.group.add(n),this.group.add(t)}.call(this),w.length>1){for(var M=w.length,A=-r/2,I=void 0,T=void 0,C=0;C<M;C++)b+=w[C].value;for(var E,z=0;z<M;z++){E=w[z];var L=Math.abs(E.value/b),O=L*(2*Math.PI),D={itemValue:L,startAngle:A,endAngle:O,strokeColor:E.color};0==z&&(I=L,T=E.color),S.call(this,D),A+=O}k.call(this,I,T)}else{var P=Math.abs(i.values[0].value/(i.max-i.min));P>=1&&(P=1);var F=i.values[0].color,N=P*(2*Math.PI)||0;S.call(this,{endAngle:N,itemValue:P,strokeColor:F,startAngle:-r/2}),k.call(this,P,F)}for(var R=0;R<_.length;R++)this.group.add(arc);if(i.title){var B=t.get("title"),W="string"==typeof B.offsetCenter[0]?parseFloat(B.offsetCenter[0].split("%")[0])/100*c:B.offsetCenter[0],j="string"==typeof B.offsetCenter[1]?parseFloat(B.offsetCenter[1].split("%")[0])/100*f:B.offsetCenter[1],G=new Ec({style:{text:i.title,x:d-W,y:p-j,font:B.textStyle.fontWeight+" "+B.textStyle.fontSize+"px "+B.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:B.textStyle.color}});this.group.add(G)}},e}(Ad);n_.type=e_;var r_="arcline",i_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=r_,c(r,n)}return u(e,t),e.prototype.update=function(){this.globalModel;var t=this.getData(),e=this.get("selected"),n=Zo(t.values,function(t,n){return!(e&&!1===e[t.name])});if(n.length>0){n.sort(function(t,e){return e.value-t.value});var r=t.max,i=t.min;this.drawData={max:r,min:i,values:n}}},e}(Pd);i_.type=r_,i_.defaultOption={zlevel:0,z:1,center:["50%","50%"],radius:[10,20],title:{offsetCenter:[0,0],textStyle:{color:"#333",fontStyle:"normal",fontFamily:"sans-serif",fontWeight:"normal",fontSize:14}},circleStyle:{show:!1,innerRadius:55,outerRadius:70,innerStrokeColor:"#333",innerFillColor:"#F04927",outerFillColor:"#F04927"},itemStyle:{normal:{stroke:"#333",fill:"#333",cornerRadius:0,lineWidth:1},formatter:function(t,e){return e},textStyle:{position:null,color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:12},emphasis:{lineWidth:2}}},Tp(i_,n_);var o_="arcbar",a_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=o_,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove();var r=Math.PI,i=2*r,o=(this.group,t.getData()),s=(t.get("z"),t.get("zlevel"),t.get("itemStyle")),l=t.get("circleStyle"),u=t.get("hoverStyle"),h=(t.get("colors"),t.get("center")),c=t.get("radius"),f=n.getWidth(),d=n.getHeight(),p=Math.min(f,d),g="string"==typeof h[0]?parseInt(parseFloat(h[0].split("%")[0])/100*f):parseInt(h[0]),v="string"==typeof h[1]?parseInt(parseFloat(h[1].split("%")[0])/100*d):parseInt(h[1]),y=s.itemRadius||6,m="string"==typeof c?parseInt(parseFloat(c.split("%")[0])/100*p)/2:parseInt(c),x=m-y+1,_=(l.edgePadding,u.formatter),w=void 0,b=[],S=o.values,k=0;function M(t,n){var o,s,u,h,c,f=t.endAngle,d=(t.startAngle,t.strokeColor,t.itemValue),p=t.itemName,y=(s=void 0,u=void 0,h=void 0,c=void 0,(o=f)<r/2&&o>=0?(s=u=0,h=c=1):o>=r/2&&o<r?(s=u=0,h=Math.cos(r+o)/2,c=1):o>=r&&o<1.5*r?(s=Math.sin(o-r)/(1+Math.sin(o-r)),u=0,h=0,c=(Math.cos(o-r)+1)/2):o>=1.5*r&&o<i&&(s=.5,u=0,h=(1-Math.sin(i-o))/2,c=(1-Math.cos(i-o))/2),{x:s,y:u,x2:h,y2:c}),b=S[n].color||l.color||["#2bbdb9","#2bbdb9"];("object"!==(void 0===b?"undefined":a(b))||b.length<=1)&&(b=[b,jg(b).brighter()]);var k=new $p({shape:{outerRadius:m,innerRadius:x,endAngle:0,startAngle:0,cornerRadius:4},position:[g,v],style:{fill:{type:"linear",x:y.x,y:y.y,x2:y.x2,y2:y.y2,colorStops:[{offset:0,color:b[0]},{offset:1,color:b[1]}],globalCoord:!1},stroke:null}}),M=void 0;k.on("mouseover",function(){clearTimeout(M),M=setTimeout(function(){w&&w.setStyle("text",_(d)),k.stopAnimation(!0),k.animateTo({shape:{r:m+8}},300,"elasticOut")},50)}),k.on("mouseout",function(){clearTimeout(M),k.stopAnimation(!0),M=setTimeout(function(){k.animateTo({shape:{r:m}},300,"elasticOut")},50)}),k.animateTo({shape:{endAngle:f}},500,"linear"),this.group.add(k);var A=e.get("tooltip")&&e.get("tooltip").formatter;return A||(A=function(t,e){return t+": "+(100*e).toFixed(0)+"%"}),k.data={value:A(p,d)},k}function A(t){if(!1!==u.show)return w=new Ec({style:{text:_(t),x:g,y:.97*v,font:u.textStyle.fontWeight+" "+u.textStyle.fontSize+"px "+u.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:u.textStyle.color}}),this.group.add(w),w}if(function(){var t=l.borderColor,e=(m+x)/2,n=new $p({shape:{outerRadius:e+.5,innerRadius:e-.5,endAngle:0,startAngle:i,cornerRadius:4},position:[g,v],style:{fill:t}});this.group.add(n)}.call(this),S.length>1){var I=S.length,T=void 0;k=Qp(S,function(t){return t.value})[1];for(var C,E=0;E<I;E++){C=S[E];var z=Math.abs(C.value/k),L={itemValue:z,startAngle:0,endAngle:z*l.maxAngle/180*r||3*z/4*(2*r)||r,strokeColor:C.color,itemName:C.name};0==E&&(T=z),M.call(this,L,E),x-=y,m-=y}A.call(this,T)}else{var O=Math.abs(o.values[0].value/(o.max-o.min)),D=o.values[0].color,P=o.values[0].name,F=O*l.maxAngle/180*r||O*(2*Math.PI)||0;l.shadowColor&&function(t){var e=t.endAngle,n=new $p({shape:{outerRadius:m,innerRadius:0,endAngle:0,startAngle:0,cornerRadius:0},position:[g,v],style:{fill:l.shadowColor}});n.animateTo({shape:{endAngle:e}},500,"linear"),this.group.add(n)}.call(this,{endAngle:F}),M.call(this,{endAngle:F,itemValue:O,strokeColor:D,startAngle:-r/2,itemName:P},0),A.call(this,O)}for(var N=0;N<b.length;N++)this.group.add(arc);if(o.title){var R=t.get("title"),B="string"==typeof R.offsetCenter[0]?parseFloat(R.offsetCenter[0].split("%")[0])/100*f:R.offsetCenter[0],W="string"==typeof R.offsetCenter[1]?parseFloat(R.offsetCenter[1].split("%")[0])/100*d:R.offsetCenter[1],j=new Ec({style:{text:o.title,x:g-B,y:v-W,font:R.textStyle.fontWeight+" "+R.textStyle.fontSize+"px "+R.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:R.textStyle.color}});this.group.add(j)}},e}(Ad);a_.type=o_;var s_="arcbar",l_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=s_,c(r,n)}return u(e,t),e}(Pd);l_.type=s_,l_.defaultOption={zlevel:0,z:1,center:["50%","50%"],radius:[10,20],title:{offsetCenter:[0,0],textStyle:{color:"#333",fontStyle:"normal",fontFamily:"sans-serif",fontWeight:"normal",fontSize:14}},circleStyle:{maxAngle:270},hoverStyle:{formatter:function(t){return t},textStyle:{position:null,color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:12}},itemStyle:{normal:{stroke:"#333",fill:"#333",cornerRadius:0}}},Tp(l_,a_);var u_="radar",h_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=u_,c(r,n)}return u(e,t),e}(Pd);h_.type=u_,h_.defaultOption={$radarAxisIndex:0,name:void 0,animation:!0,duration:500,easing:"cubicOut",symbol:"circle",symbolSize:3,label:{normal:{show:!1,distanceOffset:1,offset:[0,15],formatter:void 0,textBaseline:"middle",textAlign:"center"},emphasis:{show:!1}},itemStyle:{normal:{lineWidth:1,borderType:"solid",fill:"auto",opacity:.6},emphasis:{lineWidth:1,borderType:"solid",fill:"auto",opacity:.8}},tooltip:{formatter:function(t){for(var e=t.data.name+":<br />",n=0;n<t.indicator.length;n++)e+=t.indicator[n].name+": "+t.data.value[n]+"<br />";return e}},zlevel:0,z:2};var c_=zv,f_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=u_,c(r,n)}return u(e,t),e.prototype.getBrighterColor=function(t,e){return"auto"==e?t.toString():"hidden"==e?void 0:e},e.prototype.render=function(t,e,n){for(var r,i,o=Math.cos,a=Math.sin,s=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],u=t.getData(),h=t.get("$radarAxisIndex"),c=e.getComponentByIndex("radarAxis",h),f=c.radiusScaleArr,d=c.angleScale,p=t.get("itemStyle"),g=t.get("label"),v=t.get("label").normal.distanceOffset,y=t.get("duration"),m=t.get("easing"),x=t.get("symbol"),_=t.get("animation"),w=(t.get("$legendIndex"),t.get("selected")),b=n.getWidth(),S=n.getHeight(),k=c.get("center"),M="string"==typeof k[0]?parseInt(parseFloat(k[0].split("%")[0])/100*b):parseInt(k[0]),A="string"==typeof k[1]?parseInt(parseFloat(k[1].split("%")[0])/100*S):parseInt(k[1]),I=[],T=[],C=0;C<u.length;C++){var E=u[C],z=E.value,L=void 0,O=void 0,D=void 0;ia(x)?(L=x.normal.style.stroke?x.normal.style.stroke:s[C],O=x.normal.size,D=x.normal.style.fill?x.normal.style.fill:"#fff"):(L=t.get("color")?t.get("color"):s[C],O=t.get("symbolSize"),D="#fff");var P=(L=c_.color(L)).toString();L.opacity=p.normal.opacity;var F=this.getBrighterColor(L,p.normal.fill),N=[];T=[];for(var R=0;R<z.length;R++){var B=f[R](z[R]),W=B*o(d(R)),j=B*a(d(R)),G=(B+10*v)*o(d(R)),H=(B+10*v)*a(d(R));N.push([W,j,G,H]),T.push([0,0])}w&&!1===w[E.name]||I.push({shape:{points:N},position:[M,A],key:E.name,style:l({stroke:P},p.normal,{fill:F}),data:{value:t.get("tooltip").formatter({seriesIndex:C,color:P,data:E,indicator:c.get("indicator")})}});for(var U=[],V=[],q=0;q<N.length;q++){U.push({z2:4,shape:{cx:N[q][0],cy:N[q][1],r:O},key:"symbol_"+C+"_"+q,position:[M,A],style:{stroke:P,fill:D},data:{value:t.get("tooltip").formatter({seriesIndex:C,color:P,data:E,indicator:c.get("indicator")})}});var Y=N[q][0],$=N[q][1],X=0==Y.toFixed(6)?"center":Y.toFixed(6)<0?"right":"left",K=0==Y.toFixed(6)?$<0?"bottom":"top":void 0;V.push({z2:5,key:"label_"+C+"_"+q,style:l({text:"function"==typeof g.normal.formatter?g.normal.formatter(z[q]):z[q],x:N[q][2]-g.normal.offset[0],y:N[q][3]-g.normal.offset[1],textFill:P},g.normal,{textAlign:X,textVerticalAlign:K}),position:[M,A],data:{value:t.get("tooltip").formatter({seriesIndex:C,color:P,data:E,indicator:c.get("indicator")})}})}this.setShapeGroup("symbolGroup"+C,zc,U,{animation:_,animateFrom:{shape:{r:0}},duration:y,easing:m},void 0,function(t){t.on("mouseover",function(t){var e=t.target;r._children[e.name.split("_")[1]].trigger("mouseover")}),t.on("mouseout",function(t){var e=t.target;r._children[e.name.split("_")[1]].trigger("mouseout")})}),i=this.setShapeGroup("labelGroup"+C,Ec,V),g.normal.show?i.show():i.hide()}var Z=this;r=this.setShapeGroup("polygon",Rc,I,{animation:_,animateFrom:{shape:{points:T}},duration:y,easing:m},void 0,function(e){e.on("mouseover",function(){g.emphasis.show?(i.eachChild(function(t){var e=t.style.textAlign;t.setStyle(l({},g.emphasis,{textAlign:e})),t.z2=3}),i.show()):i.hide();var e=c_.color(this.style.stroke);e.opacity=p.emphasis.opacity,this.setStyle(l({},p.emphasis,{fill:Z.getBrighterColor(e,p.emphasis.fill)})),this.z2=3,n.dispatchAction(t,ud.mouseover,this)}),e.on("mouseout",function(){g.normal.show?(i.eachChild(function(t){var e=t.style.textAlign;t.setStyle(l({},g.normal,{textAlign:e})),t.z2=0}),i.show()):i.hide();var e=c_.color(this.style.stroke);e.opacity=p.normal.opacity,this.setStyle(l({},p.normal,{fill:Z.getBrighterColor(e,p.normal.fill)})),this.z2=0,n.dispatchAction(t,ud.mouseout,this)}),e.on("click",function(e){var r=e.target;n.dispatchAction(t,ud.itemClick,r)})})},e}(Ad);f_.type=u_,Tp(h_,f_);var d_=dc.extend({type:"d3-area",shape:{data:[],x:void 0,x0:void 0,x1:void 0,y:void 0,y0:void 0,y1:void 0,defined:void 0,curve:void 0,yStart:0,percent:1},style:{stroke:null,fill:"#000"},updateArea:function(){!this.area&&(this.area=function(){var t=hf,e=null,n=sf(0),r=cf,i=sf(!0),o=null,a=uf,s=null;function l(l){var u,h,c,f,d,p=l.length,g=!1,v=new Array(p),y=new Array(p);for(null==o&&(s=a(d=af())),u=0;u<=p;++u){if(!(u<p&&i(f=l[u],u,l))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),c=u-1;c>=h;--c)s.point(v[c],y[c]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+t(f,u,l),y[u]=+n(f,u,l),s.point(e?+e(f,u,l):v[u],r?+r(f,u,l):y[u]))}if(d)return s=null,d+""||null}function u(){return ff().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:sf(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:sf(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:sf(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:sf(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:sf(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:sf(+t),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:sf(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}());var t=this.area,e=this.shape;for(var n in e)!~["data","percent","yStart"].indexOf(n)&&t[n]&&void 0!==e[n]&&("y1"===n||"y0"===n?function(){var r=e[n],i=na(r),o=e.percent,a=e["y1"===n?"y1Start":"y0Start"],s=na(a);t[n](function(t,e,n){return(i?r(t,e,n):r)*o+(a?(s?a(t,e,n):a)*(1-o):0)})}():t[n](e[n]))},buildPath:function(t,e){this.updateArea(),this.area.context(t)(e.data)}});function p_(t){return t<0?-1:1}function g_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(p_(o)+p_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function v_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function y_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function m_(t){this._context=t}function x_(t){this._context=new __(t)}function __(t){this._context=t}function w_(t){this._context=t}function b_(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function S_(t,e){this._context=t,this._t=e}m_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y_(this,this._t0,v_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,y_(this,v_(this,n=g_(this,t,e)),n);break;default:y_(this,this._t0,n=g_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(x_.prototype=Object.create(m_.prototype)).point=function(t,e){m_.prototype.point.call(this,e,t)},__.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},w_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=b_(t),i=b_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var k_={linear:uf,monotoneX:function(t){return new m_(t)},monotoneY:function(t){return new x_(t)},natural:function(t){return new w_(t)},step:function(t){return new S_(t,.5)},stepAfter:function(t){return new S_(t,1)},stepBefore:function(t){return new S_(t,0)}};function M_(t){var e=t.type,n=void 0;switch(e){case"bundle":n="beta";break;case"cardinal":case"cardinalOpen":case"cardinalClosed":n="tension";break;case"catmullRom":case"catmullRomOpen":case"catmullRomClosed":n="alpha"}return n?k_[e][n](t.param):k_[e]}var A_="scatter",I_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=A_,r.isScatter=!0,c(r,n)}return u(e,t),e.prototype.formatData=function(t){return t&&t.length?ea(t[0])?t:Ko(t,function(t,e){return[e,t]}):t},e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&"scatter"===e.type&&!Qf(e,"symbol.normal.style.fill")&&Zf(e,"symbol.normal.style.fill",e.color),void 0===e.$calendarIndex&&void 0===e.$geoIndex||(e.$axisIndex=void 0)},e.prototype.updateByCalendar=function(){var t=this.globalModel,e=this.getData(),n=t.getComponentByIndex("calendar",this.get("$calendarIndex")),r=[];Xo(e,function(t,e){if(t){var i=t[0],o=[],a=n.calcPoint(i);o=a?[a.x,a.y,t,e]:null,r.push(o)}}),this.data=e,this.startIndex=0,this.lastPoints=this.points,this.points=r},e.prototype.updateByGeo=function(){var t=this.globalModel,e=this.getData(),n=t.getComponentByIndex("geo",this.get("$geoIndex")),r=[];Xo(e,function(t,e){if(t){var i=[],o=n.projection(t);i=o?[o[0],o[1],t,e]:null,r.push(i)}}),this.data=e,this.startIndex=0,this.lastPoints=this.points,this.points=r},e.prototype.updateByAxis=function(){var t=this,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=!!this.get("stack"),i=r?this.stackData:this.getData(),o=[],a=void 0,s="left"===e.get("position")||"right"===e.get("position");if(!n){var l=e.get("position");a=qf(this.get("offset"),this.global["bottom"===l||"top"===l?"getHeight":"getWidth"]())+e.pos}var u="time"===e.get("type"),h=e&&e.scale,c=h&&h.domain(),f=n&&"time"===n.get("type"),d=n&&n.scale,p=d&&d.domain(),g=n&&n.get("compare");if(!this.get("stack")&&g&&"ordinal"===e.getAxisType()){var v=e.startIndex,y=e.endIndex,m=i[v][1];i=i.map(function(t){if(t[0]<v||t[0]>y)return t;var e=[].concat(t);return"percent"===g?e[1]=(e[1]-m)/m:e[1]-=m,e[2]=t,e})}Xo(i,function(i,l){if(i){var g=i.value||i,v=g[0],y=g[1],m=[];r&&(y=y[1]),m[s?1:0]=T_(v,e,u,h,c),m[s?0:1]=n?ea(y)?Ko(y,function(t){return T_(t,n,f,d,p)}):T_(y,n,f,d,p):a,isNaN(m[0])||isNaN(m[1])?"area"===t.get("type")?isNaN(m[0])?o.push(null):o.push(m):o.push(null):(r?(m[2]=i[2],m[3]=l):(m[2]=i,m[3]=l),o.push(m))}else o.push(null)}),this.data=i,this.startIndex=e.startIndex,this.lastPoints=this.points,this.points=o},e.prototype.update=function(){void 0!==this.get("$calendarIndex")?this.updateByCalendar():void 0!==this.get("$geoIndex")?this.updateByGeo():this.updateByAxis()},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("symbol").normal;return e.style.fill||e.style.stroke},e.prototype.onUnSelected=function(){this.lastPoints=void 0,this.preLastPoints=void 0,this.points=void 0},e}(Pd);function T_(t,e,n,r,i){if(n&&!(t instanceof Date)&&(t=new Date(t)),"number"==typeof t||n)switch(e.getAxisType()){case"continuous":if(t<=i[1]&&t>=i[0])return r(t);break;case"ordinal":var o=e.startIndex;if(t<=e.endIndex&&t>=o)return r(i[t-o])+("band"===e.get("type")?r.bandwidth()/2:0)}}I_.type=A_,I_.emphasisList=["symbol","label"],I_.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,symbol:{normal:{show:!0,type:"circle",offset:[0,0],size:8,style:{fill:"#058499"}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},$geoIndex:void 0,markers:{linkLine:{style:{lineWidth:2,stroke:"#FFBB00"},retain:150,linePoints:void 0},labelGroup:[],data:void 0},large:!1,largeThreshold:2e3,onClick:void 0,onDBLClick:void 0,selectedList:[],enableSelect:!1,legendHoverLink:!0,whenEmphasisZ:99999,offset:0,cursor:"default",zlevel:0,z:4};var C_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=A_,c(r,n)}return u(e,t),e.prototype.renderAllSymbol=function(t,e,n,r){this.group,t.get("symbol").normal;var i=t.isScatter,o=t.get("selectedList"),a=t.get("whenEmphasisZ"),s=t.get("animation"),l=t.get("animationDuration"),u=t.get("animationEasing"),h=t.get("cursor"),c=[],f=[],d=void 0;Xo(r,function(e,n){if(e){var r=e[2],i=!!o&&o.indexOf(e[3])>-1,s={shape:z_(t,r,i),position:[e[0],e[1]],key:e[3],z2:i&&a?a:e[3]+99,seriesIndex:t.index,dataIndex:e[3],rectHover:!0,cursor:h};c.push(s),f.push({shape:{x:0,y:0,width:0,height:0},position:[e[0],e[1]]})}}),d=i||t.get("stack")?{shape:{x:0,y:0,width:0,height:0},position:[0,0]}:null,this.setShapeGroup("symbolGroup",Vd,c,{animation:s,duration:l,easing:u,animateFrom:f,animateList:d},function(e){e.on("mouseover",function(e){var r=e.target;E_(r,t,!0),a&&(r.z2=a+1),n.dispatchAction(t,ud.mouseover,{data:t.points[r.dataIndex][2],dataIndex:r.dataIndex,name:t.get("name"),seriesIndex:t.index,position:{x:t.points[r.dataIndex][0],y:t.points[r.dataIndex][1]}})}),e.on("mouseout",function(e){var r=e.target;-1===t.get("selectedList").indexOf(r.dataIndex)&&E_(r,t,!1),n.dispatchAction(t,ud.mouseout,{data:t.points[r.dataIndex][2],dataIndex:r.dataIndex,name:t.get("name"),seriesIndex:t.index,position:{x:t.points[r.dataIndex][0],y:t.points[r.dataIndex][1]}})}),e.on("click",function(r){var i=t.get("enableSelect"),o=t.get("selectedList"),a=r.target;if("multiple"===i){var s=o.indexOf(a.dataIndex);s>-1?(o.splice(s,1),t.set("selectedList",o),E_(a,t,!1)):(o.push(a.dataIndex),t.set("selectedList",o))}else i&&(Xo(o,function(n){e.childOfName(n)&&E_(e.childOfName(n),t,!1)}),t.set("selectedList",[a.dataIndex]),n.dispatchAction(t,ud.selectedListChange,[a.dataIndex]));n.dispatchAction(t,ud.itemClick,{data:t.points[a.dataIndex][2],dataIndex:a.dataIndex,name:t.get("name"),seriesIndex:t.index,position:{x:t.points[a.dataIndex][0],y:t.points[a.dataIndex][1]}}),t.get("onClick")&&t.get("onClick")(t.points[a.dataIndex][2],r)}),e.on("dblclick",function(e){var n=e.target;t.get("onDBLClick")&&t.get("onDBLClick")(t.points[n.dataIndex][2],e)})}),this.getShape("symbolGroup").eachChild(function(e){~o.indexOf(e.dataIndex)?E_(e,t,!0,!0):E_(e,t,!1,!0)})},e.prototype.renderLargeSymbol=function(t,e,n,r){var i=t.get("symbol").normal,o=[];Xo(r,function(e){if(e){var n=e[2],r=z_(t,n,!1);r.x+=e[0],r.y+=e[1],o.push(r)}}),this.setShape("symbolGroup",Yd,{shape:{points:o},style:i.style,silent:!0})},e.prototype.getMarkerInfoByItemIndex=function(t,e){var n=void 0;return e.map(function(e,r){e[3]!=t||(n=e)}),n},e.prototype.renderMarkers=function(t,e,n,r){var i=this,o=t.get("markers"),a=o.data,s=o.linkLine,u=o.labelGroup,h=t.get("$geoIndex"),c=n.getModel("geo",h),f=[],d=[];("selectedList"===a?t.get("selectedList").map(function(t,e){return{itemIndex:t}}):a).map(function(t,e){var n=Bo(Ro(t.linkLine)||{},s),o=Bo(Ro(t.labelGroup)||[],u),a=t.itemIndex,h=n.linePoints,p=n.retain,g=void 0,v=i.getMarkerInfoByItemIndex(a,r);ea(g="function"==typeof h?h({position:c.position,startPos:[v[0],v[1]],markerInfo:v[2],itemIndex:v[3],retain:p}):ea(h)?h:[[v[0],v[1]],[v[0]+20,v[1]-40],[v[0]+20+p,v[1]-40]]),f.push({shape:{x:function(t){return t[0]},y:function(t){return t[1]},data:g,percent:1,defined:function(t){return t}},style:n.style,markerLine:{itemIndex:a,markerInfo:v}});for(var y=0;y<o.length;y++){var m=o[y],x=m.offset||[0,0],_=void 0;"function"==typeof m.formatter&&(_=m.formatter({position:c.position,startPos:[v[0],v[1]],markerInfo:v[2],itemIndex:v[3],retain:p})),"function"==typeof m.offset&&(x=m.offset({position:c.position,startPos:[v[0],v[1]],markerInfo:v[2],itemIndex:v[3],retain:p})),_&&d.push({style:l({},m.style,{text:_}),position:[g[1][0]+x[0],g[1][1]+x[1]]||g[1]})}}),this.setShapeGroup("markerLine",df,f),this.setShapeGroup("markerText",Ec,d)},e.prototype.render=function(t,e,n){var r=t.points,i=t.tickPoints,o=t.isScatter,a=t.get("symbol").normal,s=t.get("markers"),l="all"===a.show||o?r:i;a.show?t.get("large")&&l.length>t.get("largeThreshold")?this.renderLargeSymbol(t,e,n,l):this.renderAllSymbol(t,e,n,l):this.removeShape("symbolGroup"),s&&s.show&&("selectedList"===s.data||s.data[0])&&this.renderMarkers(t,e,n,l)},e.prototype.highlight=function(t,e,n,r){if(r){var i=r.index,o=t.get("symbol").emphasis,a=t.get("label").emphasis,s=t.get("z"),l=t.get("type"),u=t.get("zlevel"),h=t.getRealData(),c=t.points,f="scatter"===l?$f(h,function(t){return t&&t[0]===i}):[i];if(o.show||a.show){this.getShape("highlightSymbol");var d=this.getShape("symbolGroup"),p=[];Xo(f,function(e){var n=d&&d.childOfName(e);if(n)E_(n,t,!0);else{var r=c[e];if(!r)return;var i=r[2],o={shape:z_(t,i,!0),position:[r[0],r[1]],dataIndex:r[3],style:L_(t,i,!0,r[3]),z2:r[3]+99,z:s,zlevel:u,seriesIndex:t.index};p.push(o)}}),this.setShapeGroup("highlightSymbol",Vd,p).show()}}else{var g=this.getShape("symbolGroup");g&&g.eachChild(function(e){E_(e,t,!0)})}},e.prototype.downplay=function(t,e,n,r){var i=this,o=t.get("selectedList");if(r){var a=r.index,s=(r.startIndex,t.getRealData()),l="scatter"===t.get("type")?$f(s,function(t){return t&&t[0]===a}):[a];this.getShape("symbolGroup")&&Xo(l,function(e){var n=i.getShape("symbolGroup").childOfName(e);n&&-1===o.indexOf(e)&&E_(n,t,!1)}),this.getShape("highlightSymbol")&&this.getShape("highlightSymbol").hide()}else{var u=this.getShape("symbolGroup");u&&u.eachChild(function(e){-1===o.indexOf(e.dataIndex)&&E_(e,t,!1)})}},e}(Ad);function E_(t,e,n,r){if(e.get("symbol")[n?"emphasis":"normal"].show){var i=e.get("stack")?e.stackData[t.dataIndex][2]:e.getRealData(t.dataIndex);r||(t.stopAnimation(!0),t.animate("shape",!1).when(100,z_(e,i,n)).start()),t.useStyle(L_(e,i,n,t.dataIndex)),!n&&(t.z2=t.dataIndex+99)}}function z_(t,e,n){var r=t.get("symbol"),i=(r=n?Bo(Ro(r.normal),r.emphasis,!0):r.normal).type,o=r.size,a=r.offset,s=Xf("function"==typeof o?o(e):o);return{symbolType:i,x:-s.width/2+a[0],y:-s.height/2+a[1],width:s.width,height:s.height}}function L_(t,e,n,r){var i=t.get("symbol"),o=t.get("label"),a=i.normal.style,s=e[1],u={data:e,index:r-t.startIndex,dataIndex:r},h=t.get("$visualMapIndex"),c=void 0,f=void 0;if(c=na(a)?a(s,u):Ro(a),void 0!==h){var d=t.globalModel.getComponentByIndex("visualMap",h);void 0!==t.get("$calendarIndex")||"line"===t.get("type")?c.fill=d.getColorStop(e[1],c.fill):c.fill=d.getColorStop(e[2],c.fill)}if(n){var p=i.emphasis.style;c=Bo(c,p=na(p)?p(s,u):Ro(p),!0)}if(n){var g=o.emphasis;if(g.show){var v=o.normal,y=g.formatter||v.formatter,m=Bo(na(v.style)?v.style(s,u):Ro(v.style),g.style,!0);f=l({text:y?y(s,u):s},Rf(O_(m,s,u)))}}else{var x=o.normal;if(x.show){var _=x.formatter,w=na(x.style)?x.style(s,u):Ro(x.style);f=l({text:_?_(s,u):s},Rf(O_(w,s,u)))}}return f&&(c=Bo(c,f)),c}function O_(t,e,n){var r={};return Xo(t,function(t,i){na(t)?r[i]=t(e,n):r[i]=t}),r}C_.type=A_;var D_="line",P_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=D_,r.isScatter=!1,c(r,n)}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(Qf(e,"line.normal.style.stroke")||Zf(e,"line.normal.style.stroke",e.color),Qf(e,"area.normal.style.fill")||Zf(e,"area.normal.style.fill",e.color),Qf(e,"symbol.normal.style.fill")||Qf(e,"symbol.normal.style.stroke")||(Zf(e,"symbol.normal.style.fill","white"),Zf(e,"symbol.normal.style.stroke",e.color)))},e.prototype.update=function(){t.prototype.update.call(this);var e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=i.domain(),a=r.domain(),s=this.get("stack"),l=this.data,u="band"===e.get("type")?r.bandwidth()/2:0,h=this.points,c="left"===e.get("position")||"right"===e.get("position");if("ordinal"===e.getAxisType()){var f=this.get("symbol").normal;if("auto"===f.show){var d=Xf(f.size),p=["bottom","top"].indexOf(e.get("position"))>-1,g=[];d=p?d.width:d.height;for(var v=0;v<h.length;v++)h[v]&&(g.length?h[v][p?0:1]-g[g.length-1][p?0:1]>d&&g.push(h[v]):g.push(h[v]));this.tickPoints=g}else this.tickPoints=Ko(e.axis.values(),function(t,n){var o=a.indexOf(t)+e.startIndex;if(l[o]){var h=l[o][1];if("number"!=typeof h)return;var c=r(t)+u,f=i(s?h[1]:h);if("number"==typeof c&&"number"==typeof f)return[c,f,l[o],o]}})}else this.tickPoints=h;if("time"===e.get("type")){var y=void 0,m=void 0,x=void 0,_=void 0;for(x=h.length;x--;)if(h[x]){x<h.length-1&&new Date(l[x+1][0])>r.domain()[1]&&(m=h[x]);break}for(_=0;_<h.length;_++)if(h[_]){_>0&&new Date(l[_-1][0])<r.domain()[0]&&(y=h[_]);break}m||y?(this.points=[].concat(h),m&&this.points.splice(x+1,0,c?[m[0],r.range()[1],m[2],m[3]]:[r.range()[1],m[1],m[2],m[3]])):this.points=h}this.y0=i(o[1]<0?o[1]:o[0]>0?o[0]:0),this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.yAxis=n},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("line").normal,n=this.get("area").normal,r=this.get("symbol").normal;return e.show?e.style.stroke:n.show?n.style.fill:r.style.fill||r.style.stroke},e}(I_);function F_(t,e,n){return Math.min(Math.max(t,e),n)}P_.type=D_,P_.emphasisList=["symbol","link","label","line","area"],P_.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,pieces:void 0,aliasType:void 0,line:{normal:{show:!0,style:{fill:void 0,stroke:"#058499",lineWidth:2}},emphasis:{}},area:{normal:{show:!1,snapToBottom:!1,style:{fill:"#058499"}},emphasis:{}},symbol:{normal:{show:!1,type:"circle",offset:[0,0],size:8,style:{}},emphasis:{show:!1,style:{}}},link:{normal:{show:!1,style:{}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},curve:{type:"linear",param:void 0},showRipple:!1,connectNulls:!1,legendHoverLink:!0,selectedList:[],enableSelect:!1,cursor:"default",zlevel:0,z:3};var N_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=D_,c(r,n)}return u(e,t),e.prototype.render=function(e,n,r){var i;(i=t.prototype.render).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));this.group;var o=e.get("line").normal,a=e.get("area").normal,s=a.snapToBottom,u=e.get("curve"),h=e.get("link").normal,c=e.get("pieces"),f=e.get("animation"),d=e.get("animationDuration"),p=e.get("animationEasing"),g=e.get("cursor"),v=e.y0,y=e.points,m=e.tickPoints,x=Qp(y,function(t){return t&&t[1]}),_=x[0],w=x[1],b=e.stackIndex,S=e.lastStackTotal,k=e.stackTotal,M=e.lineTotal,A=e.lastLineTotal,I=e.get("stack"),T=void 0,C=e.yAxis.scale;if(c){for(var E=[],z=r.getHeight(),L=0;L<c.length;L++){var O=c[L];void 0!==O.max?E.push({offset:F_(C(O.max)/z,0,1),color:O.color}):E.push({offset:0,color:O.color}),void 0!==O.min?E.push({offset:F_(C(O.min)/z,0,1),color:O.color}):E.push({offset:1,color:O.color})}T={global:!0,x:0,x2:0,y:0,y2:z,colorStops:E}}e.get("connectNulls")&&(y=Zo(y,function(t){return t}));var D=v,P=v,F=v;if(e.lastPoints&&(F=function(t,n){return e.lastPoints[n]?e.lastPoints[n][1]:t[1]}),I){var N=e.preLastPoints;if(N)P=function(t,e){return N[e]?N[e][1]:t[1]};else if(b){var R=R_(e,n);R.lastPoints&&(P=F=function(t,e){return R.lastPoints[e]?R.lastPoints[e][1]:t[1]})}if(b){var B=R_(e,n);D=function(t,e){return B.points[e]&&B.points[e][1]},e.preLastPoints=B.points}else e.preLastPoints=void 0}if(a.show){(I&&k!==S||M!==A)&&this.getShape("area")&&this.setShape("area",d_,{shape:{percent:0}});var W=Math.max(C.range()[1],C.range()[0]),j={x:function(t){return t[0]},y1:function(t){return t[1]},y0:s?W:D,y0Start:s?W:P,y1Start:s?W:F,data:y,curve:M_(u),percent:1,defined:function(t){return t}},G=v>w||s?a.style:Hf(a.style,(v<_?0:v-_)/(w-_));T&&(G=l({},G,{fill:T})),this.setShape("area",d_,{shape:j,style:G,z2:0,cursor:g},{animation:f,duration:d,easing:p,animateFrom:{shape:{percent:0}}},function(t){var n=e.get("area").emphasis;n.style&&Pf(t,n.style)})}else this.removeShape("area");if(o.show){(I&&k!==S||M!==A)&&this.getShape("line")&&this.setShape("line",df,{shape:{percent:0}});var H={x:function(t){return t[0]},y:function(t){return t[1]},data:y,yStart:F,percent:1,curve:M_(u),defined:function(t){return t}},U=o.style;T&&(U=l({},U,{stroke:T})),this.setShape("line",df,{shape:H,style:U,z2:1,cursor:g},{animation:f,duration:d,easing:p,animateFrom:{shape:{percent:0}}},function(t){var n=e.get("line").emphasis;n.style&&Pf(t,n.style)}),e.get("showRipple")&&function(t,e){var n=t.data,r=n.length,i=void 0,o=void 0,a=void 0;if(n.filter(function(t){return t}).length<=1)return void this.removeShape("rippleGroup");for(a=r-1;a>=0;--a)if(n[a]){i=n[a][0],o=n[a][1];break}for(var s=new fl,l=void 0,u=void 0,h=new Vd({position:[i,o],z:102,z2:102,shape:{symbolType:"circle",width:4,height:4,x:-2,y:-2},style:{fill:"#fff"}}),c=0;c<2;++c){l=c/2*3e3;var f=(u=new Vd({position:[i,o],scale:[1,1],z:101,z2:101,shape:{symbolType:"circle",x:-2,y:-2,width:4,height:4},style:{fill:e.stroke}})).animate("",!0).when(3e3,{scale:[4,4]}).delay(l),d=u.animateStyle(!0).when(3e3,{opacity:0}).delay(l);f.start(),d.start(),s.add(h),s.add(u)}this.set("rippleGroup",s)}.call(this,H,U)}else this.removeShape("line");if(h.show){var V="all"===h.show?y:m,q=[],Y=h.style,$=Hf(h.style,0),X=void 0;if(I&&b){var K=R_(e,n);X="all"===h.show?K.points:K.tickPoints}Xo(V,function(t,e){t&&q.push(_f({shape:{x1:t[0],y1:X?X[e][1]:v,x2:t[0],y2:t[1],percent:1},style:v>t[1]?Y:$,key:e,z2:2,cursor:g}))}),this.setShapeGroup("linkGroup",Vc,q,{animation:f,duration:d,easing:p,animateFrom:{shape:{percent:0}}})}else this.removeShape("linkGroup")},e.prototype.highlight=function(e,n,r,i){var o;if((o=t.prototype.highlight).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))),i){var a=i.index,s=e.get("link").emphasis,l=e.get("z"),u=e.get("stack"),h=e.get("zlevel"),c=e.getRealData(),f=e.points,d=$f(c,function(t){return t&&t[0]===a}),p=e.y0;if(s.show){var g=e.stackIndex,v=(this.getShape("highlightLink"),Bo(Ro(e.get("link").normal),s,!0)),y=void 0,m=[];if(u&&g){var x=R_(e,n);y=x.points}Xo(d,function(t){var e=f[t];if(e){var n={shape:{x1:e[0],y1:y?y[t][1]:p,x2:e[0],y2:e[1]},style:Hf(v.style,p>e[1]?1:0),z2:10,z:l,zlevel:h};m.push(n)}}),this.setShapeGroup("highlightLink",Vc,m).show()}}else this.getShape("line")&&this.getShape("line").trigger("emphasis"),this.getShape("area")&&this.getShape("area").trigger("emphasis")},e.prototype.downplay=function(e,n,r,i){var o;(o=t.prototype.downplay).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))),i?this.getShape("highlightLink")&&this.getShape("highlightLink").hide():(this.getShape("line")&&this.getShape("line").trigger("normal"),this.getShape("area")&&this.getShape("area").trigger("normal"))},e}(C_);function R_(t,e){var n=t.get("stack"),r=t.stackIndex;return e.getComponent("series",function(t){return t.get("stack")===n&&t.stackIndex===r-1},!0)[0]}N_.type=D_,Tp(P_,N_);var B_=dc.extend({type:"largeRects",shape:{points:[],y0:0,rectWidth:1},style:{fill:"black",stroke:null},buildPath:function(t,e){var n=e.points,r=e.y0,i=e.rectWidth;Xo(n,function(e){t.rect(e[0],e[1],i,r-e[1])})}}),W_="bar",j_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=W_,c(r,n)}return u(e,t),e.prototype.formatData=function(t){var e="band"===this.getAxisModel("x").get("type");return Ko(t,function(t,n){return e?[n,t]:t})},e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&!Qf(e,"itemStyle.normal.fill")&&Zf(e,"itemStyle.normal.fill",e.color)},e.prototype.update=function(){this.globalModel;var t=this.barTotal,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=n&&n.get("compare"),i=e.startIndex,o=e.endIndex,a=e.scale,s=n.scale,l=a.domain(),u=s.domain(),h=s(u[1]<0?u[1]:u[0]>0?u[0]:0),c=void 0,f=void 0,d=void 0,p=[];if("band"===e.get("type")){var g=a.bandwidth(),v=e.barGap,y=(1-v*(t-1))/t;if(c=(this.get("stack")?this.stackData:this.getData()).slice(i,o+1),d=g*y,f=g*(this.barIndex*(v+y)),!this.get("stack")&&r){var m=c[0][1];c=c.map(function(t){var e=[].concat(t);return"percent"===r?e[1]=(e[1]-m)/m:e[1]-=m,e[2]=t,e}),this.data=c}Xo(c,function(t,e){if(t){t[0];var n=t[1],r=ea(n)?Ko(n,function(t){return s(t)}):s(n);p.push([a(l[e])+f,r,t,e+i,e])}}),this.bandwidth=a.bandwidth(),this.centerOffset=f+d/2}else{var x=this.getData();d=this.get("rectWidth"),f=-d/2,Xo(x,function(t,r){if(t){var i=t[0],o=t[1],a=ea(o)?Ko(o,function(t){return G_(t,n)}):G_(o,n),s=[];s[0]=G_(i,e)+f,s[1]=a,isNaN(s[0])||isNaN(s[0])||(s[2]=t,s[3]=r,p.push(s))}})}this.ticks=Ko(e.axis.values(),function(t){return l.indexOf(t)+i}),this.points=p,this.y0=h,this.position=e.get("position"),this.rectWidth=Math.max(d,.5)},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("itemStyle").normal;switch(this.get("barType")){case"cuboid":e=e.front;break;case"shadowRect":e=e.rect}var n=e.fill||e.stroke;return n?ia(n)?n.colorStops[0].color:e.fill:void 0},e}(Pd);function G_(t,e){var n="time"===e.get("type");if(n&&!(t instanceof Date)&&(t=new Date(t)),"number"==typeof t||n){var r=e.getAxisType(),i=e.scale,o=i.domain();switch(r){case"continuous":if(t<=o[1]&&t>=o[0])return i(t);break;case"ordinal":var a=e.startIndex;if(t<=e.endIndex&&t>=a)return i(o[t-a])+("band"===e.get("type")?i.bandwidth()/2:0)}}}function H_(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.style,r=e.show,i=e.formatter,o=arguments[2],a=arguments[3],s=arguments[4];if(r){var u=o.data[1],h=function(t,e){return l({},t,{seriesIndex:e.index,seriesName:e.name})}(o,s),c=(na(n)?n(u,h):n)||{};return Bo(a.getFormattedText(function(t,e,n){var r={};return Xo(t,function(t,i){na(t)?r[i]=t(e,n):r[i]=t}),r}(l({},c,{text:i?i(u,h):u}),u,h)),t)}return t}function U_(t,e,n,r){var i=t.rectWidth,o=t.position,a=t.y0,s=(t.points,t.data),u=t.model,h=t.globalModel,c=(t.ticks,n[0]),f=n[1],d=n[2],p=n[3],g=n[4],v=e?{fill:"rgba(0, 0, 0, 0)"}:r?Bo(u.get("itemStyle").emphasis,u.get("itemStyle").normal):u.get("itemStyle").normal,y=u.get("rectMin"),m=u.get("rectRadius"),x=r?Bo(u.get("label").emphasis,u.get("label").normal):u.get("label").normal,_=na(v)?v(s[p]):l({},v),w=u.get("subPixelOptimize"),b=u.get("$visualMapIndex"),S=na(m)?m(s[p]):m;if(void 0!==b){var k=u.globalModel.getComponentByIndex("visualMap",b);_.fill=k.getColorStop(d[1],_.fill)}if("top"===o||"bottom"===o){var M=void 0,A=void 0;if(ea(f)){var I=Math.min.apply(null,f);M=Math.max.apply(null,f)-I,A=I}else M=a-f,A=f;e&&(_=H_(_,x,{data:s[p],dataIndex:p,index:g},h,u)),Math.abs(M)<y&&(M<0?(A+=y+M,M=-y):(A-=y-M,M=y)),s[p][1]<0&&(_=Hf(_)),M<0&&(A+=M,M=-M);var T={shape:{x:c,y:A,width:i,height:M,r:S},key:p,style:_,z2:e?9:1};return w&&(T=wf(T)),{attr:T,animateFrom:{shape:{y:ea(f)?f[0]:a,height:0}}}}var C=void 0,E=void 0;if(ea(f)){var z=Math.min.apply(null,f);C=Math.max.apply(null,f)-z,E=z}else C=a-f,E=f;e&&(_=H_(_,x,{data:s[p],dataIndex:p},h,u)),Math.abs(C)<y&&(C<0?(E+=y+C,C=-y):(E-=y-C,C=y)),s[p][1]<0&&(_=Hf(_)),C<0&&(E+=C,C=-C);var L={shape:{x:E,y:c,width:C,height:i,r:S},key:p,style:_,z2:e?9:1};return w&&(L=wf(L)),{attr:L,animateFrom:{shape:{x:ea(f)?f[0]:a,width:0}}}}j_.type=W_,j_.emphasisList=["itemStyle","label"],j_.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,rectRadius:void 0,subPixelOptimize:!0,itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!1,formatter:void 0,style:{position:"inside"}},emphasis:{show:!1,style:{}}},joinArea:{show:!1,style:{fill:"rgba(12, 55, 256, 0.3)"},showLabel:!0,labelStyle:{},formatter:void 0},large:!1,largeThreshold:2e3,barType:"rect",selectedList:[],enableSelect:!1,onZero:!0,xLookAngle:30,yLookAngle:30,rectMin:0,rectWidth:10,legendHoverLink:!0,stack:void 0,overlap:void 0,hideZero:!1,cursor:"default",zlevel:0,z:2};var V_=Array,q_=function(t){var e,n,r;if(t&&"object"===(void 0===t?"undefined":a(t))&&t.hasOwnProperty("elements")){for(n=t.elements,r=new V_(16),e=0;e<16;++e)r[e]=n[e];this.elements=r}else this.elements=new V_([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};q_.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},q_.prototype.set=function(t){var e,n,r;if((n=t.elements)!==(r=this.elements)){for(e=0;e<16;++e)r[e]=n[e];return this}},q_.prototype.concat=function(t){var e,n,r,i,o,a,s,l;if(n=this.elements,r=this.elements,n===(i=t.elements))for(i=new V_(16),e=0;e<16;++e)i[e]=n[e];for(e=0;e<4;e++)o=r[e],a=r[e+4],s=r[e+8],l=r[e+12],n[e]=o*i[0]+a*i[1]+s*i[2]+l*i[3],n[e+4]=o*i[4]+a*i[5]+s*i[6]+l*i[7],n[e+8]=o*i[8]+a*i[9]+s*i[10]+l*i[11],n[e+12]=o*i[12]+a*i[13]+s*i[14]+l*i[15];return this},q_.prototype.multiply=q_.prototype.concat,q_.prototype.multiplyVector3=function(t){var e=this.elements,n=t.elements,r=new Y_,i=r.elements;return i[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+e[11],i[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+e[12],i[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+e[13],r},q_.prototype.multiplyVector4=function(t){var e=this.elements,n=t.elements,r=new $_,i=r.elements;return i[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+n[3]*e[12],i[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+n[3]*e[13],i[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+n[3]*e[14],i[3]=n[0]*e[3]+n[1]*e[7]+n[2]*e[11]+n[3]*e[15],r},q_.prototype.transpose=function(){var t,e;return e=(t=this.elements)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},q_.prototype.setInverseOf=function(t){var e,n,r,i,o;if(n=t.elements,r=this.elements,(i=new V_(16))[0]=n[5]*n[10]*n[15]-n[5]*n[11]*n[14]-n[9]*n[6]*n[15]+n[9]*n[7]*n[14]+n[13]*n[6]*n[11]-n[13]*n[7]*n[10],i[4]=-n[4]*n[10]*n[15]+n[4]*n[11]*n[14]+n[8]*n[6]*n[15]-n[8]*n[7]*n[14]-n[12]*n[6]*n[11]+n[12]*n[7]*n[10],i[8]=n[4]*n[9]*n[15]-n[4]*n[11]*n[13]-n[8]*n[5]*n[15]+n[8]*n[7]*n[13]+n[12]*n[5]*n[11]-n[12]*n[7]*n[9],i[12]=-n[4]*n[9]*n[14]+n[4]*n[10]*n[13]+n[8]*n[5]*n[14]-n[8]*n[6]*n[13]-n[12]*n[5]*n[10]+n[12]*n[6]*n[9],i[1]=-n[1]*n[10]*n[15]+n[1]*n[11]*n[14]+n[9]*n[2]*n[15]-n[9]*n[3]*n[14]-n[13]*n[2]*n[11]+n[13]*n[3]*n[10],i[5]=n[0]*n[10]*n[15]-n[0]*n[11]*n[14]-n[8]*n[2]*n[15]+n[8]*n[3]*n[14]+n[12]*n[2]*n[11]-n[12]*n[3]*n[10],i[9]=-n[0]*n[9]*n[15]+n[0]*n[11]*n[13]+n[8]*n[1]*n[15]-n[8]*n[3]*n[13]-n[12]*n[1]*n[11]+n[12]*n[3]*n[9],i[13]=n[0]*n[9]*n[14]-n[0]*n[10]*n[13]-n[8]*n[1]*n[14]+n[8]*n[2]*n[13]+n[12]*n[1]*n[10]-n[12]*n[2]*n[9],i[2]=n[1]*n[6]*n[15]-n[1]*n[7]*n[14]-n[5]*n[2]*n[15]+n[5]*n[3]*n[14]+n[13]*n[2]*n[7]-n[13]*n[3]*n[6],i[6]=-n[0]*n[6]*n[15]+n[0]*n[7]*n[14]+n[4]*n[2]*n[15]-n[4]*n[3]*n[14]-n[12]*n[2]*n[7]+n[12]*n[3]*n[6],i[10]=n[0]*n[5]*n[15]-n[0]*n[7]*n[13]-n[4]*n[1]*n[15]+n[4]*n[3]*n[13]+n[12]*n[1]*n[7]-n[12]*n[3]*n[5],i[14]=-n[0]*n[5]*n[14]+n[0]*n[6]*n[13]+n[4]*n[1]*n[14]-n[4]*n[2]*n[13]-n[12]*n[1]*n[6]+n[12]*n[2]*n[5],i[3]=-n[1]*n[6]*n[11]+n[1]*n[7]*n[10]+n[5]*n[2]*n[11]-n[5]*n[3]*n[10]-n[9]*n[2]*n[7]+n[9]*n[3]*n[6],i[7]=n[0]*n[6]*n[11]-n[0]*n[7]*n[10]-n[4]*n[2]*n[11]+n[4]*n[3]*n[10]+n[8]*n[2]*n[7]-n[8]*n[3]*n[6],i[11]=-n[0]*n[5]*n[11]+n[0]*n[7]*n[9]+n[4]*n[1]*n[11]-n[4]*n[3]*n[9]-n[8]*n[1]*n[7]+n[8]*n[3]*n[5],i[15]=n[0]*n[5]*n[10]-n[0]*n[6]*n[9]-n[4]*n[1]*n[10]+n[4]*n[2]*n[9]+n[8]*n[1]*n[6]-n[8]*n[2]*n[5],0===(o=n[0]*i[0]+n[1]*i[4]+n[2]*i[8]+n[3]*i[12]))return this;for(o=1/o,e=0;e<16;e++)r[e]=i[e]*o;return this},q_.prototype.invert=function(){return this.setInverseOf(this)},q_.prototype.setOrtho=function(t,e,n,r,i,o){var a,s,l,u;if(t===e||n===r||i===o)throw"null frustum";return s=1/(e-t),l=1/(r-n),u=1/(o-i),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*u,a[11]=0,a[12]=-(e+t)*s,a[13]=-(r+n)*l,a[14]=-(o+i)*u,a[15]=1,this},q_.prototype.ortho=function(t,e,n,r,i,o){return this.concat((new q_).setOrtho(t,e,n,r,i,o))},q_.prototype.setFrustum=function(t,e,n,r,i,o){var a,s,l,u;if(t===e||r===n||i===o)throw"null frustum";if(i<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return s=1/(e-t),l=1/(r-n),u=1/(o-i),(a=this.elements)[0]=2*i*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i*l,a[6]=0,a[7]=0,a[8]=(e+t)*s,a[9]=(r+n)*l,a[10]=-(o+i)*u,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*i*o*u,a[15]=0,this},q_.prototype.frustum=function(t,e,n,r,i,o){return this.concat((new q_).setFrustum(t,e,n,r,i,o))},q_.prototype.setPerspective=function(t,e,n,r){var i,o,a,s;if(n===r||0===e)throw"null frustum";if(n<=0)throw"near <= 0";if(r<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return o=1/(r-n),s=Math.cos(t)/a,(i=this.elements)[0]=s/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-(r+n)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*n*r*o,i[15]=0,this},q_.prototype.perspective=function(t,e,n,r){return this.concat((new q_).setPerspective(t,e,n,r))},q_.prototype.setScale=function(t,e,n){var r=this.elements;return r[0]=t,r[4]=0,r[8]=0,r[12]=0,r[1]=0,r[5]=e,r[9]=0,r[13]=0,r[2]=0,r[6]=0,r[10]=n,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},q_.prototype.scale=function(t,e,n){var r=this.elements;return r[0]*=t,r[4]*=e,r[8]*=n,r[1]*=t,r[5]*=e,r[9]*=n,r[2]*=t,r[6]*=e,r[10]*=n,r[3]*=t,r[7]*=e,r[11]*=n,this},q_.prototype.setTranslate=function(t,e,n){var r=this.elements;return r[0]=1,r[4]=0,r[8]=0,r[12]=t,r[1]=0,r[5]=1,r[9]=0,r[13]=e,r[2]=0,r[6]=0,r[10]=1,r[14]=n,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},q_.prototype.translate=function(t,e,n){var r=this.elements;return r[12]+=r[0]*t+r[4]*e+r[8]*n,r[13]+=r[1]*t+r[5]*e+r[9]*n,r[14]+=r[2]*t+r[6]*e+r[10]*n,r[15]+=r[3]*t+r[7]*e+r[11]*n,this},q_.prototype.setRotate=function(t,e,n,r){var i,o,a,s,l,u,h,c,f,d,p,g;return t=Math.PI*t/180,i=this.elements,o=Math.sin(t),a=Math.cos(t),0!==e&&0===n&&0===r?(e<0&&(o=-o),i[0]=1,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=a,i[9]=-o,i[13]=0,i[2]=0,i[6]=o,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0!==n&&0===r?(n<0&&(o=-o),i[0]=a,i[4]=0,i[8]=o,i[12]=0,i[1]=0,i[5]=1,i[9]=0,i[13]=0,i[2]=-o,i[6]=0,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0===n&&0!==r?(r<0&&(o=-o),i[0]=a,i[4]=-o,i[8]=0,i[12]=0,i[1]=o,i[5]=a,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=1,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):(1!==(s=Math.sqrt(e*e+n*n+r*r))&&(e*=l=1/s,n*=l,r*=l),u=1-a,h=e*n,c=n*r,f=r*e,d=e*o,p=n*o,g=r*o,i[0]=e*e*u+a,i[1]=h*u+g,i[2]=f*u-p,i[3]=0,i[4]=h*u-g,i[5]=n*n*u+a,i[6]=c*u+d,i[7]=0,i[8]=f*u+p,i[9]=c*u-d,i[10]=r*r*u+a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1),this},q_.prototype.rotate=function(t,e,n,r){return this.concat((new q_).setRotate(t,e,n,r))},q_.prototype.setLookAt=function(t,e,n,r,i,o,a,s,l){var u,h,c,f,d,p,g,v,y,m,x,_;return h=r-t,c=i-e,f=o-n,p=(c*=d=1/Math.sqrt(h*h+c*c+f*f))*l-(f*=d)*s,g=f*a-(h*=d)*l,v=h*s-c*a,m=(g*=y=1/Math.sqrt(p*p+g*g+v*v))*f-(v*=y)*c,x=v*h-(p*=y)*f,_=p*c-g*h,(u=this.elements)[0]=p,u[1]=m,u[2]=-h,u[3]=0,u[4]=g,u[5]=x,u[6]=-c,u[7]=0,u[8]=v,u[9]=_,u[10]=-f,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,this.translate(-t,-e,-n)},q_.prototype.lookAt=function(t,e,n,r,i,o,a,s,l){return this.concat((new q_).setLookAt(t,e,n,r,i,o,a,s,l))},q_.prototype.dropShadow=function(t,e){var n=new q_,r=n.elements,i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3];return r[0]=i-e[0]*t[0],r[1]=-e[1]*t[0],r[2]=-e[2]*t[0],r[3]=-e[3]*t[0],r[4]=-e[0]*t[1],r[5]=i-e[1]*t[1],r[6]=-e[2]*t[1],r[7]=-e[3]*t[1],r[8]=-e[0]*t[2],r[9]=-e[1]*t[2],r[10]=i-e[2]*t[2],r[11]=-e[3]*t[2],r[12]=-e[0]*t[3],r[13]=-e[1]*t[3],r[14]=-e[2]*t[3],r[15]=i-e[3]*t[3],this.concat(n)},q_.prototype.dropShadowDirectionally=function(t,e,n,r,i,o,a,s,l){var u=r*t+i*e+o*n;return this.dropShadow([t,e,n,-u],[a,s,l,0])};var Y_=function(t){var e=new V_(3);t&&"object"===(void 0===t?"undefined":a(t))&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),this.elements=e};Y_.prototype.normalize=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=Math.sqrt(e*e+n*n+r*r);return i?1==i?this:(i=1/i,t[0]=e*i,t[1]=n*i,t[2]=r*i,this):(t[0]=0,t[1]=0,t[2]=0,this)};var $_=function(t){var e=new V_(4);t&&"object"===(void 0===t?"undefined":a(t))&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),this.elements=e},X_=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return r.name=n.name,r.group.name=n.name,r.dataIndex=n.dataIndex,r.group.dataIndex=n.dataIndex,r.seriesIndex=n.seriesIndex,r.group.seriesIndex=n.seriesIndex,delete n.name,delete n.dataIndex,delete n.seriesIndex,r}return u(e,t),e.prototype.attr=function(t){var e=this._shapeMap;Xo(t,function(t,n){return e[n]&&e[n].attr(t)})},e.prototype.animateTo=function(t,e,n,r,i){ra(n)?(i=r,r=n,n=0):na(r)?(i=r,r="linear",n=0):na(n)?(i=n,n=0):na(e)?(i=e,e=500):e||(e=500);var o=this._shapeMap;Xo(t,function(t,a){return o[a]&&o[a].animateTo(t,e,n,r,i)})},e.prototype.setStyle=function(t){var e=this._shapeMap;Xo(t,function(t,n){return e[n]&&e[n].setStyle(t)})},e.prototype.useStyle=function(t){var e=this._shapeMap;Xo(t,function(t,n){return e[n]&&e[n].useStyle(t)})},e.prototype.on=function(){var t;(t=this.group).on.apply(t,arguments)},e.prototype.off=function(){var t;(t=this.group).off.apply(t,arguments)},e.prototype.one=function(){var t;(t=this.group).one.apply(t,arguments)},e.prototype.trigger=function(){var t;(t=this.group).trigger.apply(t,arguments)},e}(td),K_=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return Xo(n,function(t,e){r.setShape(e,Rc,t)}),r}return u(e,t),e}(X_);function Z_(t,e){return t[e]}var Q_=dc.extend({type:"candlestick",shape:{x:0,open:0,close:0,low:0,hight:0,width:0},style:{lineWidth:1},buildPath:function(t,e){var n=e.x,r=e.open,i=e.close,o=e.low,a=e.high,s=e.width,l=.5+(n+s/2>>0);if(s>.5){var u=Math.max(r,i),h=Math.min(r,i);t.rect(n,h,s,u-h),t.moveTo(l,o),t.lineTo(l,u),t.moveTo(l,h),t.lineTo(l,a)}else t.rect(n,a,s,a-o)}});var J_=dc.extend({type:"candlestick",shape:{x:0,low:0,q1:0,median:0,q3:0,high:0},style:{fill:"white",stroke:"#e93030"},buildPath:function(t,e){var n=e.x,r=e.low,i=e.q1,o=e.median,a=e.q3,s=e.high,l=e.width,u=n,h=u+l/2,c=n+l;t.moveTo(u,r),t.lineTo(c,r),t.moveTo(h,r),t.lineTo(h,i),t.rect(u,i,l,a-i),t.moveTo(u,o),t.lineTo(c,o),t.moveTo(h,a),t.lineTo(h,s),t.moveTo(u,s),t.lineTo(c,s)}});var tw={rect:function(t,e){t.rectWidth,t.position,t.y0;var n=t.points,r=t.data,i=t.model,o=(t.globalModel,t.ticks),a=e?{fill:"rgba(0, 0, 0, 0)"}:i.get("itemStyle").normal,s=(i.get("rectMin"),i.get("rectRadius"),i.get("hideZero")),l=i.get("label").normal,u=[],h=[];return void 0===a.lineWidth&&(a.lineWidth=1),Xo(n,function(n){n[0],n[1];var i=n[2],a=n[3];if(!e||("all"===l.show||l.show&&o.indexOf(i[0])>-1)&&(!s||s&&0!==r[a][1])){var c=U_(t,e,n);u.push(c.attr),h.push(c.animateFrom)}}),{attrs:u,animateFroms:h,animateList:{shape:{x:0,y:0,width:0,height:0}},Shape:Hc}},cuboid:function(t){var e=t.rectWidth,n=t.position,r=t.y0,i=t.points,o=t.model,a=o.get("itemStyle").normal,s=o.get("xLookAngle")/180*Math.PI,l=o.get("yLookAngle")/180*Math.PI,u=!!o.get("stack"),h=[],c=[];if("top"===n||"bottom"===n){var f=Z_(a,"front"),d=Z_(a,"left"),p=Z_(a,"top"),g=new q_;g.setLookAt(Math.tan(s),Math.tan(l),1,0,0,0,0,1,0);var v=[-e/4,e/4*3],y=void 0;y=Math.tan(s)>0?[0,-e]:[e,0];var m=[new q_(g).multiplyVector3(new Y_([v[0],0,y[1]])).elements.slice(0,2),new q_(g).multiplyVector3(new Y_([v[1],0,y[1]])).elements.slice(0,2),new q_(g).multiplyVector3(new Y_([v[0],0,y[0]])).elements.slice(0,2),new q_(g).multiplyVector3(new Y_([v[1],0,y[0]])).elements.slice(0,2)];Xo(i,function(t,e){for(var n=t[0],i=t[1],o={},a={},g=[],v=[],y=u?i[0]:r,x=u?i[1]:i,_=0;_<m.length;_++){var w=m[_][0]+n;g.push([w,m[_][1]+y]),g.push([w,m[_][1]+x]),v.push([w,m[_][1]+y])}o.front={shape:{points:Ro([g[0],g[2],g[3],g[1]])},style:f},a.front={shape:{points:Ro([v[0],v[1],v[1],v[0]])}};var b=[];Math.tan(s)>0?(b=[g[0],g[4],g[5],g[1]],a.left={shape:{points:Ro([v[0],v[2],v[2],v[0]])}}):(b=[g[2],g[6],g[7],g[3]],a.left={shape:{points:Ro([v[1],v[3],v[3],v[1]])}}),o.left={shape:{points:Ro(b)},style:d};var S=[];S=Math.tan(l)>0&&x<y||Math.tan(l)<0&&x>y?[g[1],g[3],g[7],g[5]]:[g[0],g[2],g[6],g[4]],o.top={shape:{points:Ro(S)},style:p},a.top={shape:{points:Ro([v[0],v[1],v[3],v[2]])}},h.push(o),c.push(a)})}return{attrs:h,animateFroms:c,Shape:K_}},candlestick:function(t){var e=t.rectWidth,n=t.position,r=(t.y0,t.points),i=t.data,o=t.model.get("itemStyle").normal,a=[],s=[];return"top"!==n&&"bottom"!==n||Xo(r,function(t){var n=t[0],r=t[1],l=r[0],u=r[1],h=r[2],c=r[3],f=(t[2],t[3]);a.push({shape:{x:n,open:l,close:u,low:h,high:c,width:e},style:na(o)?o(i[f]):o}),s.push({shape:{open:l,close:l,low:l,high:l}})}),{attrs:a,animateFroms:s,animateList:{shape:{open:0,close:0,low:0,high:0,width:0}},Shape:Q_}},shadowRect:function(t){var e=t.rectWidth,n=t.position,r=t.y0,i=t.points,o=t.model,a=o.get("itemStyle").normal,s=o.get("xLookAngle")/180*Math.PI,l=o.get("yLookAngle")/180*Math.PI,u=!!o.get("stack"),h=[],c=[];if("top"===n||"bottom"===n){var f=a.rect,d=a.shadow,p=new q_;p.setLookAt(Math.tan(s),Math.tan(l),1,0,0,0,0,1,0);var g=[0,e],v=[2*e,0],y=[new q_(p).multiplyVector3(new Y_([g[0],0,v[1]])).elements.slice(0,2),new q_(p).multiplyVector3(new Y_([g[1],0,v[1]])).elements.slice(0,2),new q_(p).multiplyVector3(new Y_([g[0],0,v[0]])).elements.slice(0,2),new q_(p).multiplyVector3(new Y_([g[1],0,v[0]])).elements.slice(0,2)];Xo(i,function(t,e){for(var n=t[0],i=t[1],a={},s={},l=[],p=[],g=u?i[0]:r,v=u?i[1]:i,m=0;m<y.length;m++){var x=y[m][0]+n;l.push([x,y[m][1]+g]),l.push([x,y[m][1]+v]),p.push([x,y[m][1]+g])}var _;(a.rect={shape:{points:Ro([l[0],l[2],l[3],l[1]])},style:f,z2:2},s.rect={shape:{points:Ro([p[0],p[1],p[1],p[0]])}},u&&0!==o.stackIndex)||(_=[l[0],l[2],l[6],l[4]],a.shadow={shape:{points:Ro(_)},style:d,z2:0},s.shadow={shape:{points:Ro([p[0],p[1],p[3],p[2]])}});h.push(a),c.push(s)})}return{attrs:h,animateFroms:c,Shape:K_}},boxplot:function(t){var e=t.rectWidth,n=t.position,r=(t.y0,t.points),i=t.data,o=t.model.get("itemStyle").normal,a=[],s=[];return"top"!==n&&"bottom"!==n||Xo(r,function(t){var n=t[0],r=t[1],l=r[0],u=r[1],h=r[2],c=r[3],f=r[4],d=(t[2],t[3]);a.push({shape:{x:n,low:l,q1:u,median:h,q3:c,high:f,width:e},style:na(o)?o(i[d]):o}),s.push({shape:{low:h,q1:h,median:h,q3:h,high:h}})}),{attrs:a,animateFroms:s,animateList:{shape:{x:0,low:0,q1:0,median:0,q3:0,high:0,width:0}},Shape:J_}},waterfall:function(t){var e=t.rectWidth,n=t.position,r=(t.y0,t.points),i=t.data,o=t.model.get("itemStyle").normal,a=[],s=[];return"top"!==n&&"bottom"!==n||Xo(r,function(t){var n=t[0],r=t[1],l=r[0],u=r[1],h=(t[2],t[3]);a.push(wf({shape:{x:n,y:u,width:e,height:l-u},style:na(o)?o(i[h]):o})),s.push({shape:{height:0}})}),{attrs:a,animateFroms:s,animateList:{shape:{x:0,y:0,width:0,height:0}},Shape:Hc}}},ew=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=W_,c(r,n)}return u(e,t),e.prototype.renderAll=function(t,e,n){var r=this,i=t.get("barType"),o=(t.get("itemStyle").normal,t.get("animation")),a=t.get("animationDuration"),s=t.get("animationEasing"),u=t.get("cursor"),h=t.get("joinArea"),c=t.getData(),f=t.points,d=t.y0,p=t.rectWidth,g=t.position,v=t.ticks;if(tw[i]){var y=tw[i]({rectWidth:p,position:g,y0:d,points:f,data:c,model:t,globalModel:e,ticks:v}),m=y.attrs,x=y.animateFroms,_=y.animateList,w=y.animateLeave,b=y.Shape;if(Xo(m,function(e,n){e.dataIndex=e.key=f[n][3],e.seriesIndex=t.index,e.cursor=u}),this.setShapeGroup("rectGroup",b,m,{animation:o,duration:a,easing:s,animateFrom:x,animateList:_,animateLeave:w},void 0,function(e){e.on("click",function(e){var r=t.get("enableSelect");if("multiple"===r){var i=t.get("selectedList"),o=i.indexOf(this.dataIndex);o>-1?(i.splice(o,1),t.set("selectedList",i)):(i.push(this.dataIndex),t.set("selectedList",i)),n.dispatchAction(t,ud.selectedListChange,i)}else r&&(t.set("selectedList",[this.dataIndex]),n.dispatchAction(t,ud.selectedListChange,[this.dataIndex]))}),e.on("dblclick",function(e){t.get("selectedList");n.dispatchAction(t,ud.dblClick,this.dataIndex)})}),h.show){for(var S=[],k=[],M=t.bandwidth,A=1;A<f.length;A++){var I=f[A],T=f[A-1],C=h.style,E=T[0]+M;if(h.showLabel){var z=I[2][1]-T[2][1],L=na(h.labelStyle)?h.labelStyle(z,I,T):Ro(h.labelStyle);C=l({},C,{text:h.formatter?h.formatter(z,I,T):z},e.getFormattedText(L))}S.push({shape:{points:[[E,T[1]],[I[0],I[1]],[I[0],d],[E,d]]},style:C,key:I[3],cursor:u}),k.push({shape:{points:[[E,d],[E,d],[E,d],[E,d]]}})}this.setShapeGroup("joinAreaGroup",Rc,S,{animation:o,duration:a,easing:s,animateFrom:k})}if(t.get("label").normal.show){var O=tw.rect({rectWidth:p,position:g,y0:d,points:f,data:c,model:t,globalModel:e,ticks:v},!0),D=O.attrs,P=O.animateFroms,F=O.animateList,N=O.Shape;Xo(D,function(t,e){t.silent=!0}),this.setShapeGroup("textRectGroup",N,D,{animation:o,duration:a,easing:s,animateFrom:P,animateList:F,animateLeave:w})}var R=this.getShape("rectGroup"),B=t.get("selectedList");R.eachChild(function(i){~B.indexOf(i.dataIndex)&&r.highlight(t,e,n,{index:i.dataIndex})})}},e.prototype.renderLarge=function(t,e,n){var r=t.points,i=t.y0,o=t.rectWidth,a=t.get("itemStyle").normal;this.setShape("largeRects",B_,{shape:{points:r,y0:i,rectWidth:o},style:a,silent:!0})},e.prototype.render=function(t,e,n){var r=t.points;t.get("large")&&r.length>t.get("largeThreshold")?(this.removeShape("rectGroup"),this.renderLarge(t,e,n)):(this.removeShape("largeRects"),this.renderAll(t,e,n))},e.prototype.highlight=function(t,e,n,r){var i=this,o=(t.getAxisModel("x"),t.get("itemStyle").emphasis),a=t.get("label").emphasis;if(r){var s=r.index,l=this.getShape("rectGroup",s);l&&nw(this,t,e,l,o,a)}else{this.getShape("rectGroup").eachChild(function(n){nw(i,t,e,n,o,a)})}},e.prototype.downplay=function(t,e,n,r){var i=this,o=(t.getAxisModel("x"),t.get("itemStyle").normal),a=t.get("label").normal,s=t.get("selectedList");if(r){var l=r.index,u=this.getShape("rectGroup",l);u&&!~s.indexOf(u.dataIndex)&&rw(this,t,e,u,o,a)}else{this.getShape("rectGroup").eachChild(function(n){!~s.indexOf(n.dataIndex)&&rw(i,t,e,n,o,a)})}},e}(Ad);function nw(t,e,n,r,i,o){var a=r.dataIndex,s=e.getData(a),l=na(i)?i(s):i;if(r.groupShape&&(r=r.groupShape),r.setStyle(s[1]<0?Hf(l):l),o.show){e.get("label").normal;var u=t.getShape("textRectGroup");u||(u=t.setShapeGroup("textRectGroup",Hc,[]));var h=e.points,c=e.y0,f=e.rectWidth,d=e.position,p=e.ticks,g=Qo(h,function(t){return t[3]===a});if(g){var v=t.getShape("textRectGroup",r.dataIndex),y=U_({rectWidth:f,position:d,y0:c,points:h,data:e.getData(),model:e,globalModel:n,ticks:p},!0,g,!0),m=y.attr;y.animateFrom;v?v.attr(m):(m.silent=!0,m.z=e.get("z"),m.name=a,v=new Hc(m),u.add(v))}}}function rw(t,e,n,r,i,o){var a=r.dataIndex,s=e.getData(a),u=na(i)?i(s):l({},i),h=t.getShape("textRectGroup",a),c=e.get("$visualMapIndex");if(void 0!==c){var f=e.globalModel.getComponentByIndex("visualMap",c);u.fill=f.getColorStop(s[1],u.fill)}if(r.groupShape&&(r=r.groupShape),r.useStyle(s[1]<0?Hf(u):u),!o.show||"all"!==o.show&&-1===e.ticks.indexOf(s[0]))h&&t.getShape("textRectGroup").remove(h);else{var d=e.points,p=e.y0,g=e.rectWidth,v=e.position,y=e.ticks,m=Qo(d,function(t){return t[3]===a});if(m&&h){var x=U_({rectWidth:g,position:v,y0:p,points:d,data:e.getData(),model:e,globalModel:n,ticks:y},!0,m,!1),_=x.attr;x.animateFrom;h.attr(_)}}}ew.type=W_,Tp(j_,ew),Tp(I_,C_);var iw=Array.prototype.slice;function ow(t){return t.source}function aw(t){return t.target}function sw(t){var e=ow,n=aw,r=hf,i=cf,o=null;function a(){var a,s=iw.call(arguments),l=e.apply(this,s),u=n.apply(this,s);if(o||(o=a=af()),t(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=u,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:sf(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:sf(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function lw(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function uw(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function hw(){return sw(lw)}var cw=dc.extend({type:"d3-link",shape:{source:void 0,target:void 0,x:void 0,y:void 0,orient:"horizontal"},style:{stroke:null,fill:null},updateLink:function(){var t=this.shape.orient;this.link||("straightLine"===t?(this.link=ff(),this.link.x(function(t){return t[0]}).y(function(t){return t[1]})):this.link="horizontal"===t?hw():sw(uw))},buildPath:function(t,e){var n=this.shape,r=n.source,i=n.target,o=n.orient;this.updateLink(),"straightLine"===o?this.link.context(t)([r,i]):this.link.context(t)({source:r,target:i})}});function fw(t){return t.target.depth}function dw(t,e){return t.sourceLinks.length?t.depth:e-1}function pw(t){return function(){return t}}function gw(t,e){return yw(t.source,e.source)||t.index-e.index}function vw(t,e){return yw(t.target,e.target)||t.index-e.index}function yw(t,e){return t.y0-e.y0}function mw(t){return t.value}function xw(t){return(t.y0+t.y1)/2}function _w(t){return xw(t.source)*t.value}function ww(t){return xw(t.target)*t.value}function bw(t){return t.index}function Sw(t){return t.nodes}function kw(t){return t.links}function Mw(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Aw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Iw(t){this._context=t}function Tw(t){return new Iw(t)}function Cw(t){return[t.source.x1,t.y0]}function Ew(t){return[t.target.x0,t.y1]}Iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Aw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Aw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var zw=Object.freeze({sankey:function(){var t=0,e=0,n=1,r=1,i=24,o=8,s=bw,l=dw,u=Sw,h=kw,c=32;function f(){var f={nodes:u.apply(null,arguments),links:h.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=hg(t.nodes,s);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!==(void 0===r?"undefined":a(r))&&(r=t.source=Mw(e,r)),"object"!==(void 0===i?"undefined":a(i))&&(i=t.target=Mw(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(f),function(t){t.nodes.forEach(function(t){t.value=Math.max(lg(t.sourceLinks,mw),lg(t.targetLinks,mw))})}(f),function(e){var r,o,a;for(r=e.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach(function(t){t.depth=a,t.sourceLinks.forEach(function(t){o.indexOf(t.target)<0&&o.push(t.target)})});for(r=e.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach(function(t){t.height=a,t.targetLinks.forEach(function(t){o.indexOf(t.source)<0&&o.push(t.source)})});var s=(n-t-i)/(a-1);e.nodes.forEach(function(e){e.x1=(e.x0=t+Math.max(0,Math.min(a-1,Math.floor(l.call(null,e,a))))*s)+i})}(f),function(t){var n,i=cg().key(function(t){return t.x0}).sortKeys(Xp).entries(t.nodes).map(function(t){return t.values});n=sg(i,function(t){return(r-e-(t.length-1)*o)/lg(t,mw)}),i.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*n})}),t.links.forEach(function(t){t.width=t.value*n}),h();for(var a=1,s=c;s>0;--s)u(a*=.99),h(),l(a),h();function l(t){i.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(lg(e.targetLinks,_w)/lg(e.targetLinks,mw)-xw(e))*t;e.y0+=n,e.y1+=n}})})}function u(t){i.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(lg(e.sourceLinks,ww)/lg(e.sourceLinks,mw)-xw(e))*t;e.y0+=n,e.y1+=n}})})}function h(){i.forEach(function(t){var n,i,a,s=e,l=t.length;for(t.sort(yw),a=0;a<l;++a)n=t[a],(i=s-n.y0)>0&&(n.y0+=i,n.y1+=i),s=n.y1+o;if((i=s-o-r)>0)for(s=n.y0-=i,n.y1-=i,a=l-2;a>=0;--a)n=t[a],(i=n.y1+o-s)>0&&(n.y0-=i,n.y1-=i),s=n.y0})}}(f),d(f),f}function d(t){t.nodes.forEach(function(t){t.sourceLinks.sort(vw),t.targetLinks.sort(gw)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}return f.update=function(t){return d(t),t},f.nodeId=function(t){return arguments.length?(s="function"==typeof t?t:pw(t),f):s},f.nodeAlign=function(t){return arguments.length?(l="function"==typeof t?t:pw(t),f):l},f.nodeWidth=function(t){return arguments.length?(i=+t,f):i},f.nodePadding=function(t){return arguments.length?(o=+t,f):o},f.nodes=function(t){return arguments.length?(u="function"==typeof t?t:pw(t),f):u},f.links=function(t){return arguments.length?(h="function"==typeof t?t:pw(t),f):h},f.size=function(i){return arguments.length?(t=e=0,n=+i[0],r=+i[1],f):[n-t,r-e]},f.extent=function(i){return arguments.length?(t=+i[0][0],n=+i[1][0],e=+i[0][1],r=+i[1][1],f):[[t,e],[n,r]]},f.iterations=function(t){return arguments.length?(c=+t,f):c},f},sankeyCenter:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?sg(t.sourceLinks,fw)-1:0},sankeyLeft:function(t){return t.depth},sankeyRight:function(t,e){return e-1-t.height},sankeyJustify:dw,sankeyLinkHorizontal:function(){return hw().source(Cw).target(Ew)}}),Lw="sankey",Ow=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Lw,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel,e=this.getData(),n=this.get("$gridIndex"),r=t.getComponentByIndex("grid",n),i=r.position,o=i.left,a=i.top,s=i.right,l=i.bottom,u=this.get("nodeWidth"),h=this.get("nodePadding"),c=this.get("nodeAlign"),f=this.get("iterations");e&&e.links&&Xo(e.links,function(t){t.value=t.value-0}),(this.sankey=zw.sankey().nodeWidth(u).nodePadding(h).nodeAlign(zw[c]).iterations(f).extent([[o,a],[s,l]]))(e),this.position=r.position},e}(Pd);Ow.type=Lw,Ow.defaultOption={data:void 0,$gridIndex:0,nodeWidth:15,nodePadding:15,nodeAlign:"sankeyJustify",iterations:32,linkStyle:{normal:{},emphasis:{}},onNodeClick:void 0,nodeStyle:{normal:{},emphasis:{}},label:{show:!0,padding:5,position:"right",offset:[0,0],style:{normal:{},emphasis:{}},formatter:void 0},triggerOn:"mousemove",zlevel:0,z:1};var Dw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Lw,c(r,n)}return u(e,t),e.prototype.render=function(t,e){this.remove();for(var n,r=t.getData(),i=t.get("nodeStyle"),o=t.get("linkStyle"),a=t.get("label"),s=t.get("nodeColors")||[],u=t.get("name"),h=t.get("nodeWidth"),c=t.get("triggerOn"),f=t.position,d=(f.left+f.right)/2,p=r.links,g=r.nodes,v=[],y=[],m=[],x=void 0,_=void 0,w=0;w<g.length;w++){var b=g[w],S=b.x0,k=b.y0,M=b.x1,A=b.y1,I=(b.name,b.color||s[w%s.length]),T=na(i.normal)?i.normal(g[w]):i.normal,C=na(i.emphasis)?i.emphasis(g[w]):i.emphasis;T=l({fill:I},T),C=l({fill:T.fill},C),g[w].type="node";var E={shape:{x:S,y:k,width:M-S,height:A-k},style:T,z2:10,key:w,data:g[w],_hoverStyle:C};g[w].color=E.style.fill,g[w].hoverColor=E._hoverStyle.fill,v.push(E)}if(_=this.setShapeGroup("nodeGroup",Hc,v,void 0,function(e){e.eachChild(function(t,e){Pf(t,t._hoverStyle,{disableMouse:!0})}),e.on(c,function(t){var e=t.target.data;J(e,"emphasis"),J(e,"emphasis",!0)}),e.on("mouseout",function(t){var e=t.target.data;J(e,"normal"),J(e,"normal",!0)}),e.on("click",function(e){t.get("onNodeClick")&&t.get("onNodeClick")(e.target.data,e)})}),a.show){for(var z=0;z<g.length;z++){var L=g[z],O=L.x0,D=L.y0,P=L.x1,F=L.y1,N=L.name,R=a.style.normal,B=a.padding,W=a.offset,j=a.position,G=a.formatter,H=G?G(N,g[z]):N,U=e.getFormattedText({position:[(O+P)/2+(O>d?-h/2:h/2),(D+F)/2],style:l({x:W[0],y:W[1],text:H,textVerticalAlign:"center",textAlign:O>d?"right":"left"},R),z2:11,key:z,data:g[z],rectHover:!0}),V=(U.style.textAlign,void 0);switch(j){case"right":V=[(O+P)/2+h/2+B,(D+F)/2];break;case"left":V=[(O+P)/2-h/2-B,(D+F)/2];break;case"top":V=[(O+P)/2,D-B];break;case"bottom":V=[(O+P)/2,F+B];break;default:V=[(O+P)/2,(D+F)/2]}U.position=V,m.push(U)}x=this.setShapeGroup("labelGroup",Ec,m,void 0,function(n){n.on(c,function(t){var e=t.target.data;J(e,"emphasis"),J(e,"emphasis",!0)}),n.on("mouseout",function(t){var e=t.target.data;J(e,"normal"),J(e,"normal",!0)}),n.eachChild(function(t,n){Pf(t,e.getFormattedText(l({},a.style.emphasis)),{disableMouse:!0})}),n.on("click",function(e){t.get("onNodeClick")&&t.get("onNodeClick")(e.target.data,e)})})}function q(t){return[t.target.x0,t.y1]}for(var Y=0;Y<p.length;Y++){var $={colorStops:[{offset:0,color:p[Y].source.color},{offset:1,color:p[Y].target.color}]};p[Y].color=p[Y].source.color,p[Y].name=u,p[Y].type="link";var X=na(o.normal)?o.normal(p[Y]):o.normal,K=na(o.emphasis)?o.emphasis(p[Y]):o.emphasis;y.push({shape:{source:(n=p[Y],[n.source.x1,n.y0]),target:q(p[Y])},style:l({stroke:$},X,{lineWidth:Math.max(1,p[Y].width)}),key:Y,data:p[Y],z2:1,_hoverStyle:K})}var Z=this.setShapeGroup("linkGroup",cw,y,void 0,function(t){t.eachChild(function(t,e){var n={colorStops:[{offset:0,color:t.data.source.hoverColor||t.data.source.color},{offset:1,color:t.data.target.hoverColor||t.data.target.color}]};Pf(t,l({stroke:n},t._hoverStyle),{disableMouse:!0})}),t.on(c,function(t){var e=t.target.data;Q(e,"emphasis"),Q(e,"emphasis",!0)}),t.on("mouseout",function(t){var e=t.target.data;Q(e,"normal"),Q(e,"normal",!0)})});function Q(t,e,n){Z.childAt(t.index).trigger(e),J(n?t.target:t.source,e,n)}function J(t,e,n){_.childAt(t.index).trigger(e),x&&x.childAt(t.index).trigger(e),Xo(t[n?"sourceLinks":"targetLinks"],function(t){Z.childAt(t.index).trigger(e),Q(t,e,n)})}},e}(Ad);Dw.type=Lw,Tp(Ow,Dw);var Pw="histogram",Fw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Pw,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.getAxisModel("x"),e=this.getAxisModel("y"),n=t.scale,r=e.scale,i=n.domain(),o=r.domain(),a=r(o[1]<0?o[1]:o[0]>0?o[0]:0),s=[];Xo(this.getData(),function(t,e){var o=t[0],a=t[1],l=[];(o=function(t,e){if(t[0]>=e[0]&&t[1]<=e[1])return t;if(t[1]<e[0]||t[0]>e[1])return!1;if(t[0]<e[0]&&t[1]>e[1])return[e[0],e[1]];if(t[0]<e[0])return[e[0],t[1]];if(t[1]>e[1])return[t[0],e[1]]}(o,i))&&(l[0]=[n(o[0]),n(o[1])],l[1]=r(a),l[2]=t,l[3]=e,s.push(l))}),this.points=s,this.y0=a},e}(Pd);Fw.type=Pw,Fw.emphasisList=["itemStyle","label"],Fw.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,onZero:!0,rectWidth:"100%",itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!1,style:{position:"inside",fill:"black"}},emphasis:{show:!1,style:{}}},zlevel:0,z:1};var Nw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Pw,c(r,n)}return u(e,t),e.prototype.render=function(t,e){var n=t.get("itemStyle"),r=t.get("label"),i=t.get("rectWidth"),o=n.normal,a=n.emphasis,s=r.normal,l=r.emphasis,u=t.points,h=t.y0,c=[];Xo(u,function(n){var r=n[0],u=n[1],f=(r[0]+r[1])/2,d=r[1]-r[0],p=na(o)?o(n[2]):Ro(o),g=na(a)?a(n[2]):Ro(a),v=qf(i,d);p=H_(p,s,{data:n[2],dataIndex:n[3]},e,t),g=H_(g,Bo(l,s),{data:n[2],dataIndex:n[3]},e,t),c.push(wf({shape:{x:f-v/2,y:u,width:v,height:h-u},style:p,emphasisStyle:g,seriesIndex:t.index,dataIndex:n[3],key:n[3]}))}),this.setShapeGroup("rectGroup",Hc,c,{animation:t.get("animation"),animateFrom:{shape:{y:h,height:0}}},void 0,function(t){Pf(t,t.emphasisStyle)})},e}(Ad);Nw.type=Pw,Tp(Fw,Nw);var Rw={value:function(){}};function Bw(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Ww(r)}function Ww(t){this._=t}function jw(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Gw(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rw,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ww.prototype=Bw.prototype={constructor:Ww,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=Gw(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Gw(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=jw(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ww(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Hw=Math.PI/180,Uw=64,Vw=2048;function qw(){var t=[256,256],e=Yw,n=$w,r=Kw,i=Xw,o=Xw,a=Zw,s=Qw,l=nb,u=[],h=1/0,c=Bw("word","end"),f=null,d=Math.random,p={},g=rb;function v(e,n,r){t[0],t[1];for(var i,o,a,s,u,h=n.x,c=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),p=l(t),g=d()<.5?1:-1,v=-g;(i=p(v+=g))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=f));)if(n.x=h+o,n.y=c+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&tb(n,e,t[0])||r&&(u=r,!((s=n).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var y,m=n.sprite,x=n.width>>5,_=t[0]>>5,w=n.x-(x<<4),b=127&w,S=32-b,k=n.y1-n.y0,M=(n.y+n.y0)*_+(w>>5),A=0;A<k;A++){y=0;for(var I=0;I<=x;I++)e[M+I]|=y<<S|(I<x?(y=m[A*x+I])>>>b:0);M+=_}return delete n.sprite,!0}return!1}return p.canvas=function(t){return arguments.length?(g=ib(t),p):g},p.start=function(){var l=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(Uw<<5)/e,t.height=Vw/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",n.textBaseline="middle",{context:n,ratio:e}}(g()),y=function(t){var e=[],n=-1;for(;++n<t;)e[n]=0;return e}((t[0]>>5)*t[1]),m=null,x=u.length,_=-1,w=[],b=u.map(function(t,l){return t.text=e.call(this,t,l),t.font=n.call(this,t,l),t.style=i.call(this,t,l),t.weight=o.call(this,t,l),t.rotate=a.call(this,t,l),t.size=~~r.call(this,t,l),t.padding=s.call(this,t,l),t}).sort(function(t,e){return e.size-t.size});return f&&clearInterval(f),f=setInterval(S,0),S(),p;function S(){for(var e=Date.now();Date.now()-e<h&&++_<x&&f;){var n=b[_];n.x=t[0]*(d()+.5)>>1,n.y=t[1]*(d()+.5)>>1,Jw(l,n,b,_),n.hasText&&v(y,n,m)&&(w.push(n),c.call("word",p,n),m?eb(m,n):m=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}_>=x&&(p.stop(),c.call("end",p,w,m))}},p.stop=function(){return f&&(clearInterval(f),f=null),p},p.timeInterval=function(t){return arguments.length?(h=null==t?1/0:t,p):h},p.words=function(t){return arguments.length?(u=t,p):u},p.size=function(e){return arguments.length?(t=[+e[0],+e[1]],p):t},p.font=function(t){return arguments.length?(n=ib(t),p):n},p.fontStyle=function(t){return arguments.length?(i=ib(t),p):i},p.fontWeight=function(t){return arguments.length?(o=ib(t),p):o},p.rotate=function(t){return arguments.length?(a=ib(t),p):a},p.text=function(t){return arguments.length?(e=ib(t),p):e},p.spiral=function(t){return arguments.length?(l=ob[t]||t,p):l},p.fontSize=function(t){return arguments.length?(r=ib(t),p):r},p.padding=function(t){return arguments.length?(s=ib(t),p):s},p.random=function(t){return arguments.length?(d=t,p):d},p.on=function(){var t=c.on.apply(c,arguments);return t===c?p:t},p}function Yw(t){return t.text}function $w(){return"serif"}function Xw(){return"normal"}function Kw(t){return Math.sqrt(t.value)}function Zw(){return 30*(~~(6*Math.random())-3)}function Qw(){return 1}function Jw(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(Uw<<5)/o,Vw/o);var a=0,s=0,l=0,u=n.length;for(--r;++r<u;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var h=i.measureText(e.text+"m").width*o,c=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*Hw),d=Math.cos(e.rotate*Hw),p=h*d,g=h*f,v=c*d,y=c*f;h=Math.max(Math.abs(p+y),Math.abs(p-y))+31>>5<<5,c=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else h=h+31>>5<<5;if(c>l&&(l=c),a+h>=Uw<<5&&(a=0,s+=l,l=0),s+c>=Vw)break;i.translate((a+(h>>1))/o,(s+(c>>1))/o),e.rotate&&i.rotate(e.rotate*Hw),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=h,e.height=c,e.xoff=a,e.yoff=s,e.x1=h>>1,e.y1=c>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=h}for(var m=i.getImageData(0,0,(Uw<<5)/o,Vw/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var _=(h=e.width)>>5,w=(c=e.y1-e.y0,0);w<c*_;w++)x[w]=0;if(null==(a=e.xoff))return;s=e.yoff;for(var b=0,S=-1,k=0;k<c;k++){for(w=0;w<h;w++){var M=_*k+(w>>5),A=m[(s+k)*(Uw<<5)+(a+w)<<2]?1<<31-w%32:0;x[M]|=A,b|=A}b?S=k:(e.y0++,c--,k--,s++)}e.y1=e.y0+S,e.sprite=x.slice(0,(e.y1-e.y0)*_)}}}function tb(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,l=32-s,u=t.y1-t.y0,h=(t.y+t.y0)*n+(a>>5),c=0;c<u;c++){r=0;for(var f=0;f<=o;f++)if((r<<l|(f<o?(r=i[c*o+f])>>>s:0))&e[h+f])return!0;h+=n}return!1}function eb(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function nb(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function rb(){return document.createElement("canvas")}function ib(t){return"function"==typeof t?t:function(){return t}}var ob={archimedean:nb,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}},ab="wordcloud",sb=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=ab,n.layout=qw(),n}return u(e,t),e.prototype.update=function(){var t=this.globalModel,e=this._option,n=e.fontFamily,r=e.fontStyle,i=e.fontWeight,o=e.fontSize,a=e.padding,s=e.rotate,l=e.text,u=e.random,h=e.spiral,c=this.getData(),f=this.get("$gridIndex"),d=t.getComponentByIndex("grid",f).position;this.layout.size([d.width,d.height]).words(c).font(n).fontStyle(r).fontWeight(i).fontSize(o).padding(a).rotate(s).text(l).random(u).spiral(h).stop().start(),this.data=c,this.position=d},e}(Pd);sb.type=ab,sb.defaultOption={zlevel:0,z:1,fontFamily:"Impact",fontStyle:"normal",fontWeight:"normal",fontSize:function(t){return t.value},color:void 0,padding:1,rotate:function(){return 30*(~~(6*Math.random())-3)},text:function(t){return t.name},random:Math.random,spiral:"archimedean"};var lb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=ab,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.data,i=t.position,o=i.width,a=i.height,s=i.left,l=i.top,u=t.get("fontFamily"),h=t.get("fontStyle"),c=t.get("fontWeight"),f=[],d=bg(zd),p=t.get("color");Xo(r,function(t,e){var n={style:{text:t.text,fill:p?na(p)?p(t,e):p:d(e),fontSize:t.size,textAlign:"center",textBaseline:"middle",fontFamily:u,fontWeight:c,fontStyle:h},rotation:-t.rotate/180*Math.PI,position:[t.x,t.y],key:t.text,data:t};t.x+s+o/2>o||t.x+s+o/2<0||t.y+l+a/2<0||t.y+l+a/2>a||f.push(Rf(n))});var g=this.setShapeGroup("wordcould",Ec,f,{animation:t.get("animation"),animateList:{style:{fontSize:0},rotation:0,position:[0,0]},animateFrom:{style:{fontSize:0}}},function(e){e.on("click",function(e){n.dispatchAction(t,ud.itemClick,{data:e.target.data,e:e})})});g.getBoundingRect();g.attr("position",[s+o/2,l+a/2])},e}(Ad);lb.type=ab,Tp(sb,lb);var ub="funnel",hb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=ub,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.getData(),e=this.globalModel.getComponentByIndex("grid",this.get("$gridIndex")),n=this.get("sort"),r=e.position,i=this.get("selected"),o=void 0;i&&(t=Zo(t,function(t){return!1!==i[t.name]})),n&&("descending"===n?t=t.sort(function(t,e){return e.value-t.value}):"ascending"===n?t=t.sort(function(t,e){return t.value-e.value}):na(n)&&(t=t.sort(n))),Xo(t,function(t){(!o||o.value<t.value)&&(o=t)}),this.maxItem=o,this.data=t,this.position=r},e}(Pd);hb.type=ub,hb.emphasisList=["itemStyle","label","labelLine"],hb.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,sort:"descending",gap:0,legendHoverLink:!0,funnelAlign:"center",minSize:"0%",maxSize:"100%",itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!0,position:"center",gap:50,style:{fill:"#acacac",textVerticalAlign:"center"}},emphasis:{show:!0,style:{}}},labelLine:{normal:{show:!0,style:{stroke:"#acacac",lineWidth:1}},emphasis:{show:!0,style:{}}},zlevel:0,z:1};var cb=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));(o.type=ub,n.get("legendHoverLink"))&&Xo(r.getComponent("legend"),function(t){i.registerAction(t,hd.mouseover,function(e){var n=e.name;if(t.isSelected(n)){var r=o.getShape("funnel",n);o.getShape("funnel",n).trigger("mouseover",{target:r})}}),i.registerAction(t,hd.mouseout,function(t){var e=t.name,n=o.getShape("funnel",e);n&&n.trigger("mouseout",{target:n})})});return o}return u(e,t),e.prototype.render=function(t,e){var n=this,r=t.data,i=t.position,o=i.width,a=i.height,s=i.left,u=i.top,h=i.right,c=t.maxItem;if(r.length){var f=t.get("gap"),d=t.get("animation"),p=t.get("funnelAlign"),g=t.get("label").normal,v=t.get("label").emphasis,y=t.get("itemStyle").normal,m=t.get("itemStyle").emphasis,x=t.get("labelLine").normal,_=t.get("labelLine").emphasis,w=qf(t.get("maxSize"),o),b=qf(t.get("minSize"),o),S=r.length,k=(a-(S-1)*f)/S,M=(w-b)/c.value,A=s+o/2,I=[],T=[],C=[],E=[],z=u;s=A-w/2,h=A+w/2;for(var L=0;L<S;L++){var O=r[L],D=O.value,P=(D*M+b)/2,F=void 0,N=void 0,R=void 0,B=void 0,W=0;if(L<S-1)W=(r[L+1].value*M+b)/2;else W=(D*M+b)/2;switch(p){case"left":F=s,N=s+2*P,R=s,B=s+2*W;break;case"right":F=h,N=h-2*P,R=h,B=h-2*W;break;case"center":default:F=A-P,N=A+P,R=A-W,B=A+W}l({fill:O.color},y);if(g.show){var j=void 0,G=void 0,H=void 0,U=void 0,V=z+k/2,q=g.formatter?g.formatter(O.value,O):O.value,Y=!1;switch(g.position){case"left":j=(U=(H=(F+R)/2)-g.gap)-5,G="right";break;case"right":j=(U=(H=(N+B)/2)+g.gap)+5,G="left";break;default:j=(F+N)/2,G="center",Y=!0}C.push({style:l({opacity:1,x:j,y:V,text:q,textAlign:G},Rf(Ro(g.style))),key:O.name,_hoverStyle:l({text:v.formatter?g.formatter(O.value,O):q},Rf(Ro(v.style))),silent:Y,z2:1}),x.show&&!Y&&E.push(_f({shape:{x1:H,y1:V,x2:U,y2:V},key:O.name,style:x.style,_hoverStyle:Ro(_.style)}))}I.push({shape:{points:[[F,z],[N,z],[B,z+k],[R,z+k]]},style:l({opacity:1,fill:O.color},y),_hoverStyle:Ro(m),key:O.name,data:O,z2:0}),T.push({shape:{points:[[F,z],[N,z],[N,z],[F,z]]}}),z+=k+f}this.setShapeGroup("funnel",Rc,I,{animation:d,animateFrom:T,animateLeave:{style:{opacity:0}}},void 0,function(e){e._hoverStyle&&Pf(e,e._hoverStyle),e.on("mouseover",function(e){var r=e.target;if(v.show){var i=n.getShape("label",r.name);if(i)i.trigger("emphasis");else{var o=r.shape.points,a=void 0,s=void 0,u=(o[1][1]+o[2][1])/2,h=v.formatter||g.formatter,c=h?h(r.data.value,r.data):r.data.value;switch(v.position||g.position){case"left":a=(o[0][0]+o[3][0])/2-g.gap-5,s="right";break;case"right":a=(o[1][0]+o[2][0])/2+g.gap+5,s="left";break;default:a=(o[0][0]+o[1][0])/2,s="center"}n.setShape("tempLabel",Ec,{style:l({x:a,y:u,text:c,textAlign:s},Rf(Bo(Ro(g.style),v.style,!0))),z:t.get("z"),z2:999,silent:!0})}if(_.show){var f=n.getShape("labelLine",r.name);if(f)f.trigger("emphasis");else{var d=r.shape.points,p=void 0,y=void 0,m=(d[1][1]+d[2][1])/2,w=!1;switch(g.position){case"left":y=(p=(d[0][0]+d[3][0])/2)-g.gap;break;case"right":y=(p=(d[1][0]+d[2][0])/2)+g.gap;break;default:w=!0}x.show&&!w&&n.setShape("tempLabelLine",Vc,_f({shape:{x1:p,y1:m,x2:y,y2:m},style:Bo(Ro(x.style),_.style,!0)}))}}}}),e.on("mouseout",function(t){var e=t.target;if(v.show){var r=n.getShape("label",e.name),i=n.getShape("labelLine",e.name);r?r.trigger("normal"):n.removeShape("tempLabel"),i?i.trigger("normal"):n.removeShape("tempLabelLine")}})}),this.setShapeGroup("label",Ec,C,void 0,void 0,function(t){t._hoverStyle&&Pf(t,t._hoverStyle)}),this.setShapeGroup("labelLine",Vc,E,void 0,void 0,function(t){t._hoverStyle&&Pf(t,t._hoverStyle)})}else this.removeShape("funnel")},e}(Ad);cb.type=ub,Tp(hb,cb);var fb="gauge",db=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fb,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.getData(),e=this.get("min"),n=this.get("max"),r=this.get("title").text,i=this.get("startAngle"),o=this.get("endAngle"),a=this.global,s=a.getWidth(),l=a.getHeight(),u=Math.min(l,s),h=this.get("center"),c=this.get("radius"),f=this.get("color"),d=this.get("gradient"),p=void 0;ia(t)?(void 0!==t.min&&(e=t.min),void 0!==t.max&&(n=t.max),p=t.value,void 0!==t.title&&(r=t.title)):p=t,p=Math.min(Math.max(e,p),n),f&&(f=ea(f)?f.sort(function(t,e){return t[0]-e[0]}):[[1,f]],d&&0!==f[0][0]&&f.unshift([0,f[0][1]])),this.color=f,this.title=r,this.percent=(p-e)/(n-e),this.startAngle=i/180*Math.PI,this.endAngle=o/180*Math.PI,this.value=p,this.radius=qf(c,u),this.center=[qf(h[0],s),qf(h[1],l)],this.min=e,this.max=n},e}(Pd);db.type=fb,db.defaultOption={data:void 0,center:["50%","50%"],radius:"40%",startAngle:-210,endAngle:30,min:0,max:100,splitNumber:10,tickOffset:40,color:[[1,"red"]],gradient:!1,arcNum:50,axisLine:{show:!0,style:{lineWidth:30}},arcOutline:{show:!1,style:{fill:"#0E122D",stroke:"#26284F"}},endArc:{show:!1,angleCross:1,style:{fill:"#EF136D",stroke:"#EF136D"}},splitLine:{show:!0,type:"tick",length:15,gradient:!1,color:[[0,"#202126"],[.5,"#0096FE"],[1,"#202126"]],style:{fill:"#ED1671",stroke:"#acacac",lineWidth:2}},axisTick:{show:!0,type:"tick",splitNumber:5,length:8,gradient:!1,color:[[0,"#202126"],[.5,"#0096FE"],[1,"#202126"]],style:{fill:"#ED1671",stroke:"#acacac",lineWidth:1}},axisLabel:{show:!0,distance:15,formatter:void 0,style:{fill:"#acacac",textAlign:"center",textVerticalAlign:"center"}},title:{show:!0,text:void 0,offsetCenter:[0,"80%"],style:{fill:"#acacac",fontSize:20,textAlign:"center",textVerticalAlign:"center"}},detail:{show:!0,offsetCenter:[0,0],formatter:void 0,style:{fontSize:50,textAlign:"center",textVerticalAlign:"center"}},zlevel:0,z:1};var pb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fb,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.min,i=t.max,o=t.value,a=t.radius,s=t.center,u=t.startAngle,h=t.endAngle,c=t.percent,f=t.title,d=t.color,p=t.get("arcNum"),g=t.get("splitNumber"),v=t.get("axisLine"),y=t.get("detail"),m=t.get("title"),x=t.get("splitLine"),_=t.get("axisLabel"),w=t.get("axisTick"),b=t.get("tickOffset"),S=t.get("gradient"),k=t.get("animation"),M=t.get("arcOutline"),A=t.get("endArc"),I=cy().domain([0,2*Math.PI]).range([0,360]).invert(A.angleCross);b=qf(b,a);var T=v.style,C=u+Math.PI/2,E=h+Math.PI/2,z=a,L=a-T.lineWidth;if(M.show&&this.setShape("arcOutline",$p,{shape:{outerRadius:z,innerRadius:L,startAngle:C,endAngle:E,cornerRadius:0},position:s,style:M.style,cursor:"default"}),v.show)if(S||!d){for(var O=vb(d),D=d.length-1,P=(E-C)*c/(p*D),F=[],N=0;N<p*D;N++){var R=C+P*N,B=C+P*N+P,W=yb(O.color,O.domain,R,C,E);F.push({key:N,shape:{outerRadius:z,innerRadius:L,startAngle:R,endAngle:B,cornerRadius:0},position:s,style:{fill:W,stroke:W},cursor:"default"})}this.setShapeGroup("axisLine",$p,F,{animation:k,animateFrom:{shape:{startAngle:C,endAngle:C}}})}else{for(var j=[],G=0;G<d.length;G++){var H=void 0,U=void 0;0===G?(H=C,U=c<d[G][0]?C+(E-C)*c:C+(E-C)*d[G][0]):c<d[G-1][0]?H=U=C+(E-C)*c:c<d[G][0]?(H=C+(E-C)*d[G-1][0],U=C+(E-C)*c):(H=C+(E-C)*d[G-1][0],U=C+(E-C)*d[G][0]),j.push({shape:{outerRadius:z,innerRadius:L,startAngle:H,endAngle:U},position:s,style:l({fill:d[G][1]},T),key:d[G][0],z2:0,silent:!0})}this.setShapeGroup("axisLine",$p,j,{animation:k,animateFrom:{shape:{startAngle:C,endAngle:C}}})}if(A.show&&0!==A.angleCross&&this.setShape("endArc",$p,{shape:{outerRadius:z,innerRadius:L,startAngle:C+(E-C)*c,endAngle:C+(E-C)*c+I,cornerRadius:0},position:s,style:A.style,cursor:"default"},{animation:k,animateFrom:{shape:{startAngle:C,endAngle:C}}}),y.show){var V=y.offsetCenter,q=y.formatter,Y=y.style;V=gb(V,a),this.setShape("detail",Ec,{style:e.getFormattedText(l({text:q?q(o):o},Y)),position:[s[0]+V[0],s[1]+V[1]]})}if(m.show&&f){var $=m.offsetCenter,X=m.style;$=gb($,a),this.setShape("title",Ec,{style:e.getFormattedText(l({text:f},X)),position:[s[0]+$[0],s[1]+$[1]]})}if(x.show){var K=x.length,Z=x.style,Q=x.color,J=[],tt=(h-u)/g,et=u,nt={};x.gradient&&(nt=vb(Q)),K=qf(K,a);for(var rt=0;rt<=g;rt++){var it={};if(w.gradient){var ot=yb(nt.color,nt.domain,et,u,h);it={fill:ot,stroke:ot}}else it=Z;"tick"===x.type?J.push({shape:{x1:s[0]+Math.cos(et)*(a-b),x2:s[0]+Math.cos(et)*(a-b-K),y1:s[1]+Math.sin(et)*(a-b),y2:s[1]+Math.sin(et)*(a-b-K)},style:it,z2:5,silent:!0}):"circle"===x.type&&J.push({shape:{cx:s[0]+Math.cos(et)*(a-b),cy:s[1]+Math.sin(et)*(a-b),r:K},style:it,silent:!0}),et+=tt}"tick"===x.type?this.setShapeGroup("splitLine",Vc,J):"circle"===x.type&&this.setShapeGroup("splitLine",zc,J)}if(w.show){var at=w.length,st=w.splitNumber,lt=w.style,ut=w.color,ht=[],ct=g*st,ft=(h-u)/ct,dt=u,pt={};w.gradient&&(pt=vb(ut)),at=qf(at,a);for(var gt=0;gt<=ct;gt++){var vt={};if(w.gradient){var yt=yb(pt.color,pt.domain,dt,u,h);vt={fill:yt,stroke:yt}}else vt=lt;"tick"===w.type?ht.push({shape:{x1:s[0]+Math.cos(dt)*(a-b),x2:s[0]+Math.cos(dt)*(a-b-at),y1:s[1]+Math.sin(dt)*(a-b),y2:s[1]+Math.sin(dt)*(a-b-at)},style:vt,z2:4,silent:!0}):"circle"===w.type&&ht.push({shape:{cx:s[0]+Math.cos(dt)*(a-b),cy:s[1]+Math.sin(dt)*(a-b),r:at},style:vt,silent:!0}),dt+=ft}"tick"===w.type?this.setShapeGroup("axisTick",Vc,ht):"circle"===w.type&&this.setShapeGroup("axisTick",zc,ht)}if(_.show){var mt=_.formatter,xt=_.distance,_t=_.style,wt=[],bt=(h-u)/g,St=u,kt=(i-r)/g,Mt=r,At=qf(x.length,a);xt=qf(xt,a);for(var It=0;It<=g;It++)wt.push({style:e.getFormattedText(l({x:s[0]+Math.cos(St)*(a-b-At-xt),y:s[1]+Math.sin(St)*(a-b-At-xt),text:mt?mt(Mt):Mt},_t)),z2:7,silent:!0}),St+=bt,Mt+=kt;this.setShapeGroup("axisLabel",Ec,wt)}},e}(Ad);function gb(t,e){return ea(t)?[qf(t[0],e),qf(t[1],e)]:[qf(t,e),qf(t,e)]}function vb(t){for(var e={domain:[],color:[]},n=0;n<t.length;n++)e.domain.push(t[n][0]),e.color.push(t[n][1]);return e}function yb(t,e,n,r,i){var o=cy().domain([r,i]).range([0,1]);return cy().domain(e).range(t).interpolate(Pv)(o(n))}pb.type=fb,Tp(db,pb);var mb=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(Qf(e,"area.normal.style.fill")||Zf(e,"area.normal.style.fill",e.color))},e.prototype.formatData=function(t){return Ko(t,function(t,e){return[e,t]})},e.prototype.update=function(){var e;(e=t.prototype.update).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)));var n=this.getAxisModel("y").scale,r=n.domain();this.y0=n(r[1]<0?r[1]:r[0]>0?r[0]:0)},e}(I_);mb.type="area",mb.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,area:{normal:{show:!0,style:{fill:"#ccc"}}},curve:{type:"linear",param:void 0},connectNulls:!1,legendHoverLink:!0,cursor:"default",zlevel:0,z:3};var xb=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.render=function(t,e,n){var r=t.get("cursor"),i=t.get("curve"),o=t.get("animation"),a=t.get("animationDuration"),s=t.get("animationEasing"),l=t.get("area").normal,u=l.style,h=t.points,c=t.y0;if(l.show){var f={x:function(t){return t[0]},y0:function(t){return t[1][0]},y1:function(t){return t[1][1]},data:h,curve:M_(i),y0Start:c,y1Start:c,percent:1,defined:function(t){return t}};this.setShape("area",d_,{shape:f,style:u,cursor:r},{animation:o,duration:a,easing:s,animateFrom:{shape:{percent:0}}})}},e}(Ad);xb.type="area",Tp(mb,xb);var _b="lines",wb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_b,c(r,n)}return u(e,t),e}(Pd);wb.type=_b,wb.defaultOption={$dataIndex:void 0,dataKey:void 0,$geoIndex:0,name:void 0,effectSymbol:{show:!1,type:"circle",size:3,style:{},period:4e3,delay:0,trailLength:.2,loop:!0},line:{show:!0,curveness:0,style:{}},endSymbol:{show:!1,type:"arrow",size:10,style:{}},zlevel:0,z:9};var bb=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments)),i=n.model,o=n.line,a=n.coords,l=a[0],u=a[1],h={shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1],cpx1:(l[0]+u[0])/2-(l[1]-u[1])*o.curveness,cpy1:(l[1]+u[1])/2-(u[0]-l[0])*o.curveness,percent:1},style:o.style},f=new $c(h),d=n.effectSymbol,p=n.endSymbol,g=d.size,v=f.pointAt(0),y=f.pointAt(1),m=f.tangentAt(0),x=f.tangentAt(1),_=-Math.PI/2-Math.atan2(m[1],m[0]),w=-Math.PI/2-Math.atan2(x[1],x[0]);if(o.show&&r.setShape("line",$c,h,{animation:i.get("animation"),animateFrom:{shape:{percent:0}}}),p.show){var b=new Vd({shape:{symbolType:"arrow",x:-p.size/2,y:-p.size/2,width:p.size,height:p.size},style:p.style,position:y,rotation:w});if(r.set("endSymbol",b),i.get("animation"))b.__t=0,b.animate("",!1).when(i.get("animationDuration"),{__t:1}).during(function(){var t=f.tangentAt(b.__t),e=-Math.PI/2-Math.atan2(t[1],t[0]);b.attr("position",f.pointAt(b.__t)),b.attr("rotation",e)}).start(i.get("animationEasing"))}if(d.show){var S=new Vd({shape:{symbolType:d.type,x:-g/2,y:-g/2,width:g,height:g},style:d.style,position:v,rotation:_});r.set("symbol",S),S.__t=0,S.animate("",d.loop).when(d.period,{__t:1}).delay(na(d.delay)?d.delay(n.data,n.index,n):d.delay).during(function(){var t=f.tangentAt(S.__t),e=-Math.PI/2-Math.atan2(t[1],t[0]);S.attr("position",f.pointAt(S.__t)),S.attr("rotation",e)}).start()}return r}return u(e,t),e}(X_),Sb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_b,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove();var r=n.getZr(),i="svg"===r.painter.getType(),o=t.get("zlevel"),a=t.get("effectSymbol"),s=t.get("endSymbol"),l=a.show,u=a.trailLength,h=t.get("line"),c=n.getModel("geo",0),f=t.getData(),d=[];i||r.painter.getLayer(o).clear(!0),l&&u&&(i||r.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),Xo(f,function(e,n){var r=e.coords,i=c.projection(r[0]),o=c.projection(r[1]);d.push({coords:[i,o],line:h,effectSymbol:a,endSymbol:s,model:t,key:n,index:n,data:e})}),this.setShapeGroup("flylines",bb,d)},e}(Ad);Sb.type=_b,Tp(wb,Sb);var kb="effectScatter",Mb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=kb,c(r,n)}return u(e,t),e}(I_);Mb.type=kb,Mb.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4e3,scale:3,brushType:"stroke",number:3},symbol:{normal:{show:!0,type:"circle",offset:[0,0],size:8,style:{fill:"#058499",lineWidth:.5}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},cursor:"default",zlevel:0,z:4};var Ab=function(t){function e(n){s(this,e);for(var r=c(this,t.apply(this,arguments)),i=r.setShape("symbol",Vd,n),o=new fl,a=n.model,u=a.get("rippleEffect"),h=a.get("showEffectOn"),f=u.number,d=u.period,p=u.scale,g=u.brushType,v=function(t){var e=new Vd(l({},n,{z2:99,silent:!0,scale:[.8,.8]}));if("fill"===g){var r=n.style.fill||n.style.stroke;e.setStyle({fill:r,stroke:null})}else{var a=n.style.stroke||n.style.fill;e.setStyle({fill:null,stroke:a})}var s=-t/f*d;e.animateScale=e.animate("",!0).when(d,{scale:[p,p]}).delay(s),e.animateOpacity=e.animateStyle(!0).when(d,{opacity:0}).delay(s),"emphasis"===h?(i.on("mouseover",function(){e.show(),e.animateScale.start(),e.animateOpacity.start()}),i.on("mouseout",function(){e.animateScale.stop(),e.animateOpacity.stop(),e.hide()})):(e.animateScale.start(),e.animateOpacity.start()),o.add(e)},y=0;y<f;y++)v(y);return r.set("rippleGroup",o),r}return u(e,t),e}(X_),Ib=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=kb,c(r,n)}return u(e,t),e.prototype.renderAllSymbol=function(t,e,n,r){this.group,t.get("symbol").normal,t.isScatter;var i=t.get("cursor"),o=[];Xo(r,function(e,n){if(e){var r=e[2],a={shape:function(t,e,n){var r=t.get("symbol"),i=(r=n?Bo(Ro(r.normal),r.emphasis,!0):r.normal).type,o=r.size,a=r.offset,s=Xf("function"==typeof o?o(e):o);return{symbolType:i,x:-s.width/2+a[0],y:-s.height/2+a[1],width:s.width,height:s.height}}(t,r,!1),position:[e[0],e[1]],style:function(t,e,n,r){var i=t.get("symbol"),o=t.get("label"),a=i.normal.style,s=e[1],u={data:e,index:r-t.startIndex,dataIndex:r},h=t.get("$visualMapIndex"),c=void 0,f=void 0;if(c=na(a)?a(s,u):Ro(a),void 0!==h){var d=t.globalModel.getComponentByIndex("visualMap",h);void 0!==t.get("$calendarIndex")||"line"===t.get("type")?c.fill=d.getColorStop(e[1],c.fill):c.fill=d.getColorStop(e[2],c.fill)}if(n){var p=i.emphasis.style;p=na(p)?p(s,u):Ro(p),c=Bo(c,p,!0)}if(n){var g=o.emphasis;if(g.show){var v=o.normal,y=g.formatter||v.formatter,m=na(v.style)?v.style(s,u):Ro(v.style),x=Bo(m,g.style,!0);f=l({text:y?y(s,u):s},Rf(Tb(x,s,u)))}}else{var _=o.normal;if(_.show){var w=_.formatter,b=na(_.style)?_.style(s,u):Ro(_.style);f=l({text:w?w(s,u):s},Rf(Tb(b,s,u)))}}f&&(c=Bo(c,f));return c}(t,r,!1,e[3]),key:e[3],seriesIndex:t.index,dataIndex:e[3],rectHover:!0,cursor:i,model:t};o.push(a)}}),this.setShapeGroup("symbolGroup",Ab,o)},e.prototype.render=function(t,e,n){this.remove(),this.renderAllSymbol(t,e,n,t.points)},e}(Ad);function Tb(t,e,n){var r={};return Xo(t,function(t,i){na(t)?r[i]=t(e,n):r[i]=t}),r}Ib.type=kb,Tp(Mb,Ib);var Cb=function(){function t(){s(this,t),this.defaultRadius=25,this.defaultBlur=15,this.defaultGradient={.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"};var e=this._canvas=Ho();this._ctx=e.getContext("2d"),this._max=1,this._min=0,this._data=[]}return t.prototype.data=function(t){return this._data=t,this},t.prototype.max=function(t){return this._max=t,this},t.prototype.min=function(t){return this._min=t,this},t.prototype.add=function(t){return this._data.push(t),this},t.prototype.clear=function(){return this._data=[],this},t.prototype.radius=function(t,e){e=void 0===e?this.defaultBlur:e;var n=this._circle=this._createCanvas(),r=n.getContext("2d"),i=this._r=t+e;return n.width=n.height=2*i,r.shadowOffsetX=r.shadowOffsetY=2*i,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-i,-i,t,0,2*Math.PI,!0),r.closePath(),r.fill(),this},t.prototype.gradient=function(t){var e=this._createCanvas(),n=e.getContext("2d"),r=n.createLinearGradient(0,0,0,256);for(var i in e.width=1,e.height=256,t)r.addColorStop(+i,t[i]);return n.fillStyle=r,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},t.prototype.draw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.05,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],r=arguments[3];this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var i=this._canvas,o=this._ctx;i.width=n,i.height=r,o.clearRect(0,0,n,r);for(var a,s=this._max-this._min,l=0,u=this._data.length;l<u;l++)a=this._data[l],o.globalAlpha=Math.min(Math.max((a[2]-this._min)/s,t),e),o.drawImage(this._circle,a[0]-this._r,a[1]-this._r);var h=o.getImageData(0,0,n,r);return this._colorize(h.data,this._grad),o.putImageData(h,0,0),this},t.prototype._colorize=function(t,e){for(var n,r=0,i=t.length;r<i;r+=4)(n=4*t[r+3])&&(t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2])},t.prototype._createCanvas=function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor},t}(),Eb="heatmap",zb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Eb,c(r,n)}return u(e,t),e.prototype.updateByAxis=function(){for(var t=this.data,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=e.domain,a=n.domain,s=e.startIndex,l=n.startIndex,u=r.step(),h=i.step(),c=r.paddingOuter()*u,f=r.paddingOuter()*h,d=[],p=0;p<t.length;p++){var g=t[p];d.push([r(o[g[0]-s])-c,i(a[g[1]-l])-f,g[2]])}this.points=d,this.width=u,this.height=h},e.prototype.updateByCalendar=function(){var t=this.globalModel,e=this.data,n=t.getComponentByIndex("calendar",this.get("$calendarIndex")),r=n.get("cellSize"),i=[];Xo(e,function(t,e){var o=t[0],a=[],s=n.calcPoint(o);s&&(a=[s.x-r/2,s.y-r/2,t[1]],i.push(a))}),this.points=i,this.width=r,this.height=r},e.prototype.updateByGeo=function(){var t=this.globalModel,e=this.data,n=t.getComponentByIndex("geo",this.get("$geoIndex")),r=[];Xo(e,function(t,e){var i=n.projection(t);i&&r.push([i[0],i[1],t[2]])}),this.points=r},e.prototype.update=function(){this.global;var t=this.get("$axisIndex"),e=this.get("$calendarIndex"),n=this.get("$geoIndex"),r=this.getData();r=Zo(r,function(t){return t}),this.data=r,void 0!==t?this.updateByAxis():void 0!==e?this.updateByCalendar():void 0!==n&&this.updateByGeo()},e}(Pd);zb.type=Eb,zb.defaultOption={zlevel:0,z:1,pointSize:20,blurSize:30,minOpacity:0,maxOpacity:1,itemStyle:{normal:{fill:"rgba(102, 132, 221, 0.5)"}}};var Lb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Eb,c(r,n)}return u(e,t),e.prototype.renderOnGeo=function(t,e,n){for(var r=t.points,i=t.get("blurSize"),o=t.get("pointSize"),a=t.get("minOpacity"),s=t.get("maxOpacity"),l=(t.get("itemStyle").normal,t.get("$visualMapIndex")),u=n.getModel("visualMap",l),h=n.getWidth(),c=(n.getHeight(),this._heat||new Cb),f=u.get("inRange").color,d={},p=0;p<f.length;p++)d[f[p][0]]=f[p][1];c.data(r),c.max(u.get("max")),c.min(u.get("min")),c.radius(o,i),c.gradient(d),c.draw(a,s,h,h),this.setShape("heatmap",Lu,{style:{width:h,height:h,x:0,y:0,image:c._canvas},silent:!0})},e.prototype.renderOnOther=function(t,e,n){for(var r=t.points,i=t.width,o=t.height,a=t.get("itemStyle").normal,s=n.getModel("visualMap",0),u=[],h=0;h<r.length;h++){var c=r[h],f=s&&s.getColorStop(c[2]),d=l({},a);f&&(d.fill=f),u.push({shape:{x:0,y:0,width:i,height:o},position:[c[0],c[1]],style:d,data:{value:c[2]}})}this.setShapeGroup("heatmap",Hc,u)},e.prototype.render=function(t){void 0!==t.get("$geoIndex")?this.renderOnGeo.apply(this,arguments):this.renderOnOther.apply(this,arguments)},e}(Ad);function Ob(t,e){return t.parent===e.parent?1:2}function Db(t,e){return t+e.x}function Pb(t,e){return Math.max(t,e.y)}function Fb(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Nb(t,e){var n,r,i,o,a,s=new jb(t),l=+t.value&&(s.value=t.value),u=[s];for(null==e&&(e=Rb);n=u.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)u.push(r=n.children[o]=new jb(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Wb)}function Rb(t){return t.children}function Bb(t){t.data=t.data.data}function Wb(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function jb(t){this.data=t,this.depth=this.height=0,this.parent=null}Lb.type=Eb,Tp(zb,Lb),jb.prototype=Nb.prototype={constructor:jb,count:function(){return this.eachAfter(Fb)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Nb(this).eachBefore(Bb)}};var Gb=Array.prototype.slice;function Hb(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Gb.call(t))).length,o=[];r<i;)e=t[r],n&&qb(n,e)?++r:(n=$b(o=Ub(o,e)),r=0);return n}function Ub(t,e){var n,r;if(Yb(e,t))return[e];for(n=0;n<t.length;++n)if(Vb(e,t[n])&&Yb(Xb(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Vb(Xb(t[n],t[r]),e)&&Vb(Xb(t[n],e),t[r])&&Vb(Xb(t[r],e),t[n])&&Yb(Kb(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Vb(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function qb(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Yb(t,e){for(var n=0;n<e.length;++n)if(!qb(t,e[n]))return!1;return!0}function $b(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Xb(t[0],t[1]);case 3:return Kb(t[0],t[1],t[2])}var e}function Xb(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,h=s-i,c=Math.sqrt(l*l+u*u);return{x:(n+o+l/c*h)/2,y:(r+a+u/c*h)/2,r:(c+i+s)/2}}function Kb(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,h=n.y,c=n.r,f=r-a,d=r-u,p=i-s,g=i-h,v=l-o,y=c-o,m=r*r+i*i-o*o,x=m-a*a-s*s+l*l,_=m-u*u-h*h+c*c,w=d*p-f*g,b=(p*_-g*x)/(2*w)-r,S=(g*v-p*y)/w,k=(d*x-f*_)/(2*w)-i,M=(f*y-d*v)/w,A=S*S+M*M-1,I=2*(o+b*S+k*M),T=b*b+k*k-o*o,C=-(A?(I+Math.sqrt(I*I-4*A*T))/(2*A):T/I);return{x:r+b+S*C,y:i+k+M*C,r:C}}function Zb(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Qb(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Jb(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function tS(t){this._=t,this.next=null,this.previous=null}function eS(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,l,u,h,c;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Zb(n,e,r=t[2]),e=new tS(e),n=new tS(n),r=new tS(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Zb(e._,n._,r=t[s]),r=new tS(r),l=n.next,u=e.previous,h=n._.r,c=e._.r;do{if(h<=c){if(Qb(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.next}else{if(Qb(u._,r._)){(e=u).next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Jb(e);(r=r.next)!==n;)(a=Jb(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Hb(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function nS(t){if("function"!=typeof t)throw new Error;return t}function rS(){return 0}function iS(t){return function(){return t}}function oS(t){return Math.sqrt(t.value)}function aS(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function sS(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=eS(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function lS(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function uS(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function hS(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}var cS="$",fS={depth:-1},dS={};function pS(t){return t.id}function gS(t){return t.parentId}function vS(t,e){return t.parent===e.parent?1:2}function yS(t){var e=t.children;return e?e[0]:t.t}function mS(t){var e=t.children;return e?e[e.length-1]:t.t}function xS(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function _S(t,e,n){return t.a.parent===e.parent?t.a:n}function wS(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function bS(){var t=vS,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new wS(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new wS(r[i],i)),n.parent=e;return(a.parent=new wS(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var u=i,h=i,c=i;i.eachBefore(function(t){t.x<u.x&&(u=t),t.x>h.x&&(h=t),t.depth>c.depth&&(c=t)});var f=u===h?1:t(u,h)/2,d=f-u.x,p=e/(h.x+f+d),g=n/(c.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],u=o.m,h=a.m,c=s.m,f=l.m;s=mS(s),o=yS(o),s&&o;)l=yS(l),(a=mS(a)).a=e,(i=s.z+c-o.z-u+t(s._,o._))>0&&(xS(_S(s,e,r),e,i),u+=i,h+=i),c+=s.m,u+=o.m,f+=l.m,h+=a.m;s&&!mS(a)&&(a.t=s,a.m+=c-h),o&&!yS(l)&&(l.t=o,l.m+=u-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function SS(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}wS.prototype=Object.create(jb.prototype);var kS=(1+Math.sqrt(5))/2;function MS(t,e,n,r,i,o){for(var a,s,l,u,h,c,f,d,p,g,v,y=[],m=e.children,x=0,_=0,w=m.length,b=e.value;x<w;){l=i-n,u=o-r;do{h=m[_++].value}while(!h&&_<w);for(c=f=h,v=h*h*(g=Math.max(u/l,l/u)/(b*t)),p=Math.max(f/v,v/c);_<w;++_){if(h+=s=m[_].value,s<c&&(c=s),s>f&&(f=s),v=h*h*g,(d=Math.max(f/v,v/c))>p){h-=s;break}p=d}y.push(a={value:h,dice:l<u,children:m.slice(x,_)}),a.dice?hS(a,n,r,i,b?r+=u*h/b:o):SS(a,n,r,b?n+=l*h/b:i,o),b-=h,x=_}return y}var AS=function t(e){function n(t,n,r,i,o){MS(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(kS);function IS(){var t=AS,e=!1,n=1,r=1,i=[0],o=rS,a=rS,s=rS,l=rS,u=rS;function h(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(c),i=[0],e&&t.eachBefore(uS),t}function c(e){var n=i[e.depth],r=e.x0+n,h=e.y0+n,c=e.x1-n,f=e.y1-n;c<r&&(r=c=(r+c)/2),f<h&&(h=f=(h+f)/2),e.x0=r,e.y0=h,e.x1=c,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,h+=a(e)-n,c-=s(e)-n,f-=l(e)-n,c<r&&(r=c=(r+c)/2),f<h&&(h=f=(h+f)/2),t(e,r,h,c,f))}return h.round=function(t){return arguments.length?(e=!!t,h):e},h.size=function(t){return arguments.length?(n=+t[0],r=+t[1],h):[n,r]},h.tile=function(e){return arguments.length?(t=nS(e),h):t},h.padding=function(t){return arguments.length?h.paddingInner(t).paddingOuter(t):h.paddingInner()},h.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:iS(+t),h):o},h.paddingOuter=function(t){return arguments.length?h.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):h.paddingTop()},h.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:iS(+t),h):a},h.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:iS(+t),h):s},h.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:iS(+t),h):l},h.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:iS(+t),h):u},h}function TS(t,e,n,r,i){var o,a,s=t.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var h=s[e];return h.x0=i,h.y0=o,h.x1=a,void(h.y1=l)}var c=u[e],f=r/2+c,d=e+1,p=n-1;for(;d<p;){var g=d+p>>>1;u[g]<f?d=g+1:p=g}f-u[d-1]<u[d]-f&&e+1<d&&--d;var v=u[d]-c,y=r-v;if(a-i>l-o){var m=(i*y+a*v)/r;t(e,d,v,i,o,m,l),t(d,n,y,m,o,a,l)}else{var x=(o*y+l*v)/r;t(e,d,v,i,o,a,x),t(d,n,y,i,x,a,l)}}(0,l,t.value,e,n,r,i)}function CS(t,e,n,r,i){(1&t.depth?SS:hS)(t,e,n,r,i)}var ES=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,l,u,h,c=-1,f=a.length,d=t.value;++c<f;){for(l=(s=a[c]).children,u=s.value=0,h=l.length;u<h;++u)s.value+=l[u].value;s.dice?hS(s,n,r,i,r+=(o-r)*s.value/d):SS(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=MS(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(kS),zS=Object.freeze({cluster:function(){var t=Ob,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Db,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Pb,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=s.x-t(s,l)/2,h=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(h-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},hierarchy:Nb,pack:function(){var t=null,e=1,n=1,r=rS;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(aS(t)).eachAfter(sS(r,.5)).eachBefore(lS(1)):i.eachBefore(aS(oS)).eachAfter(sS(rS,1)).eachAfter(sS(r,i.r/Math.min(e,n))).eachBefore(lS(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:nS(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:iS(+t),i):r},i},packSiblings:function(t){return eS(t),t},packEnclose:Hb,partition:function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&hS(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(uS),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},stratify:function(){var t=pS,e=gS;function n(n){var r,i,o,a,s,l,u,h=n.length,c=new Array(h),f={};for(i=0;i<h;++i)r=n[i],s=c[i]=new jb(r),null!=(l=t(r,i,n))&&(l+="")&&(f[u=cS+(s.id=l)]=u in f?dS:s);for(i=0;i<h;++i)if(s=c[i],null!=(l=e(n[i],i,n))&&(l+="")){if(!(a=f[cS+l]))throw new Error("missing: "+l);if(a===dS)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=fS,o.eachBefore(function(t){t.depth=t.parent.depth+1,--h}).eachBefore(Wb),o.parent=null,h>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=nS(e),n):t},n.parentId=function(t){return arguments.length?(e=nS(t),n):e},n},tree:bS,treemap:IS,treemapBinary:TS,treemapDice:hS,treemapSlice:SS,treemapSliceDice:CS,treemapSquarify:AS,treemapResquarify:ES}),LS="treemap",OS={treemapBinary:TS,treemapDice:hS,treemapSlice:SS,treemapSliceDice:CS,treemapSquarify:AS,treemapResquarify:ES},DS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=LS,c(r,n)}return u(e,t),e.prototype.update=function(){var t,e=this.globalModel,n=this._option,r=n.$gridIndex,i=n.targetPath,o=n.value,a=n.paddingInner,s=n.paddingTop,l=n.paddingBottom,u=n.paddingLeft,h=n.paddingRight,c=n.tile,f=n.round,d=n.color,p=this.getData(),g=e.getComponentByIndex("grid",r),v=g.position,y=(v.left,v.top,v.right,v.bottom,v.width),m=v.height,x=IS().size([y,m]).round(f).tile(ra(c)?OS[c]:c).paddingInner(a).paddingTop(s).paddingBottom(l).paddingLeft(u).paddingRight(h);!function(t,e){PS(t,function(t,e,n){t._path=n?n._path+"/"+t.name:t.name,t._parent=n})}(p),i=i||p._path,ea(d)&&(t=bg(d),d=function(e,n,r){var i=e._path;return n<2?t(i):Cs(r.color,.1*-(n-1))}),PS(p,function(t,e,n){t.color=t.color||d(t,e,n)});var _=Nb(function t(e,n){if(!n||e._path===n)return e;if(e.children)for(var r=0;r<e.children.length;r++)if(n.indexOf(e.name)>-1){var i=t(e.children[r],n);if(i)return i}}(p,i)).sum(o).sort(function(t,e){return e.height-t.height||e.value-t.value});x(_),this.targetPath=i,this.targetRoot=_,this.position=g.position},e}(Pd);function PS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];e(t,n,r),n++,Xo(t.children,function(r){PS(r,e,n,t)})}DS.type=LS,DS.emphasisList=["itemStyle","label","upperLabel"],DS.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,name:void 0,targetPath:void 0,value:function(t){return t.value},leafDepth:1,tile:"treemapSquarify",round:!1,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:1,nodeClick:"zoomToNode",drillDownIcon:"ÈàªÔøΩ",color:["#525552","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!0,style:{},formatter:void 0},emphasis:{show:!1,style:{}}},upperLabel:{normal:{show:!1,style:{},formatter:void 0},emphasis:{show:!1,style:{}}},breadcrumb:{show:!0,align:"center",top:void 0,left:void 0,height:22,minWidth:30,maxWidth:60,style:{normal:{stroke:"rgba(255,255,255,0.7)",fill:"rgba(0,0,0,0.7)",lineWidth:1,shadowBlur:3,shadowColor:" rgba(150,150,150,1)"},emphasis:{}},textStyle:{normal:{fill:"#fff"},emphasis:{}}},zlevel:0,z:1};var FS=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));o.type=LS;var a=o.roam,l=void 0;if(a.inGrid){var u=n.get("$gridIndex");l=r.getComponentByIndex("grid",u)}return i.on("mousewheel",function(t){var e=t.offsetX,r=t.offsetY;t.wheelDelta;l&&!l.isPointInGrid(e,r)||!a.enable||n.dirty()}),o}return u(e,t),e.prototype.render=function(t,e,n){var r=t.targetRoot,i=t.position,o=i.left,a=i.top,s=t.get("leafDepth"),u=t.get("drillDownIcon"),h=(t.get("value"),t.get("label")),c=t.get("upperLabel"),f=t.get("itemStyle"),d=(t.get("nodeClick"),[]),p=r.depth+s,g=this.group.scale||[1,1],v=h.normal,y=c.normal,m=f.normal,x=v.formatter||function(t,e){return(e.children&&u?u+" ":"")+t.name},_=v.formatter||function(t,e){return t.name},w=[],b=this.getShape("treemap");function S(t){var n=t.x0,r=t.x1,i=t.y0,u=t.y1,h=t.parent,c=t.data,f=t.depth,p=c._path;if(b){var S=function(t){var e=void 0;for((t=t.split("/")).pop();t.length&&!(e=b.childOfName(t.join("/")));)t.pop();return e}(p);if(S){var k=S.shape,M=k.x,A=k.y;w.push({shape:{x:M,y:A,width:0,height:0}})}else w.push({})}else w.push({});var I={text:""};if(v.show&&(!c.children||s&&t.depth===s)){var T=v.style;na(T)&&(T=T(c,t)),I=e.getFormattedText(l({text:x(c,t),truncate:{outerWidth:(r-n)*g[0],outerHeight:(u-i)*g[1]},position:"inside"},T))}else y.show&&c.children&&(!s||s&&t.depth<s)&&(I=e.getFormattedText(l({text:_(c,t),truncate:{outerWidth:(r-n)*g[0],outerHeight:(u-i)*g[1]},position:"insideTopLeft"},y.style)));var C=m;na(C)&&(C=C(c,t)),d.push(wf({shape:{x:n,y:i,width:r-n,height:u-i},position:[o,a],style:l({fill:c.color},I,C),data:l({value:t.value},c,{parent:h}),key:p,z2:f}))}!function t(e){s?e.depth<p?(S(e),e.children&&Xo(e.children,function(e){t(e)})):e.depth===p&&S(e):(S(e),e.children&&Xo(e.children,t))}(r),this.setShapeGroup("treemap",Hc,d,{animation:t.get("animation"),duration:t.get("animationDuration"),easing:t.get("animationEasing"),animateFrom:w,animateList:{shape:{x:0,y:0,width:0,height:0}},animateLeave:{style:{opacity:0}}},function(e){e.on("click",function(e){switch(t.get("nodeClick")){case"link":var r=e.target.data.link;r&&window.open(r,"_blank");break;case"zoomToNode":e.target.data.children&&t.set("targetPath",e.target.data._path)}n.dispatchAction(t,ud.itemClick,e)})}),function(t,e){var n=t.get("breadcrumb");if(!n.show)return;var r=t.targetPath,i=t.position,o=n.textStyle,a=n.style,s=n.minWidth,u=n.maxWidth,h=n.height,c=n.align,f=n.left,d=n.top,p=[];void 0===f&&(f=i.left+i.width/2);void 0===d&&(d=i.bottom+20);r=r.split("/");var g="",v=f;Xo(r,function(t){var n=new Ec(e.getFormattedText({style:l({text:t},o.normal)})),r=n.getBoundingRect().width;r=Math.max(Math.min(u,r),s),g=g?g+"/"+t:t,p.push({shape:{x:v,y:d,width:r,height:h},style:l({},e.getFormattedText(l({text:t,truncate:{outerWidth:r,outerHeight:h}},o.normal)),a.normal),data:{path:g}}),v+=r});var y=this.setShapeGroup("breadcrumb",Hc,p,void 0,function(e){e.on("click",function(e){var n=e.target;t.set("targetPath",n.data.path)})});if("center"===c){var m=y.getBoundingRect().width;y.attr("position",[-m/2,0])}}.call(this,t,e)},e}(Ad);FS.type=LS,Tp(DS,FS);var NS=zS,RS="tree",BS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=RS,r.initialized=!1,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel,e=this.getData(),n=this.get("$gridIndex"),r=this.get("orient"),i=this.get("treeType"),o=this.get("layout"),a=this.get("gap"),s=this.get("startAngle"),l=this.get("endAngle"),u=this.get("separation"),h=this.get("initialTreeDepth"),c=t.getComponentByIndex("grid",n),f=c.position,d=f.left,p=f.top,g=(f.right,f.bottom,f.width),v=f.height,y=NS[i](),m=this.root||NS.hierarchy(e),x=void 0;u&&y.separation(u),"orthogonal"===o?y.size("horizontal"===r?[v,g]:[g,v]):(x=qf(this.get("radial"),Math.min(g,v)),y.size([l-s,x])),!this.initialized&&"number"==typeof h&&h>-1&&(m.eachAfter(function(t){t._id=Math.random(),t.depth>=h&&(t._children=t.children,t.children=null)}),this.initialized=!0),y(m),"orthogonal"===o?m.each(function(t){"horizontal"===r?(t._x=t.y+d,t._y=t.x+p,t._gapX=t._x-a,t._gapY=t._y):(t._x=t.x+d,t._y=t.y+p,t._gapX=t._x,t._gapY=t._y-a)}):(d+=x+(g-2*x)/2,p+=x+(v-2*x)/2,m.each(function(t){t.x+=s,t._x=Math.sin(t.x/180*Math.PI)*t.y+d,t._y=Math.cos(t.x/180*Math.PI)*t.y+p,t._gapX=Math.sin(t.x/180*Math.PI)*(t.y+a)+d,t._gapY=Math.cos(t.x/180*Math.PI)*(t.y+a)+p})),this.root=m,this.position=c.position},e}(Pd);BS.type=RS,BS.emphasisList=["label","node","link"],BS.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,name:void 0,orient:"horizontal",treeType:"tree",layout:"orthogonal",radial:"50%",startAngle:0,endAngle:360,gap:10,initialTreeDepth:2,expandAndCollapse:!0,separation:void 0,label:{normal:{show:!0,silent:!0,formatter:void 0,style:{fill:"#5097f8",opacity:.8}},emphasis:{}},node:{normal:{show:!0,type:"circle",size:10,style:{stroke:"#5097f8",fill:"white"}}},link:{normal:{show:!0,style:{stroke:"#67cacb"}}},zlevel:0,z:1};var WS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=RS,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.root,i=t.position,o=t.get("orient"),a=t.get("layout"),s=t.get("label").normal,u=s.style,h=s.silent,c=s.formatter,f=t.get("node").normal,d=f.style,p=f.size,g=f.type,v=t.get("link").normal,y=t.get("animation"),m=(i.left,i.top,r.descendants()),x=r.links(),_=[],w=[],b=[],S=[],k=[],M=[];Xo(m,function(t){var n=t._x,r=t._y,i=t._id,v=(t.children,t._children,t.parent),y=t._gapX,m=t._gapY,x=Xf(na(p)?p(t):p),w=x.width,k=x.height,A=na(g)?g(t):g,I=na(d)?d(t):d;if(f.show&&(_.push({shape:{symbolType:A,x:-w/2,y:-k/2,width:w,height:k},position:[n,r],style:I,z2:1,key:i,node:t,data:t.data}),S.push(v?{position:[(v._x+n)/2,(v._y+r)/2]}:{position:[n,r]})),s.show){var T=void 0,C=void 0,E=na(u)?u(t):u;if("radial"===a){var z=(t.x+360)%360;T={textAlign:z<180&&z>0?"left":"right",textVerticalAlign:"center"},C=(t.x/180+(z<180&&z>0?-.5:.5))*Math.PI}else"horizontal"===o?(T={textAlign:"right",textVerticalAlign:"center"},C=0):(T={textAlign:"left",textVerticalAlign:"center"},C=-Math.PI/2*3);void 0!==s.rotate&&(C=s.rotate),b.push(e.getFormattedText({style:l({text:c?c(t.data.name,t.data):t.data.name},T,E),silent:h,position:[y,m],rotation:C,z2:2,key:i,data:t.data})),M.push(v?{position:[(v._gapX+y)/2,(v._gapY+m)/2]}:{position:[y,m]})}}),this.setShapeGroup("nodes",Vd,_,{animation:y,animateFrom:S},function(e){e.on("click",function(e){var r=t.get("expandAndCollapse"),i=e.target.node;n.dispatchAction(t,"NODE_CLICK",e),r&&(i.children?(i._children=i.children,i.children=null,t.dirty()):i._children&&(i.children=i._children,t.dirty()))})}),this.setShapeGroup("texts",Ec,b,{animation:y,animateFrom:M},function(e){e.on("click",function(e){n.dispatchAction(t,"LABEL_CLICK",e)})}),v.show&&Xo(x,function(t){var e=t.source,n=t.target;w.push({shape:{source:[e._x,e._y],target:[n._x,n._y],orient:o},style:v.style,z2:0,key:e._id+"-"+n._id}),k.push({shape:{source:[e._x,e._y],target:[e._x,e._y]}})}),this.setShapeGroup("links",cw,w,{animation:y,animateFrom:k})},e}(Ad);WS.type=RS,Tp(BS,WS);var jS="custom",GS=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=jS,Xo(n.get("model"),function(t,e){n[e]=t}),n}return u(e,t),e}(Pd);GS.type=jS,GS.defaultOption={zlevel:0,z:1,view:{},model:{}};var HS=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return r.type=jS,Xo(n.get("view"),function(t,e){r[e]=t}),r}return u(e,t),e}(Ad);HS.type=jS,Tp(GS,HS);var US="radial",VS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=US,r.initialized=!1,c(r,n)}return u(e,t),e.prototype.update=function(){},e}(Pd);VS.type=US,VS.emphasisList=["label","node","link"],VS.defaultOption={zlevel:0,z:1,startAngle:0,endAngle:360,gap:10,initialTreeDepth:2,expandAndCollapse:!0,separation:void 0,label:{normal:{show:!0,silent:!0,formatter:void 0,style:{fill:"#5097f8",opacity:.8}},emphasis:{}},node:{normal:{show:!0,type:"circle",size:10,style:{stroke:"#5097f8",fill:"white"}}},link:{normal:{show:!0,style:{stroke:"#67cacb"}}}};var qS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=US,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=n.getWidth(),i=n.getHeight(),o=t.get("node").normal,a=o.style,s=(o.size,o.type),l=t.getData(),u=[],h=[],c=[];function f(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var d,p=bS().size([2*Math.PI,Math.min(r,i)/2.1]).separation(function(t,e){return(t.parent==e.parent?1:2)/t.depth}),g=Nb(l),v=[];if(e.root)d=e.root;else{for(var y=(d=p(g)).descendants(),m=(d.links(),d.descendants().filter(function(t){return"circle"==t.data.type})),x=0,_=0;_<y.length;_++){var w=y[_];if(1==w.depth){x=w.y;break}}m.forEach(function(t){t.children.forEach(function(t){t.y-=x/2,t.depth-=.5})});for(var b=0;b<50;b++){var S=y.length*Math.random()>>0,k=y.length*Math.random()>>0;v.push({type:"extra",source:y[S],target:y[k]})}d.extraLinks=v}e.root=d;var M=d.descendants(),A=d.links(),I=d.extraLinks.filter(function(t){return M.indexOf(t.source)>=0&&M.indexOf(t.target)>=0});M.forEach(function(t,e){var n=na(s)?s(t,e):s,o=na(a)?a(t,e):a,l=f(t.x,t.y),h=l[0],d=l[1],p=(t.x/Math.PI*180+360)%360,g=(t.x+(p<180&&p>0?-.5:.5))*Math.PI;u.push({position:l,shape:{symbolType:n,width:6,height:6,x:r/2-3,y:i/2-3},style:o,node:t,data:t.data}),c.push({style:{text:11111111},position:[h+r/2,d+i/2],rotation:g||p<180?Math.PI/2-t.x:-Math.PI/2-t.x})}),A.concat(I).forEach(function(t){var e,n=f(t.source.x,t.source.y),o=f(t.target.x,t.target.y);e="extra"==t.type?"rgba(200, 200, 200, .15)":t.highlight?"red":"rgba(0, 0, 0, .1)",h.push({style:{stroke:e,lineWidth:1},shape:{x1:n[0]+r/2,y1:n[1]+i/2,x2:o[0]+r/2,y2:o[1]+i/2}})}),this.setShapeGroup("edges",Vc,h),this.setShapeGroup("nodes",Vd,u,{},function(e){e.on("click",function(e){var n=t.get("expandAndCollapse"),r=e.target.node;n&&(r.children?(r._children=r.children,r.children=null,t.dirty()):r._children&&(r.children=r._children,t.dirty()))}),e.on("mouseover",function(e){e.target.node.links().forEach(function(t){t.highlight=!0}),t.dirty()})})},e}(Ad);qS.type=US,Tp(VS,qS);var YS="elbow",$S=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=YS,r.initialized=!1,c(r,n)}return u(e,t),e.prototype.update=function(){},e}(Pd);$S.type=YS,$S.emphasisList=["label","node","link"],$S.defaultOption={zlevel:0,z:1,label:{normal:{show:!0,silent:!0,formatter:void 0,style:{fill:"#5097f8",opacity:.8}},emphasis:{}},node:{normal:{show:!0,type:"circle",size:10,style:{stroke:"#5097f8",fill:"white"}}},link:{normal:{show:!0,style:{stroke:"#67cacb"}}}};var XS="ÈäÜÂ±ª‚Ç¨Â∂É‚Ç¨Â∫õ‚Ç¨Âøä‚Ç¨Ê∫æ‚Ç¨ÊøÉ‚Ç¨Ê®∑‚Ç¨Ê¨ôÁ¥ôÈîõÂ§à‚Ç¨ÊÑ©‚Ç¨Êàô‚Ç¨Ê†•‚Ç¨Ê§º‚Ç¨Êñª‚Ç¨Êõ™ËìüÈîõÊñ§Á∂ìÈîùÊøÉË¥üÈà•Êñ∫‚Ç¨Ô∏πÊ£åÈà•‚ë©‚Ç¨ÊìÑÁ∂ñ~ÈîùÁÉáÁ∂ñË∑ØÈîïÂøã‚Ç¨Â®ø‚Ç¨Â¨®‚Ç¨Â†õ‚Ç¨Â§õ‰ºé/ÈîõÂøã‚Ç¨ÂÇ¶Á¥ùÈäÜ‰æäÁ¥üÈîõÊ∞æÁ¥±Èîõ‰Ω≤‚Ç¨Á°∑Á¥µÈà¶ÔøΩ ",KS="ÈäÜÂÇ¶Á¥ùÈäÜ‰æäÁ¥üÈîõÊ∞æÁ¥±Èîõ‰Ω≤‚Ç¨Á°∑Á¥µÈà¶Âõ•‚Ç¨Â∂É‚Ç¨Âøä‚Ç¨ÊøÉ‚Ç¨Ê¨ôÁ¥öÈäÜÊàô‚Ç¨Ê§º‚Ç¨Êõ™ÂÜÄÈîùÊøÑ‚Ç¨Â¨®‚Ç¨ÔøΩ ",ZS="ÈäÜÂ±ª‚Ç¨Â∫ò‚Ç¨Ê∫æ‚Ç¨Ê©àÁ¥ôÈäÜÊÑ©‚Ç¨Ê†•‚Ç¨ÊóìËìüÈîùÊ∂ñ‚Ç¨Â®ø‚Ç¨ÔøΩ ",QS="Èà•Â∞ñ‰∫£È£ßË°°‚Ç¨ÔøΩ",JS=["\\u1100-\\u11FF","\\u2E80-\\u2EFF","\\u2F00-\\u2FDF","\\u2FF0-\\u2FFF","\\u3000-\\u303F","\\u3040-\\u309F","\\u30A0-\\u30FF","\\u3100-\\u312F","\\u3130-\\u318F","\\u3190-\\u319F","\\u31A0-\\u31BF","\\u31F0-\\u31FF","\\u3200-\\u32FF","\\u3300-\\u33FF","\\u3400-\\u4DBF","\\u4DC0-\\u4DFF","\\u4E00-\\u9FFF","\\uAC00-\\uD7AF","\\uF900-\\uFAFF","\\uFE30-\\uFE4F","\\uFF00-\\uFFEF","\\u{1D300}-\\u{1D35F}","\\u{20000}-\\u{2A6DF}","\\u{2A700}-\\u{2B73F}","\\u{2B740}-\\u{2B81F}","\\u{2B820}-\\u{2CEAF}","\\u{2CEB0}-\\u{2EBEF}","\\u{2F800}-\\u{2FA1F}"],tk=void 0;try{tk=new RegExp("["+JS.join("")+"]","u")}catch(t){tk=new RegExp("["+JS.slice(0,21).join("")+"]")}var ek=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function nk(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var rk=document.createElement("canvas").getContext("2d");rk.font="18px sans-serif";var ik=18===rk.measureText("Ê∂ìÔøΩ").width,ok={fontFamily:"sans-serif",gridSize:26,column:25,row:1/0,xInterval:0,yInterval:12,letterSpacing:0,inlineCompression:!0,forceGridAlignment:!0,westernCharacterFirst:!1,forceSpaceBetweenCJKAndWestern:!1,fixLeftQuote:!0};function ak(t,e,n,r,i,o,a){var s=e.fontFamily,l=e.gridSize,u=e.yInterval,h=e.letterSpacing,c=[],f=l,d="",p=[],g=!1;" "!==t[t.length-1].character&&t.push({fontSize:0,character:" "});var v=!0,y=!1,m=void 0;try{for(var x,_=t[Symbol.iterator]();!(v=(x=_.next()).done);v=!0){var w=x.value,b=w.fontSize,S=w.character;if(f=Math.max(f,b)," "===S){if(o-n<rk.measureText(d).width&&(n=0,r+=f+u,g=!0,(i+=1)>=a))break;var k=!0,M=!1,A=void 0;try{for(var I,T=p[Symbol.iterator]();!(k=(I=T.next()).done);k=!0){var C=I.value,E=C.fontSize,z=(C.character,(E-l)/2);c.push(Object.assign({},C,{x:n,y:r-z})),n+=C.width+h}}catch(t){M=!0,A=t}finally{try{!k&&T.return&&T.return()}finally{if(M)throw A}}n+=.35*l,d="",p=[]}else{rk.font=b+"px "+s;var L=rk.measureText(S).width;d+=S,p.push(Object.assign({},w,{width:L,height:b}))}}}catch(t){y=!0,m=t}finally{try{!v&&_.return&&_.return()}finally{if(y)throw m}}return[c,n-.35*l,r,i,g]}var sk=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=YS,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){n.getHeight();var r=t.get("node").normal,i=r.style,o=(r.size,r.type),a=t.getData(),s=[],l=[],u=[],h=[],c=[],f=function t(e){return ea(e)?e.map(function(e){return t(e)}):.5+(e>>0)},d=a.stockholder||[],p=a.subsidiary||[],g={label:a.name},v=e.getComponentByIndex("grid",0).position,y=v.width,m=v.left,x=v.top,_=[],w=[];0==d.length?g.tx=y/4:0==p.length?g.tx=3*y/4:g.tx=y/2,g.ty=20,g.sign="center",g.tx+=m,g.ty+=x,_.push(g),p.forEach(function(t,e){t.tx=y-94,t.ty=20+60*e,t.sign="to"}),d.forEach(function(t,e){t.tx=94,t.ty=20+60*e,t.sign="from"}),p.concat(d).forEach(function(t,e){na(o)&&o(t,e);var n=na(i)?i(t,e):i;t.style=n,t.tx+=m,t.ty+=x,_.push(t);var r={x:t.ty,y:t.tx},a={x:g.ty,y:g.tx};w.push({source:a,target:r,label:t.label,textFill:n.stroke,sign:t.sign,value:t.value})}),_.forEach(function(t,e){na(o)&&o(t,e);var n=na(i)?i(t,e):i,r=void 0;r="center"==t.sign?t.tx-47:t.tx<y/2?t.tx-94:t.tx;var a=t.ty-20;s.push({shape:{width:93,height:40,r:2},position:f([r,a]),style:n,node:t,data:t.data});var l=function(t,e,n){for(var r,i=e=Object.assign({},ok,e),o=i.fontFamily,a=i.gridSize,s=i.column,l=i.row,u=i.xInterval,h=i.yInterval,c=i.inlineCompression,f=i.forceGridAlignment,d=i.westernCharacterFirst,p=i.forceSpaceBetweenCJKAndWestern,g=i.fixLeftQuote,v=0,y=0,m=0,x=0,_=!1,w=0,b=!1,S=a,k=[],M=d,A=[],I=function(){v=0,m=0,x+=1,y+=S+h,S=a,_=!1,w=0,b=!1},T=[].concat(nk(t),[{fontSize:12,character:"ÈäÜ‚Ç¨"}]),C=0;C<T.length;C++){var E=T[C],z=E.fontSize,L=E.character;if(c&&_&&!XS.includes(L)&&(v+=w/2+u,m+=.5,_=!1),/[ Èà•Ê∫æ‚Ç¨ÊøÉ‚Ç¨Ê®∑‚Ç¨Ê©æ/.test(L)&&M)k.push(E);else if(r=L,tk.test(r)||/[\n Èà•Ê∫æ‚Ç¨ÊøÉ‚Ç¨Ê®∑‚Ç¨Ê©æ/.test(L)){if(k.length){var O=p?.25*a:0;v&&(v+=O);var D,P,F=void 0,N=ak(k,e,v,y,x,s*a,l),R=ek(N,5);F=R[0],P=R[1],y=R[2],x=R[3],D=R[4],m=Math.ceil(P/(a+u)),v=m*(a+u),D||function(){v-P<O&&(v=(m+=1)*a);var t=(O+v-P)/2-O;F=F.map(function(e){return e.x+=t,n&&n(e)||e})}(),A.push.apply(A,nk(F)),M=!1,k=[]}var B=!1;if(m>=s&&(B=!0,(!KS.includes(L)||ZS.includes(L)||b)&&I()),"\n"!==L){rk.font=z+"px "+o;var W=rk.measureText(L).width,j=0,G=(z-a)/2,H=!1;f&&z!==a&&(m+=(j=+f*(z-a)/2)>0?Math.ceil(2*j/(a+u)):0,j=((1+Math.ceil(2*j/(a+u)))*(a+u)-z)/2,v+=j,m>=s&&!KS.includes(L)&&(I(),H=!0));var U=0;U+=_||"Èà•ÔøΩ"!==L?0:z/2,g&&("Èà•ÔøΩ"!==L||ik?"Èà•ÔøΩ"===L&&W===z&&(U+=-z/2):U+=-z/2);var V=Object.assign({},E,{x:v+U,y:y-G,width:W,height:z});A.push(n&&n(V)||V);var q=j*(H?2:1);if(q>a&&(q-=a,m-=1),v+=q,B&&KS.includes(L)&&!QS.includes(L)?(v+=z/2,(m+=.5)%1!=.5&&(b=!0)):c&&XS.includes(L)&&!QS.includes(L)?(v+=z/2+u*+_,m+=.5,_=!_):(v+=z+u,m+=1),S=Math.max(S,z),w=z,x>=l)break}else!B&&I()}else M=!0,k.push(E)}return A.pop(),A}(t.label.replace(/\r\n/g,"\n").split("").map(function(t){return{fontSize:12,character:t}}),{fontSize:12,gridSize:12,yInterval:6,column:7,row:2}),h=Array.isArray(l),c=0;for(l=h?l:l[Symbol.iterator]();;){var d;if(h){if(c>=l.length)break;d=l[c++]}else{if((c=l.next()).done)break;d=c.value}var p=d;u.push({style:{fontSize:12,text:p.character,textPadding:[4,5],textFill:n.textFill},position:[r+p.x,a+p.y]})}}),w.forEach(function(t,e){var n=t.source.y,r=t.source.x,i=t.target.y,o=t.target.x,a=(n+i)/2,s=r,u=a,d=o,p="from"==t.sign?"#ff5753":"#159cbf",g=[];g=w[e+1]&&w[e+1].sign==w[e].sign?[[u,o],[i,o]]:[[n,r],[a,s],[u,d],[i,o]],l.push({style:{stroke:p},shape:{data:f(g)}}),"to"!=t.sign&&"from"===w[e-1].sign||c.push({shape:{symbolType:"triangle",width:8,height:8,x:-4},style:{fill:t.textFill},position:"from"==t.sign?f([n-47,r]):f([i,o]),rotation:-Math.PI/2}),h.push({style:{text:t.value,textAlign:"center",textVerticalAlign:"bottom",y:-5,textFill:t.textFill},position:[(i+u)/2,o]})}),this.setShapeGroup("edges",df,l),this.setShapeGroup("nodes",Hc,s),this.setShapeGroup("texts",Ec,u),this.setShapeGroup("arrow",Vd,c),this.setShapeGroup("tips",Ec,h)},e}(Ad);sk.type=YS,Tp($S,sk);var lk="arcshape",uk=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=lk,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove(),this.group.position=[25,25];var r=n.getWidth()-50,i=n.getHeight(),o=t.getData(),a=o.nodes,s=o.edges;function l(t){return"ggfr"==t.type||"rzgd"==t.type}var u=cg().key(function(t){return t.id}).map(a),h=(cg().key(function(t){return t.to}).map(s),cg().key(function(t){return t.from}).map(s)),c=(lg(a,l),{btzgs:-1,center:0,tzgs:1}),f=a.filter(l),d=a.filter(function(t){return!("ggfr"==t.type||"rzgd"==t.type)}).sort(function(t,e){return c[e.type]-c[t.type]});f.forEach(function(t){var e=t.id,n=h.get(e)[0].to,r=u.get(n)[0];r.children=r.children||[],-1==r.children.indexOf(t)&&r.children.push(t),t.parentNode=r});var p=[];d.forEach(function(t){var e=t.children;e&&e.forEach(function(t){p.push(t)})}),f=p;d.filter(function(t){return t.children&&t.children.length>0}).length;!function(){for(var t=0;t<d.length;t++){var e=d[t],n=r/d.length;e.x=n*t,e.y=.6*i}for(var o=0;o<f.length;o++){var a=f[o],s=r/f.length;a.x=s*o,a.y=.9*i}}(),a.forEach(function(t){var e=t.type,n="#4b667b";"tzgs"==e||"jccg"==e?n="#414DF5":"btzgs"==e?n="#B5DD8F":"rzgd"==e?n="#F3BA45":"ggfr"==e&&(n="#EB7B4F"),t.color=n}),s.forEach(function(t){t.source=u.get(t.from)[0],t.target=u.get(t.to)[0]});var g=[],v=[],y=[],m={stroke:"#505050",opacity:.05,lineWidth:2};a.forEach(function(t){g.push({shape:{cx:t.x,cy:t.y,r:5},style:{fill:t.color},data:t})}),s.forEach(function(t){l(t.source)||l(t.target)?y.push({shape:{x1:t.source.x,y1:t.source.y,x2:t.target.x,y2:t.target.y},style:m,data:t}):v.push({shape:{cx:(t.source.x+t.target.x)/2,cy:(t.source.y+t.target.y)/2,r:Math.abs(t.source.x-t.target.x)/2,startAngle:Math.PI,endAngle:0,clockwise:!0},style:m,data:t})});var x=this.setShapeGroup("arclinks",Xc,v),_=this.setShapeGroup("links",Vc,y),w=this.setShapeGroup("nodes",zc,g,{},function(t){t.on("mouseover",function(t){var e=t.target.data;_.children().forEach(function(t){t.data.source!=e&&t.data.target!=e||t.setStyle({stroke:t.data.source.color,opacity:.5})}),x.children().forEach(function(t){t.data.source!=e&&t.data.target!=e||t.setStyle({stroke:t.data.source.color,opacity:.5})})}),t.on("mouseout",function(t){_.children().forEach(function(t){t.setStyle(m)}),x.children().forEach(function(t){t.setStyle(m)})})});this.group.add(x),this.group.add(_),this.group.add(w)},e}(Ad);uk.type=lk;var hk="arcshape",ck=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=hk,c(r,n)}return u(e,t),e.prototype.update=function(){},e}(Pd);ck.type=hk,ck.defaultOption={},Tp(ck,uk);var fk="dagre",dk=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fk,c(r,n)}return u(e,t),e}(Pd);dk.type=fk,dk.defaultOption={zlevel:0,z:1,isTop:!1,limited:!0,node:{rankStep:80,entireLabel:!1,shape:{width:80,height:30,r:15},style:{normal:{colors:{origin:"rgb(47, 151, 255)",process:"rgba(169, 210, 251)",end:"rgba(43, 87, 194, 1)"},fontSize:14,textFill:"rgb(255, 255 ,255)",stroke:"rgb(47, 151, 255)",lineWidth:1},emphasis:{}}},link:{arrowSize:[3,6],lineWidth:[1,3],label:{type:"percent",fontSize:10,textFill:"rgb(47, 151, 255)"},style:{normal:{stroke:"rgb(47, 151, 255)",opacity:.4,dashFill:"rgb(47, 151, 255)",lineDash:[5,5]},emphasis:{}}}};var pk="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var gk,vk=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){(function(){var n,r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",h=1,c=2,f=4,d=1,p=2,g=1,v=2,y=4,m=8,x=16,_=32,w=64,b=128,S=256,k=512,M=30,A="...",I=800,T=16,C=1,E=2,z=1/0,L=9007199254740991,O=1.7976931348623157e308,D=NaN,P=4294967295,F=P-1,N=P>>>1,R=[["ary",b],["bind",g],["bindKey",v],["curry",m],["curryRight",x],["flip",k],["partial",_],["partialRight",w],["rearg",S]],B="[object Arguments]",W="[object Array]",j="[object AsyncFunction]",G="[object Boolean]",H="[object Date]",U="[object DOMException]",V="[object Error]",q="[object Function]",Y="[object GeneratorFunction]",$="[object Map]",X="[object Number]",K="[object Null]",Z="[object Object]",Q="[object Proxy]",J="[object RegExp]",tt="[object Set]",et="[object String]",nt="[object Symbol]",rt="[object Undefined]",it="[object WeakMap]",ot="[object WeakSet]",at="[object ArrayBuffer]",st="[object DataView]",lt="[object Float32Array]",ut="[object Float64Array]",ht="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",dt="[object Uint8Array]",pt="[object Uint8ClampedArray]",gt="[object Uint16Array]",vt="[object Uint32Array]",yt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,bt=RegExp(_t.source),St=RegExp(wt.source),kt=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Ct=/^\./,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(zt.source),Ot=/^\s+|\s+$/g,Dt=/^\s+/,Pt=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Yt=/^(?:0|[1-9]\d*)$/,$t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="[\\ud800-\\udfff]",te="["+Qt+"]",ee="["+Zt+"]",ne="\\d+",re="[\\u2700-\\u27bf]",ie="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Qt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",se="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ce="(?:"+ie+"|"+oe+")",fe="(?:"+he+"|"+oe+")",de="(?:"+ee+"|"+ae+")"+"?",pe="[\\ufe0e\\ufe0f]?"+de+("(?:\\u200d(?:"+[se,le,ue].join("|")+")[\\ufe0e\\ufe0f]?"+de+")*"),ge="(?:"+[re,le,ue].join("|")+")"+pe,ve="(?:"+[se+ee+"?",ee,le,ue,Jt].join("|")+")",ye=RegExp("['Èà•Ê©æ","g"),me=RegExp(ee,"g"),xe=RegExp(ae+"(?="+ae+")|"+ve+pe,"g"),_e=RegExp([he+"?"+ie+"+(?:['Èà•Ê©æ(?:d|ll|m|re|s|t|ve))?(?="+[te,he,"$"].join("|")+")",fe+"+(?:['Èà•Ê©æ(?:D|LL|M|RE|S|T|VE))?(?="+[te,he+ce,"$"].join("|")+")",he+"?"+ce+"+(?:['Èà•Ê©æ(?:d|ll|m|re|s|t|ve))?",he+"+(?:['Èà•Ê©æ(?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",ne,ge].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),be=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ke=-1,Me={};Me[lt]=Me[ut]=Me[ht]=Me[ct]=Me[ft]=Me[dt]=Me[pt]=Me[gt]=Me[vt]=!0,Me[B]=Me[W]=Me[at]=Me[G]=Me[st]=Me[H]=Me[V]=Me[q]=Me[$]=Me[X]=Me[Z]=Me[J]=Me[tt]=Me[et]=Me[it]=!1;var Ae={};Ae[B]=Ae[W]=Ae[at]=Ae[st]=Ae[G]=Ae[H]=Ae[lt]=Ae[ut]=Ae[ht]=Ae[ct]=Ae[ft]=Ae[$]=Ae[X]=Ae[Z]=Ae[J]=Ae[tt]=Ae[et]=Ae[nt]=Ae[dt]=Ae[pt]=Ae[gt]=Ae[vt]=!0,Ae[V]=Ae[q]=Ae[it]=!1;var Ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Te=parseFloat,Ce=parseInt,Ee="object"==(void 0===pk?"undefined":a(pk))&&pk&&pk.Object===Object&&pk,ze="object"==("undefined"==typeof self?"undefined":a(self))&&self&&self.Object===Object&&self,Le=Ee||ze||Function("return this")(),Oe=e&&!e.nodeType&&e,De=Oe&&t&&!t.nodeType&&t,Pe=De&&De.exports===Oe,Fe=Pe&&Ee.process,Ne=function(){try{return Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}(),Re=Ne&&Ne.isArrayBuffer,Be=Ne&&Ne.isDate,We=Ne&&Ne.isMap,je=Ne&&Ne.isRegExp,Ge=Ne&&Ne.isSet,He=Ne&&Ne.isTypedArray;function Ue(t,e){return t.set(e[0],e[1]),t}function Ve(t,e){return t.add(e),t}function qe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ye(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function $e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ze(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Qe(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function tn(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function en(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function nn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function rn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function on(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var an=dn("length");function sn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function ln(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ln(t,cn,n)}function hn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?vn(t,e)/n:D}function dn(t){return function(e){return null==e?n:e[t]}}function pn(t){return function(e){return null==t?n:t[e]}}function gn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function vn(t,e){for(var r,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==n&&(r=r===n?a:r+a)}return r}function yn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function xn(t,e){return tn(e,function(e){return t[e]})}function _n(t,e){return t.has(e)}function wn(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function bn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var Sn=pn({"ËÑå":"A","ËÑï":"A","ËÑó":"A","ËÑô":"A","ËÑõ":"A","ËÑú":"A","ËÑø":"a","Ë∞©":"a","Ëäí":"a","Ëå´":"a","Áõ≤":"a","Ê∞ì":"a","ËÑü":"C","ËéΩ":"c","ËÑ®":"D","ÂÜí":"d","ËÑ†":"E","ËÑ°":"E","ËÑ¢":"E","ËÑ£":"E","Áå´":"e","ËåÖ":"e","Èîö":"e","ÊØõ":"e","ËÑ§":"I","ËÑ•":"I","ËÑ¶":"I","ËÑß":"I","Áüõ":"i","ÈìÜ":"i","ÂçØ":"i","ËåÇ":"i","ËÑ©":"N","Â∏Ω":"n","ËÑ™":"O","ËÑ´":"O","ËÑ≠":"O","ËÑÆ":"O","ËÑ∞":"O","ËÑ¥":"O","Ë≤å":"o","Ë¥∏":"o","‰πà":"o","Áé´":"o","Êûö":"o","ÈÖ∂":"o","ËÑµ":"U","ËÑ∑":"U","ËÑπ":"U","ËÑ∫":"U","Èúâ":"u","ÁÖ§":"u","Ê≤°":"u","Áúâ":"u","ËÑª":"Y","Â™í":"y","ÊØè":"y","ËÑù":"Ae","Âøô":"ae","ËÑº":"Th","ÈïÅ":"th","ËÑΩ":"ss","ËÜß":"A","ËÜ´":"A","ËÜ≠":"A","ËÜ©":"a","ËÜ¨":"a","ËÜÆ":"a","ËÜØ":"C","ËÜ±":"C","ËÜ¥":"C","ËÜ∂":"C","ËÜ∞":"c","ËÜ≤":"c","ËÜµ":"c","ËÜ∑":"c","ËÜ∏":"D","ËÜº":"D","ËÜπ":"d","ËÜΩ":"d","ËÜæ":"E","ËáÑ":"E","Ëáá":"E","Ëáâ":"E","Ëáç":"E","ËÜø":"e","ËáÖ":"e","Ëáà":"e","Ëáã":"e","Ëáé":"e","Ëáè":"G","Ëáë":"G","Ëáì":"G","Ëòë":"G","Ëáê":"g","Ëáí":"g","Êëπ":"g","Ê®°":"g","ËÜú":"H","Êë©":"H","Á£®":"h","È≠î":"h","Êäπ":"I","Ëé´":"I","Èªò":"I","Êº†":"I","Èôå":"I","Êú´":"i","Â¢®":"i","Ê≤´":"i","ÂØû":"i","Ë∞ã":"i","Êãá":"J","Áâ°":"j","‰∫©":"K","ÂßÜ":"k","ÊØç":"k","Â¢ì":"L","Âπï":"L","ÊÖï":"L","ÁõÆ":"L","ËâÅ":"L","ÊöÆ":"l","Âãü":"l","Êú®":"l","ËâÄ":"l","ËâÇ":"l","ËâÉ":"N","ËâÜ":"N","Ëâä":"N","Ëâé":"N","ËâÖ":"n","Ëâà":"n","Ëâå":"n","Ëâê":"n","Ëâë":"O","Ëâì":"O","Ëâï":"O","Ëâí":"o","Ëâî":"o","Ëâñ":"o","Ëâõ":"R","Ëâù":"R","Ëâ†":"R","Ëâú":"r","Ëâû":"r","Ëâ°":"r","Ëâ¢":"S","Ëâ§":"S","Ëâ¶":"S","Ëâ©":"S","Ëâ£":"s","Ëâ•":"s","Ëâß":"s","Êãß":"s","Ê≥û":"T","Êâ≠":"T","Á∫Ω":"T","Áâõ":"t","ÈíÆ":"t","ËÑì":"t","Êµì":"U","ÂºÑ":"U","Âä™":"U","Â•≥":"U","Ëôê":"U","Êå™":"U","ÂÜú":"u","Â•¥":"u","ÊÄí":"u","Êöñ":"u","Áñü":"u","Êá¶":"u","Á≥Ø":"W","ËØ∫":"w","Âì¶":"Y","Ê¨ß":"y","È∏•":"Y","ÊÆ¥":"Z","Âëï":"Z","Ê≤§":"Z","Ëóï":"z","ÂÅ∂":"z","Âï™":"z","Áâü":"IJ","Êüê":"ij","Ëâó":"Oe","Ëâô":"oe","Ëâç":"'n","Ë∂¥":"s"}),kn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mn(t){return"\\"+Ie[t]}function An(t){return we.test(t)}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Tn(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function En(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function zn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Ln(t){return An(t)?function(t){var e=xe.lastIndex=0;for(;xe.test(t);)++e;return e}(t):an(t)}function On(t){return An(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.split("")}(t)}var Dn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function t(e){var Zt,Qt=(e=null==e?Le:Pn.defaults(Le.Object(),e,Pn.pick(Le,Se))).Array,Jt=e.Date,te=e.Error,ee=e.Function,ne=e.Math,re=e.Object,ie=e.RegExp,oe=e.String,ae=e.TypeError,se=Qt.prototype,le=ee.prototype,ue=re.prototype,he=e["__core-js_shared__"],ce=le.toString,fe=ue.hasOwnProperty,de=0,pe=(Zt=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||""))?"Symbol(src)_1."+Zt:"",ge=ue.toString,ve=ce.call(re),xe=Le._,we=ie("^"+ce.call(fe).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=Pe?e.Buffer:n,Ee=e.Symbol,ze=e.Uint8Array,Oe=Ie?Ie.allocUnsafe:n,De=Tn(re.getPrototypeOf,re),Fe=re.create,Ne=ue.propertyIsEnumerable,an=se.splice,pn=Ee?Ee.isConcatSpreadable:n,Fn=Ee?Ee.iterator:n,Nn=Ee?Ee.toStringTag:n,Rn=function(){try{var t=Ho(re,"defineProperty");return t({},"",{}),t}catch(t){}}(),Bn=e.clearTimeout!==Le.clearTimeout&&e.clearTimeout,Wn=Jt&&Jt.now!==Le.Date.now&&Jt.now,jn=e.setTimeout!==Le.setTimeout&&e.setTimeout,Gn=ne.ceil,Hn=ne.floor,Un=re.getOwnPropertySymbols,Vn=Ie?Ie.isBuffer:n,qn=e.isFinite,Yn=se.join,$n=Tn(re.keys,re),Xn=ne.max,Kn=ne.min,Zn=Jt.now,Qn=e.parseInt,Jn=ne.random,tr=se.reverse,er=Ho(e,"DataView"),nr=Ho(e,"Map"),rr=Ho(e,"Promise"),ir=Ho(e,"Set"),or=Ho(e,"WeakMap"),ar=Ho(re,"create"),sr=or&&new or,lr={},ur=pa(er),hr=pa(nr),cr=pa(rr),fr=pa(ir),dr=pa(or),pr=Ee?Ee.prototype:n,gr=pr?pr.valueOf:n,vr=pr?pr.toString:n;function yr(t){if(zs(t)&&!_s(t)&&!(t instanceof wr)){if(t instanceof _r)return t;if(fe.call(t,"__wrapped__"))return ga(t)}return new _r(t)}var mr=function(){function t(){}return function(e){if(!Es(e))return{};if(Fe)return Fe(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function xr(){}function _r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function wr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Sr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new kr;++e<n;)this.add(t[e])}function Ar(t){var e=this.__data__=new Sr(t);this.size=e.size}function Ir(t,e){var n=_s(t),r=!n&&xs(t),i=!n&&!r&&ks(t),o=!n&&!r&&!i&&Bs(t),a=n||r||i||o,s=a?yn(t.length,oe):[],l=s.length;for(var u in t)!e&&!fe.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ko(u,l))||s.push(u);return s}function Tr(t){var e=t.length;return e?t[Mi(0,e-1)]:n}function Cr(t,e){return ca(ao(t),Rr(e,0,t.length))}function Er(t){return ca(ao(t))}function zr(t,e,r){(r===n||vs(t[e],r))&&(r!==n||e in t)||Fr(t,e,r)}function Lr(t,e,r){var i=t[e];fe.call(t,e)&&vs(i,r)&&(r!==n||e in t)||Fr(t,e,r)}function Or(t,e){for(var n=t.length;n--;)if(vs(t[n][0],e))return n;return-1}function Dr(t,e,n,r){return Hr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Pr(t,e){return t&&so(e,sl(e),t)}function Fr(t,e,n){"__proto__"==e&&Rn?Rn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Nr(t,e){for(var r=-1,i=e.length,o=Qt(i),a=null==t;++r<i;)o[r]=a?n:nl(t,e[r]);return o}function Rr(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function Br(t,e,r,i,o,a){var s,l=e&h,u=e&c,d=e&f;if(r&&(s=o?r(t,i,o,a):r(t)),s!==n)return s;if(!Es(t))return t;var p=_s(t);if(p){if(s=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return ao(t,s)}else{var g=qo(t),v=g==q||g==Y;if(ks(t))return to(t,l);if(g==Z||g==B||v&&!o){if(s=u||v?{}:$o(t),!l)return u?function(t,e){return so(t,Vo(t),e)}(t,function(t,e){return t&&so(e,ll(e),t)}(s,t)):function(t,e){return so(t,Uo(t),e)}(t,Pr(s,t))}else{if(!Ae[g])return o?t:{};s=function(t,e,n,r){var i,o,a,s=t.constructor;switch(e){case at:return eo(t);case G:case H:return new s(+t);case st:return function(t,e){var n=e?eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case lt:case ut:case ht:case ct:case ft:case dt:case pt:case gt:case vt:return no(t,r);case $:return function(t,e,n){return nn(e?n(In(t),h):In(t),Ue,new t.constructor)}(t,r,n);case X:case et:return new s(t);case J:return(a=new(o=t).constructor(o.source,Gt.exec(o))).lastIndex=o.lastIndex,a;case tt:return function(t,e,n){return nn(e?n(En(t),h):En(t),Ve,new t.constructor)}(t,r,n);case nt:return i=t,gr?re(gr.call(i)):{}}}(t,g,Br,l)}}a||(a=new Ar);var y=a.get(t);if(y)return y;a.set(t,s);var m=p?n:(d?u?Fo:Po:u?ll:sl)(t);return $e(m||t,function(n,i){m&&(n=t[i=n]),Lr(s,i,Br(n,e,r,i,t,a))}),s}function Wr(t,e,r){var i=r.length;if(null==t)return!i;for(t=re(t);i--;){var o=r[i],a=e[o],s=t[o];if(s===n&&!(o in t)||!a(s))return!1}return!0}function jr(t,e,r){if("function"!=typeof t)throw new ae(o);return sa(function(){t.apply(n,r)},e)}function Gr(t,e,n,i){var o=-1,a=Qe,s=!0,l=t.length,u=[],h=e.length;if(!l)return u;n&&(e=tn(e,mn(n))),i?(a=Je,s=!1):e.length>=r&&(a=_n,s=!1,e=new Mr(e));t:for(;++o<l;){var c=t[o],f=null==n?c:n(c);if(c=i||0!==c?c:0,s&&f==f){for(var d=h;d--;)if(e[d]===f)continue t;u.push(c)}else a(e,f,i)||u.push(c)}return u}yr.templateSettings={escape:kt,evaluate:Mt,interpolate:At,variable:"",imports:{_:yr}},yr.prototype=xr.prototype,yr.prototype.constructor=yr,_r.prototype=mr(xr.prototype),_r.prototype.constructor=_r,wr.prototype=mr(xr.prototype),wr.prototype.constructor=wr,br.prototype.clear=function(){this.__data__=ar?ar(null):{},this.size=0},br.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},br.prototype.get=function(t){var e=this.__data__;if(ar){var r=e[t];return r===s?n:r}return fe.call(e,t)?e[t]:n},br.prototype.has=function(t){var e=this.__data__;return ar?e[t]!==n:fe.call(e,t)},br.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ar&&e===n?s:e,this},Sr.prototype.clear=function(){this.__data__=[],this.size=0},Sr.prototype.delete=function(t){var e=this.__data__,n=Or(e,t);return!(n<0||(n==e.length-1?e.pop():an.call(e,n,1),--this.size,0))},Sr.prototype.get=function(t){var e=this.__data__,r=Or(e,t);return r<0?n:e[r][1]},Sr.prototype.has=function(t){return Or(this.__data__,t)>-1},Sr.prototype.set=function(t,e){var n=this.__data__,r=Or(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},kr.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(nr||Sr),string:new br}},kr.prototype.delete=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},kr.prototype.get=function(t){return jo(this,t).get(t)},kr.prototype.has=function(t){return jo(this,t).has(t)},kr.prototype.set=function(t,e){var n=jo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mr.prototype.add=Mr.prototype.push=function(t){return this.__data__.set(t,s),this},Mr.prototype.has=function(t){return this.__data__.has(t)},Ar.prototype.clear=function(){this.__data__=new Sr,this.size=0},Ar.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ar.prototype.get=function(t){return this.__data__.get(t)},Ar.prototype.has=function(t){return this.__data__.has(t)},Ar.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Sr){var i=n.__data__;if(!nr||i.length<r-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new kr(i)}return n.set(t,e),this.size=n.size,this};var Hr=ho(Zr),Ur=ho(Qr,!0);function Vr(t,e){var n=!0;return Hr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function qr(t,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(l===n?s==s&&!Rs(s):r(s,l)))var l=s,u=a}return u}function Yr(t,e){var n=[];return Hr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function $r(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Xo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?$r(s,e-1,n,r,i):en(i,s):r||(i[i.length]=s)}return i}var Xr=co(),Kr=co(!0);function Zr(t,e){return t&&Xr(t,e,sl)}function Qr(t,e){return t&&Kr(t,e,sl)}function Jr(t,e){return Ze(e,function(e){return Is(t[e])})}function ti(t,e){for(var r=0,i=(e=Ki(e,t)).length;null!=t&&r<i;)t=t[da(e[r++])];return r&&r==i?t:n}function ei(t,e,n){var r=e(t);return _s(t)?r:en(r,n(t))}function ni(t){return null==t?t===n?rt:K:Nn&&Nn in re(t)?function(t){var e=fe.call(t,Nn),r=t[Nn];try{t[Nn]=n;var i=!0}catch(t){}var o=ge.call(t);return i&&(e?t[Nn]=r:delete t[Nn]),o}(t):function(t){return ge.call(t)}(t)}function ri(t,e){return t>e}function ii(t,e){return null!=t&&fe.call(t,e)}function oi(t,e){return null!=t&&e in re(t)}function ai(t,e,r){for(var i=r?Je:Qe,o=t[0].length,a=t.length,s=a,l=Qt(a),u=1/0,h=[];s--;){var c=t[s];s&&e&&(c=tn(c,mn(e))),u=Kn(c.length,u),l[s]=!r&&(e||o>=120&&c.length>=120)?new Mr(s&&c):n}c=t[0];var f=-1,d=l[0];t:for(;++f<o&&h.length<u;){var p=c[f],g=e?e(p):p;if(p=r||0!==p?p:0,!(d?_n(d,g):i(h,g,r))){for(s=a;--s;){var v=l[s];if(!(v?_n(v,g):i(t[s],g,r)))continue t}d&&d.push(g),h.push(p)}}return h}function si(t,e,r){var i=null==(t=oa(t,e=Ki(e,t)))?t:t[da(Aa(e))];return null==i?n:qe(i,t,r)}function li(t){return zs(t)&&ni(t)==B}function ui(t,e,r,i,o){return t===e||(null==t||null==e||!zs(t)&&!zs(e)?t!=t&&e!=e:function(t,e,r,i,o,a){var s=_s(t),l=_s(e),u=s?W:qo(t),h=l?W:qo(e),c=(u=u==B?Z:u)==Z,f=(h=h==B?Z:h)==Z,g=u==h;if(g&&ks(t)){if(!ks(e))return!1;s=!0,c=!1}if(g&&!c)return a||(a=new Ar),s||Bs(t)?Oo(t,e,r,i,o,a):function(t,e,n,r,i,o,a){switch(n){case st:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case at:return!(t.byteLength!=e.byteLength||!o(new ze(t),new ze(e)));case G:case H:case X:return vs(+t,+e);case V:return t.name==e.name&&t.message==e.message;case J:case et:return t==e+"";case $:var s=In;case tt:var l=r&d;if(s||(s=En),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=p,a.set(t,e);var h=Oo(s(t),s(e),r,i,o,a);return a.delete(t),h;case nt:if(gr)return gr.call(t)==gr.call(e)}return!1}(t,e,u,r,i,o,a);if(!(r&d)){var v=c&&fe.call(t,"__wrapped__"),y=f&&fe.call(e,"__wrapped__");if(v||y){var m=v?t.value():t,x=y?e.value():e;return a||(a=new Ar),o(m,x,r,i,a)}}return!!g&&(a||(a=new Ar),function(t,e,r,i,o,a){var s=r&d,l=Po(t),u=l.length,h=Po(e).length;if(u!=h&&!s)return!1;for(var c=u;c--;){var f=l[c];if(!(s?f in e:fe.call(e,f)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++c<u;){f=l[c];var y=t[f],m=e[f];if(i)var x=s?i(m,y,f,e,t,a):i(y,m,f,t,e,a);if(!(x===n?y===m||o(y,m,r,i,a):x)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}(t,e,r,i,o,a))}(t,e,r,i,ui,o))}function hi(t,e,r,i){var o=r.length,a=o,s=!i;if(null==t)return!a;for(t=re(t);o--;){var l=r[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var u=(l=r[o])[0],h=t[u],c=l[1];if(s&&l[2]){if(h===n&&!(u in t))return!1}else{var f=new Ar;if(i)var g=i(h,c,u,t,e,f);if(!(g===n?ui(c,h,d|p,i,f):g))return!1}}return!0}function ci(t){return!(!Es(t)||pe&&pe in t)&&(Is(t)?we:Vt).test(pa(t))}function fi(t){return"function"==typeof t?t:null==t?Ol:"object"==(void 0===t?"undefined":a(t))?_s(t)?mi(t[0],t[1]):yi(t):Gl(t)}function di(t){if(!ea(t))return $n(t);var e=[];for(var n in re(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pi(t){if(!Es(t))return function(t){var e=[];if(null!=t)for(var n in re(t))e.push(n);return e}(t);var e=ea(t),n=[];for(var r in t)("constructor"!=r||!e&&fe.call(t,r))&&n.push(r);return n}function gi(t,e){return t<e}function vi(t,e){var n=-1,r=bs(t)?Qt(t.length):[];return Hr(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function yi(t){var e=Go(t);return 1==e.length&&e[0][2]?ra(e[0][0],e[0][1]):function(n){return n===t||hi(n,t,e)}}function mi(t,e){return Qo(t)&&na(e)?ra(da(t),e):function(r){var i=nl(r,t);return i===n&&i===e?rl(r,t):ui(e,i,d|p)}}function xi(t,e,r,i,o){t!==e&&Xr(e,function(a,s){if(Es(a))o||(o=new Ar),function(t,e,r,i,o,a,s){var l=t[r],u=e[r],h=s.get(u);if(h)zr(t,r,h);else{var c=a?a(l,u,r+"",t,e,s):n,f=c===n;if(f){var d=_s(u),p=!d&&ks(u),g=!d&&!p&&Bs(u);c=u,d||p||g?_s(l)?c=l:Ss(l)?c=ao(l):p?(f=!1,c=to(u,!0)):g?(f=!1,c=no(u,!0)):c=[]:Ds(u)||xs(u)?(c=l,xs(l)?c=Ys(l):(!Es(l)||i&&Is(l))&&(c=$o(u))):f=!1}f&&(s.set(u,c),o(c,u,i,a,s),s.delete(u)),zr(t,r,c)}}(t,e,s,r,xi,i,o);else{var l=i?i(t[s],a,s+"",t,e,o):n;l===n&&(l=a),zr(t,s,l)}},ll)}function _i(t,e){var r=t.length;if(r)return Ko(e+=e<0?r:0,r)?t[e]:n}function wi(t,e,n){var r=-1;return e=tn(e.length?e:[Ol],mn(Wo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(vi(t,function(t,n,i){return{criteria:tn(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ro(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)})}function bi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=ti(t,a);n(s,a)&&Ei(o,Ki(a,t),s)}return o}function Si(t,e,n,r){var i=r?hn:un,o=-1,a=e.length,s=t;for(t===e&&(e=ao(e)),n&&(s=tn(t,mn(n)));++o<a;)for(var l=0,u=e[o],h=n?n(u):u;(l=i(s,h,l,r))>-1;)s!==t&&an.call(s,l,1),an.call(t,l,1);return t}function ki(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ko(i)?an.call(t,i,1):Gi(t,i)}}return t}function Mi(t,e){return t+Hn(Jn()*(e-t+1))}function Ai(t,e){var n="";if(!t||e<1||e>L)return n;do{e%2&&(n+=t),(e=Hn(e/2))&&(t+=t)}while(e);return n}function Ii(t,e){return la(ia(t,e,Ol),t+"")}function Ti(t){return Tr(vl(t))}function Ci(t,e){var n=vl(t);return ca(n,Rr(e,0,n.length))}function Ei(t,e,r,i){if(!Es(t))return t;for(var o=-1,a=(e=Ki(e,t)).length,s=a-1,l=t;null!=l&&++o<a;){var u=da(e[o]),h=r;if(o!=s){var c=l[u];(h=i?i(c,u,l):n)===n&&(h=Es(c)?c:Ko(e[o+1])?[]:{})}Lr(l,u,h),l=l[u]}return t}var zi=sr?function(t,e){return sr.set(t,e),t}:Ol,Li=Rn?function(t,e){return Rn(t,"toString",{configurable:!0,enumerable:!1,value:El(e),writable:!0})}:Ol;function Oi(t){return ca(vl(t))}function Di(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Qt(i);++r<i;)o[r]=t[r+e];return o}function Pi(t,e){var n;return Hr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Fi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=N){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Rs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ni(t,e,Ol,n)}function Ni(t,e,r,i){e=r(e);for(var o=0,a=null==t?0:t.length,s=e!=e,l=null===e,u=Rs(e),h=e===n;o<a;){var c=Hn((o+a)/2),f=r(t[c]),d=f!==n,p=null===f,g=f==f,v=Rs(f);if(s)var y=i||g;else y=h?g&&(i||d):l?g&&d&&(i||!p):u?g&&d&&!p&&(i||!v):!p&&!v&&(i?f<=e:f<e);y?o=c+1:a=c}return Kn(a,F)}function Ri(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!vs(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Bi(t){return"number"==typeof t?t:Rs(t)?D:+t}function Wi(t){if("string"==typeof t)return t;if(_s(t))return tn(t,Wi)+"";if(Rs(t))return vr?vr.call(t):"";var e=t+"";return"0"==e&&1/t==-z?"-0":e}function ji(t,e,n){var i=-1,o=Qe,a=t.length,s=!0,l=[],u=l;if(n)s=!1,o=Je;else if(a>=r){var h=e?null:Io(t);if(h)return En(h);s=!1,o=_n,u=new Mr}else u=e?[]:l;t:for(;++i<a;){var c=t[i],f=e?e(c):c;if(c=n||0!==c?c:0,s&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),l.push(c)}else o(u,f,n)||(u!==l&&u.push(f),l.push(c))}return l}function Gi(t,e){return null==(t=oa(t,e=Ki(e,t)))||delete t[da(Aa(e))]}function Hi(t,e,n,r){return Ei(t,e,n(ti(t,e)),r)}function Ui(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Di(t,r?0:o,r?o+1:i):Di(t,r?o+1:0,r?i:o)}function Vi(t,e){var n=t;return n instanceof wr&&(n=n.value()),nn(e,function(t,e){return e.func.apply(e.thisArg,en([t],e.args))},n)}function qi(t,e,n){var r=t.length;if(r<2)return r?ji(t[0]):[];for(var i=-1,o=Qt(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Gr(o[i]||a,t[s],e,n));return ji($r(o,1),e,n)}function Yi(t,e,r){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var l=i<a?e[i]:n;r(s,t[i],l)}return s}function $i(t){return Ss(t)?t:[]}function Xi(t){return"function"==typeof t?t:Ol}function Ki(t,e){return _s(t)?t:Qo(t,e)?[t]:fa($s(t))}var Zi=Ii;function Qi(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:Di(t,e,r)}var Ji=Bn||function(t){return Le.clearTimeout(t)};function to(t,e){if(e)return t.slice();var n=t.length,r=Oe?Oe(n):new t.constructor(n);return t.copy(r),r}function eo(t){var e=new t.constructor(t.byteLength);return new ze(e).set(new ze(t)),e}function no(t,e){var n=e?eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ro(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,a=Rs(t),s=e!==n,l=null===e,u=e==e,h=Rs(e);if(!l&&!h&&!a&&t>e||a&&s&&u&&!l&&!h||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!h&&t<e||h&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}function io(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Xn(o-a,0),h=Qt(l+u),c=!r;++s<l;)h[s]=e[s];for(;++i<a;)(c||i<o)&&(h[n[i]]=t[i]);for(;u--;)h[s++]=t[i++];return h}function oo(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,h=Xn(o-s,0),c=Qt(h+u),f=!r;++i<h;)c[i]=t[i];for(var d=i;++l<u;)c[d+l]=e[l];for(;++a<s;)(f||i<o)&&(c[d+n[a]]=t[i++]);return c}function ao(t,e){var n=-1,r=t.length;for(e||(e=Qt(r));++n<r;)e[n]=t[n];return e}function so(t,e,r,i){var o=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var l=e[a],u=i?i(r[l],t[l],l,r,t):n;u===n&&(u=t[l]),o?Fr(r,l,u):Lr(r,l,u)}return r}function lo(t,e){return function(n,r){var i=_s(n)?Ye:Dr,o=e?e():{};return i(n,t,Wo(r,2),o)}}function uo(t){return Ii(function(e,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=t.length>3&&"function"==typeof a?(o--,a):n,s&&Zo(r[0],r[1],s)&&(a=o<3?n:a,o=1),e=re(e);++i<o;){var l=r[i];l&&t(e,l,i,a)}return e})}function ho(t,e){return function(n,r){if(null==n)return n;if(!bs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=re(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function co(t){return function(e,n,r){for(var i=-1,o=re(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function fo(t){return function(e){var r=An(e=$s(e))?On(e):n,i=r?r[0]:e.charAt(0),o=r?Qi(r,1).join(""):e.slice(1);return i[t]()+o}}function po(t){return function(e){return nn(Il(xl(e).replace(ye,"")),t,"")}}function go(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=mr(t.prototype),r=t.apply(n,e);return Es(r)?r:n}}function vo(t){return function(e,r,i){var o=re(e);if(!bs(e)){var a=Wo(r,3);e=sl(e),r=function(t){return a(o[t],t,o)}}var s=t(e,r,i);return s>-1?o[a?e[s]:s]:n}}function yo(t){return Do(function(e){var r=e.length,i=r,a=_r.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new ae(o);if(a&&!l&&"wrapper"==Ro(s))var l=new _r([],!0)}for(i=l?i:r;++i<r;){var u=Ro(s=e[i]),h="wrapper"==u?No(s):n;l=h&&Jo(h[0])&&h[1]==(b|m|_|S)&&!h[4].length&&1==h[9]?l[Ro(h[0])].apply(l,h[3]):1==s.length&&Jo(s)?l[u]():l.thru(s)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&_s(n))return l.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}})}function mo(t,e,r,i,o,a,s,l,u,h){var c=e&b,f=e&g,d=e&v,p=e&(m|x),y=e&k,_=d?n:go(t);return function g(){for(var v=arguments.length,m=Qt(v),x=v;x--;)m[x]=arguments[x];if(p)var w=Bo(g),b=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(m,w);if(i&&(m=io(m,i,o,p)),a&&(m=oo(m,a,s,p)),v-=b,p&&v<h){var S=Cn(m,w);return Mo(t,e,mo,g.placeholder,r,m,S,l,u,h-v)}var k=f?r:this,M=d?k[t]:t;return v=m.length,l?m=function(t,e){for(var r=t.length,i=Kn(e.length,r),o=ao(t);i--;){var a=e[i];t[i]=Ko(a,r)?o[a]:n}return t}(m,l):y&&v>1&&m.reverse(),c&&u<v&&(m.length=u),this&&this!==Le&&this instanceof g&&(M=_||go(M)),M.apply(k,m)}}function xo(t,e){return function(n,r){return function(t,e,n,r){return Zr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function _o(t,e){return function(r,i){var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=Wi(r),i=Wi(i)):(r=Bi(r),i=Bi(i)),o=t(r,i)}return o}}function wo(t){return Do(function(e){return e=tn(e,mn(Wo())),Ii(function(n){var r=this;return t(e,function(t){return qe(t,r,n)})})})}function bo(t,e){var r=(e=e===n?" ":Wi(e)).length;if(r<2)return r?Ai(e,t):e;var i=Ai(e,Gn(t/Ln(e)));return An(e)?Qi(On(i),0,t).join(""):i.slice(0,t)}function So(t){return function(e,r,i){return i&&"number"!=typeof i&&Zo(e,r,i)&&(r=i=n),e=Hs(e),r===n?(r=e,e=0):r=Hs(r),function(t,e,n,r){for(var i=-1,o=Xn(Gn((e-t)/(n||1)),0),a=Qt(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,r,i=i===n?e<r?1:-1:Hs(i),t)}}function ko(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=qs(e),n=qs(n)),t(e,n)}}function Mo(t,e,r,i,o,a,s,l,u,h){var c=e&m;e|=c?_:w,(e&=~(c?w:_))&y||(e&=~(g|v));var f=[t,e,o,c?a:n,c?s:n,c?n:a,c?n:s,l,u,h],d=r.apply(n,f);return Jo(t)&&aa(d,f),d.placeholder=i,ua(d,t,e)}function Ao(t){var e=ne[t];return function(t,n){if(t=qs(t),n=null==n?0:Kn(Us(n),292)){var r=($s(t)+"e").split("e");return+((r=($s(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Io=ir&&1/En(new ir([,-0]))[1]==z?function(t){return new ir(t)}:Rl;function To(t){return function(e){var n=qo(e);return n==$?In(e):n==tt?zn(e):function(t,e){return tn(e,function(e){return[e,t[e]]})}(e,t(e))}}function Co(t,e,r,i,a,s,l,h){var c=e&v;if(!c&&"function"!=typeof t)throw new ae(o);var f=i?i.length:0;if(f||(e&=~(_|w),i=a=n),l=l===n?l:Xn(Us(l),0),h=h===n?h:Us(h),f-=a?a.length:0,e&w){var d=i,p=a;i=a=n}var k=c?n:No(t),M=[t,e,r,i,a,d,p,s,l,h];if(k&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(g|v|b),a=r==b&&n==m||r==b&&n==S&&t[7].length<=e[8]||r==(b|S)&&e[7].length<=e[8]&&n==m;if(!o&&!a)return t;r&g&&(t[2]=e[2],i|=n&g?0:y);var s=e[3];if(s){var l=t[3];t[3]=l?io(l,s,e[4]):s,t[4]=l?Cn(t[3],u):e[4]}(s=e[5])&&(l=t[5],t[5]=l?oo(l,s,e[6]):s,t[6]=l?Cn(t[5],u):e[6]),(s=e[7])&&(t[7]=s),r&b&&(t[8]=null==t[8]?e[8]:Kn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(M,k),t=M[0],e=M[1],r=M[2],i=M[3],a=M[4],!(h=M[9]=M[9]===n?c?0:t.length:Xn(M[9]-f,0))&&e&(m|x)&&(e&=~(m|x)),e&&e!=g)A=e==m||e==x?function(t,e,r){var i=go(t);return function o(){for(var a=arguments.length,s=Qt(a),l=a,u=Bo(o);l--;)s[l]=arguments[l];var h=a<3&&s[0]!==u&&s[a-1]!==u?[]:Cn(s,u);return(a-=h.length)<r?Mo(t,e,mo,o.placeholder,n,s,h,n,n,r-a):qe(this&&this!==Le&&this instanceof o?i:t,this,s)}}(t,e,h):e!=_&&e!=(g|_)||a.length?mo.apply(n,M):function(t,e,n,r){var i=e&g,o=go(t);return function e(){for(var a=-1,s=arguments.length,l=-1,u=r.length,h=Qt(u+s),c=this&&this!==Le&&this instanceof e?o:t;++l<u;)h[l]=r[l];for(;s--;)h[l++]=arguments[++a];return qe(c,i?n:this,h)}}(t,e,r,i);else var A=function(t,e,n){var r=e&g,i=go(t);return function e(){return(this&&this!==Le&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return ua((k?zi:aa)(A,M),t,e)}function Eo(t,e,r,i){return t===n||vs(t,ue[r])&&!fe.call(i,r)?e:t}function zo(t,e,r,i,o,a){return Es(t)&&Es(e)&&(a.set(e,t),xi(t,e,n,zo,a),a.delete(e)),t}function Lo(t){return Ds(t)?n:t}function Oo(t,e,r,i,o,a){var s=r&d,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var c=-1,f=!0,g=r&p?new Mr:n;for(a.set(t,e),a.set(e,t);++c<l;){var v=t[c],y=e[c];if(i)var m=s?i(y,v,c,e,t,a):i(v,y,c,t,e,a);if(m!==n){if(m)continue;f=!1;break}if(g){if(!on(e,function(t,e){if(!_n(g,e)&&(v===t||o(v,t,r,i,a)))return g.push(e)})){f=!1;break}}else if(v!==y&&!o(v,y,r,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function Do(t){return la(ia(t,n,wa),t+"")}function Po(t){return ei(t,sl,Uo)}function Fo(t){return ei(t,ll,Vo)}var No=sr?function(t){return sr.get(t)}:Rl;function Ro(t){for(var e=t.name+"",n=lr[e],r=fe.call(lr,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Bo(t){return(fe.call(yr,"placeholder")?yr:t).placeholder}function Wo(){var t=yr.iteratee||Dl;return t=t===Dl?fi:t,arguments.length?t(arguments[0],arguments[1]):t}function jo(t,e){var n,r,i=t.__data__;return("string"==(r=void 0===(n=e)?"undefined":a(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Go(t){for(var e=sl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,na(i)]}return e}function Ho(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return ci(r)?r:n}var Uo=Un?function(t){return null==t?[]:(t=re(t),Ze(Un(t),function(e){return Ne.call(t,e)}))}:Vl,Vo=Un?function(t){for(var e=[];t;)en(e,Uo(t)),t=De(t);return e}:Vl,qo=ni;function Yo(t,e,n){for(var r=-1,i=(e=Ki(e,t)).length,o=!1;++r<i;){var a=da(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Cs(i)&&Ko(a,i)&&(_s(t)||xs(t))}function $o(t){return"function"!=typeof t.constructor||ea(t)?{}:mr(De(t))}function Xo(t){return _s(t)||xs(t)||!!(pn&&t&&t[pn])}function Ko(t,e){return!!(e=null==e?L:e)&&("number"==typeof t||Yt.test(t))&&t>-1&&t%1==0&&t<e}function Zo(t,e,n){if(!Es(n))return!1;var r=void 0===e?"undefined":a(e);return!!("number"==r?bs(n)&&Ko(e,n.length):"string"==r&&e in n)&&vs(n[e],t)}function Qo(t,e){if(_s(t))return!1;var n=void 0===t?"undefined":a(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Rs(t))||Tt.test(t)||!It.test(t)||null!=e&&t in re(e)}function Jo(t){var e=Ro(t),n=yr[e];if("function"!=typeof n||!(e in wr.prototype))return!1;if(t===n)return!0;var r=No(n);return!!r&&t===r[0]}(er&&qo(new er(new ArrayBuffer(1)))!=st||nr&&qo(new nr)!=$||rr&&"[object Promise]"!=qo(rr.resolve())||ir&&qo(new ir)!=tt||or&&qo(new or)!=it)&&(qo=function(t){var e=ni(t),r=e==Z?t.constructor:n,i=r?pa(r):"";if(i)switch(i){case ur:return st;case hr:return $;case cr:return"[object Promise]";case fr:return tt;case dr:return it}return e});var ta=he?Is:ql;function ea(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ue)}function na(t){return t==t&&!Es(t)}function ra(t,e){return function(r){return null!=r&&r[t]===e&&(e!==n||t in re(r))}}function ia(t,e,r){return e=Xn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Xn(n.length-e,0),a=Qt(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Qt(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),qe(t,this,s)}}function oa(t,e){return e.length<2?t:ti(t,Di(e,0,-1))}var aa=ha(zi),sa=jn||function(t,e){return Le.setTimeout(t,e)},la=ha(Li);function ua(t,e,n){var r=e+"";return la(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return $e(R,function(n){var r="_."+n[0];e&n[1]&&!Qe(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Nt);return e?e[1].split(Rt):[]}(r),n)))}function ha(t){var e=0,r=0;return function(){var i=Zn(),o=T-(i-r);if(r=i,o>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(n,arguments)}}function ca(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var a=Mi(r,o),s=t[a];t[a]=t[r],t[r]=s}return t.length=e,t}var fa=function(t){var e=hs(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ct.test(t)&&e.push(""),t.replace(Et,function(t,n,r,i){e.push(r?i.replace(Wt,"$1"):n||t)}),e});function da(t){if("string"==typeof t||Rs(t))return t;var e=t+"";return"0"==e&&1/t==-z?"-0":e}function pa(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ga(t){if(t instanceof wr)return t.clone();var e=new _r(t.__wrapped__,t.__chain__);return e.__actions__=ao(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var va=Ii(function(t,e){return Ss(t)?Gr(t,$r(e,1,Ss,!0)):[]}),ya=Ii(function(t,e){var r=Aa(e);return Ss(r)&&(r=n),Ss(t)?Gr(t,$r(e,1,Ss,!0),Wo(r,2)):[]}),ma=Ii(function(t,e){var r=Aa(e);return Ss(r)&&(r=n),Ss(t)?Gr(t,$r(e,1,Ss,!0),n,r):[]});function xa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Us(n);return i<0&&(i=Xn(r+i,0)),ln(t,Wo(e,3),i)}function _a(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=Us(r),o=r<0?Xn(i+o,0):Kn(o,i-1)),ln(t,Wo(e,3),o,!0)}function wa(t){return null!=t&&t.length?$r(t,1):[]}function ba(t){return t&&t.length?t[0]:n}var Sa=Ii(function(t){var e=tn(t,$i);return e.length&&e[0]===t[0]?ai(e):[]}),ka=Ii(function(t){var e=Aa(t),r=tn(t,$i);return e===Aa(r)?e=n:r.pop(),r.length&&r[0]===t[0]?ai(r,Wo(e,2)):[]}),Ma=Ii(function(t){var e=Aa(t),r=tn(t,$i);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?ai(r,n,e):[]});function Aa(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Ia=Ii(Ta);function Ta(t,e){return t&&t.length&&e&&e.length?Si(t,e):t}var Ca=Do(function(t,e){var n=null==t?0:t.length,r=Nr(t,e);return ki(t,tn(e,function(t){return Ko(t,n)?+t:t}).sort(ro)),r});function Ea(t){return null==t?t:tr.call(t)}var za=Ii(function(t){return ji($r(t,1,Ss,!0))}),La=Ii(function(t){var e=Aa(t);return Ss(e)&&(e=n),ji($r(t,1,Ss,!0),Wo(e,2))}),Oa=Ii(function(t){var e=Aa(t);return e="function"==typeof e?e:n,ji($r(t,1,Ss,!0),n,e)});function Da(t){if(!t||!t.length)return[];var e=0;return t=Ze(t,function(t){if(Ss(t))return e=Xn(t.length,e),!0}),yn(e,function(e){return tn(t,dn(e))})}function Pa(t,e){if(!t||!t.length)return[];var r=Da(t);return null==e?r:tn(r,function(t){return qe(e,n,t)})}var Fa=Ii(function(t,e){return Ss(t)?Gr(t,e):[]}),Na=Ii(function(t){return qi(Ze(t,Ss))}),Ra=Ii(function(t){var e=Aa(t);return Ss(e)&&(e=n),qi(Ze(t,Ss),Wo(e,2))}),Ba=Ii(function(t){var e=Aa(t);return e="function"==typeof e?e:n,qi(Ze(t,Ss),n,e)}),Wa=Ii(Da);var ja=Ii(function(t){var e=t.length,r=e>1?t[e-1]:n;return Pa(t,r="function"==typeof r?(t.pop(),r):n)});function Ga(t){var e=yr(t);return e.__chain__=!0,e}function Ha(t,e){return e(t)}var Ua=Do(function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=function(e){return Nr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof wr&&Ko(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:Ha,args:[o],thisArg:n}),new _r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(n),t})):this.thru(o)});var Va=lo(function(t,e,n){fe.call(t,n)?++t[n]:Fr(t,n,1)});var qa=vo(xa),Ya=vo(_a);function $a(t,e){return(_s(t)?$e:Hr)(t,Wo(e,3))}function Xa(t,e){return(_s(t)?Xe:Ur)(t,Wo(e,3))}var Ka=lo(function(t,e,n){fe.call(t,n)?t[n].push(e):Fr(t,n,[e])});var Za=Ii(function(t,e,n){var r=-1,i="function"==typeof e,o=bs(t)?Qt(t.length):[];return Hr(t,function(t){o[++r]=i?qe(e,t,n):si(t,e,n)}),o}),Qa=lo(function(t,e,n){Fr(t,n,e)});function Ja(t,e){return(_s(t)?tn:vi)(t,Wo(e,3))}var ts=lo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var es=Ii(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Zo(t,e[0],e[1])?e=[]:n>2&&Zo(e[0],e[1],e[2])&&(e=[e[0]]),wi(t,$r(e,1),[])}),ns=Wn||function(){return Le.Date.now()};function rs(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Co(t,b,n,n,n,n,e)}function is(t,e){var r;if("function"!=typeof e)throw new ae(o);return t=Us(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=n),r}}var os=Ii(function(t,e,n){var r=g;if(n.length){var i=Cn(n,Bo(os));r|=_}return Co(t,r,e,n,i)}),as=Ii(function(t,e,n){var r=g|v;if(n.length){var i=Cn(n,Bo(as));r|=_}return Co(e,r,t,n,i)});function ss(t,e,r){var i,a,s,l,u,h,c=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new ae(o);function g(e){var r=i,o=a;return i=a=n,c=e,l=t.apply(o,r)}function v(t){var r=t-h;return h===n||r>=e||r<0||d&&t-c>=s}function y(){var t=ns();if(v(t))return m(t);u=sa(y,function(t){var n=e-(t-h);return d?Kn(n,s-(t-c)):n}(t))}function m(t){return u=n,p&&i?g(t):(i=a=n,l)}function x(){var t=ns(),r=v(t);if(i=arguments,a=this,h=t,r){if(u===n)return function(t){return c=t,u=sa(y,e),f?g(t):l}(h);if(d)return u=sa(y,e),g(h)}return u===n&&(u=sa(y,e)),l}return e=qs(e)||0,Es(r)&&(f=!!r.leading,s=(d="maxWait"in r)?Xn(qs(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p),x.cancel=function(){u!==n&&Ji(u),c=0,i=h=a=u=n},x.flush=function(){return u===n?l:m(ns())},x}var ls=Ii(function(t,e){return jr(t,1,e)}),us=Ii(function(t,e,n){return jr(t,qs(e)||0,n)});function hs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(hs.Cache||kr),n}function cs(t){if("function"!=typeof t)throw new ae(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}hs.Cache=kr;var fs=Zi(function(t,e){var n=(e=1==e.length&&_s(e[0])?tn(e[0],mn(Wo())):tn($r(e,1),mn(Wo()))).length;return Ii(function(r){for(var i=-1,o=Kn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return qe(t,this,r)})}),ds=Ii(function(t,e){var r=Cn(e,Bo(ds));return Co(t,_,n,e,r)}),ps=Ii(function(t,e){var r=Cn(e,Bo(ps));return Co(t,w,n,e,r)}),gs=Do(function(t,e){return Co(t,S,n,n,n,e)});function vs(t,e){return t===e||t!=t&&e!=e}var ys=ko(ri),ms=ko(function(t,e){return t>=e}),xs=li(function(){return arguments}())?li:function(t){return zs(t)&&fe.call(t,"callee")&&!Ne.call(t,"callee")},_s=Qt.isArray,ws=Re?mn(Re):function(t){return zs(t)&&ni(t)==at};function bs(t){return null!=t&&Cs(t.length)&&!Is(t)}function Ss(t){return zs(t)&&bs(t)}var ks=Vn||ql,Ms=Be?mn(Be):function(t){return zs(t)&&ni(t)==H};function As(t){if(!zs(t))return!1;var e=ni(t);return e==V||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!Ds(t)}function Is(t){if(!Es(t))return!1;var e=ni(t);return e==q||e==Y||e==j||e==Q}function Ts(t){return"number"==typeof t&&t==Us(t)}function Cs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function Es(t){var e=void 0===t?"undefined":a(t);return null!=t&&("object"==e||"function"==e)}function zs(t){return null!=t&&"object"==(void 0===t?"undefined":a(t))}var Ls=We?mn(We):function(t){return zs(t)&&qo(t)==$};function Os(t){return"number"==typeof t||zs(t)&&ni(t)==X}function Ds(t){if(!zs(t)||ni(t)!=Z)return!1;var e=De(t);if(null===e)return!0;var n=fe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==ve}var Ps=je?mn(je):function(t){return zs(t)&&ni(t)==J};var Fs=Ge?mn(Ge):function(t){return zs(t)&&qo(t)==tt};function Ns(t){return"string"==typeof t||!_s(t)&&zs(t)&&ni(t)==et}function Rs(t){return"symbol"==(void 0===t?"undefined":a(t))||zs(t)&&ni(t)==nt}var Bs=He?mn(He):function(t){return zs(t)&&Cs(t.length)&&!!Me[ni(t)]};var Ws=ko(gi),js=ko(function(t,e){return t<=e});function Gs(t){if(!t)return[];if(bs(t))return Ns(t)?On(t):ao(t);if(Fn&&t[Fn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Fn]());var e=qo(t);return(e==$?In:e==tt?En:vl)(t)}function Hs(t){return t?(t=qs(t))===z||t===-z?(t<0?-1:1)*O:t==t?t:0:0===t?t:0}function Us(t){var e=Hs(t),n=e%1;return e==e?n?e-n:e:0}function Vs(t){return t?Rr(Us(t),0,P):0}function qs(t){if("number"==typeof t)return t;if(Rs(t))return D;if(Es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ot,"");var n=Ut.test(t);return n||qt.test(t)?Ce(t.slice(2),n?2:8):Ht.test(t)?D:+t}function Ys(t){return so(t,ll(t))}function $s(t){return null==t?"":Wi(t)}var Xs=uo(function(t,e){if(ea(e)||bs(e))so(e,sl(e),t);else for(var n in e)fe.call(e,n)&&Lr(t,n,e[n])}),Ks=uo(function(t,e){so(e,ll(e),t)}),Zs=uo(function(t,e,n,r){so(e,ll(e),t,r)}),Qs=uo(function(t,e,n,r){so(e,sl(e),t,r)}),Js=Do(Nr);var tl=Ii(function(t){return t.push(n,Eo),qe(Zs,n,t)}),el=Ii(function(t){return t.push(n,zo),qe(hl,n,t)});function nl(t,e,r){var i=null==t?n:ti(t,e);return i===n?r:i}function rl(t,e){return null!=t&&Yo(t,e,oi)}var il=xo(function(t,e,n){t[e]=n},El(Ol)),ol=xo(function(t,e,n){fe.call(t,e)?t[e].push(n):t[e]=[n]},Wo),al=Ii(si);function sl(t){return bs(t)?Ir(t):di(t)}function ll(t){return bs(t)?Ir(t,!0):pi(t)}var ul=uo(function(t,e,n){xi(t,e,n)}),hl=uo(function(t,e,n,r){xi(t,e,n,r)}),cl=Do(function(t,e){var n={};if(null==t)return n;var r=!1;e=tn(e,function(e){return e=Ki(e,t),r||(r=e.length>1),e}),so(t,Fo(t),n),r&&(n=Br(n,h|c|f,Lo));for(var i=e.length;i--;)Gi(n,e[i]);return n});var fl=Do(function(t,e){return null==t?{}:function(t,e){return bi(t,e,function(e,n){return rl(t,n)})}(t,e)});function dl(t,e){if(null==t)return{};var n=tn(Fo(t),function(t){return[t]});return e=Wo(e),bi(t,n,function(t,n){return e(t,n[0])})}var pl=To(sl),gl=To(ll);function vl(t){return null==t?[]:xn(t,sl(t))}var yl=po(function(t,e,n){return e=e.toLowerCase(),t+(n?ml(e):e)});function ml(t){return Al($s(t).toLowerCase())}function xl(t){return(t=$s(t))&&t.replace($t,Sn).replace(me,"")}var _l=po(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),wl=po(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bl=fo("toLowerCase");var Sl=po(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var kl=po(function(t,e,n){return t+(n?" ":"")+Al(e)});var Ml=po(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Al=fo("toUpperCase");function Il(t,e,r){return t=$s(t),(e=r?n:e)===n?function(t){return be.test(t)}(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.match(Bt)||[]}(t):t.match(e)||[]}var Tl=Ii(function(t,e){try{return qe(t,n,e)}catch(t){return As(t)?t:new te(t)}}),Cl=Do(function(t,e){return $e(e,function(e){e=da(e),Fr(t,e,os(t[e],t))}),t});function El(t){return function(){return t}}var zl=yo(),Ll=yo(!0);function Ol(t){return t}function Dl(t){return fi("function"==typeof t?t:Br(t,h))}var Pl=Ii(function(t,e){return function(n){return si(n,t,e)}}),Fl=Ii(function(t,e){return function(n){return si(t,n,e)}});function Nl(t,e,n){var r=sl(e),i=Jr(e,r);null!=n||Es(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Jr(e,sl(e)));var o=!(Es(n)&&"chain"in n&&!n.chain),a=Is(t);return $e(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=ao(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,en([this.value()],arguments))})}),t}function Rl(){}var Bl=wo(tn),Wl=wo(Ke),jl=wo(on);function Gl(t){return Qo(t)?dn(da(t)):function(t){return function(e){return ti(e,t)}}(t)}var Hl=So(),Ul=So(!0);function Vl(){return[]}function ql(){return!1}var Yl=_o(function(t,e){return t+e},0),$l=Ao("ceil"),Xl=_o(function(t,e){return t/e},1),Kl=Ao("floor");var Zl,Ql=_o(function(t,e){return t*e},1),Jl=Ao("round"),tu=_o(function(t,e){return t-e},0);return yr.after=function(t,e){if("function"!=typeof e)throw new ae(o);return t=Us(t),function(){if(--t<1)return e.apply(this,arguments)}},yr.ary=rs,yr.assign=Xs,yr.assignIn=Ks,yr.assignInWith=Zs,yr.assignWith=Qs,yr.at=Js,yr.before=is,yr.bind=os,yr.bindAll=Cl,yr.bindKey=as,yr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _s(t)?t:[t]},yr.chain=Ga,yr.chunk=function(t,e,r){e=(r?Zo(t,e,r):e===n)?1:Xn(Us(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=Qt(Gn(i/e));o<i;)s[a++]=Di(t,o,o+=e);return s},yr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},yr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Qt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return en(_s(n)?ao(n):[n],$r(e,1))},yr.cond=function(t){var e=null==t?0:t.length,n=Wo();return t=e?tn(t,function(t){if("function"!=typeof t[1])throw new ae(o);return[n(t[0]),t[1]]}):[],Ii(function(n){for(var r=-1;++r<e;){var i=t[r];if(qe(i[0],this,n))return qe(i[1],this,n)}})},yr.conforms=function(t){return function(t){var e=sl(t);return function(n){return Wr(n,t,e)}}(Br(t,h))},yr.constant=El,yr.countBy=Va,yr.create=function(t,e){var n=mr(t);return null==e?n:Pr(n,e)},yr.curry=function t(e,r,i){var o=Co(e,m,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},yr.curryRight=function t(e,r,i){var o=Co(e,x,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},yr.debounce=ss,yr.defaults=tl,yr.defaultsDeep=el,yr.defer=ls,yr.delay=us,yr.difference=va,yr.differenceBy=ya,yr.differenceWith=ma,yr.drop=function(t,e,r){var i=null==t?0:t.length;return i?Di(t,(e=r||e===n?1:Us(e))<0?0:e,i):[]},yr.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?Di(t,0,(e=i-(e=r||e===n?1:Us(e)))<0?0:e):[]},yr.dropRightWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3),!0,!0):[]},yr.dropWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3),!0):[]},yr.fill=function(t,e,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Zo(t,e,r)&&(r=0,i=o),function(t,e,r,i){var o=t.length;for((r=Us(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:Us(i))<0&&(i+=o),i=r>i?0:Vs(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},yr.filter=function(t,e){return(_s(t)?Ze:Yr)(t,Wo(e,3))},yr.flatMap=function(t,e){return $r(Ja(t,e),1)},yr.flatMapDeep=function(t,e){return $r(Ja(t,e),z)},yr.flatMapDepth=function(t,e,r){return r=r===n?1:Us(r),$r(Ja(t,e),r)},yr.flatten=wa,yr.flattenDeep=function(t){return null!=t&&t.length?$r(t,z):[]},yr.flattenDepth=function(t,e){return null!=t&&t.length?$r(t,e=e===n?1:Us(e)):[]},yr.flip=function(t){return Co(t,k)},yr.flow=zl,yr.flowRight=Ll,yr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},yr.functions=function(t){return null==t?[]:Jr(t,sl(t))},yr.functionsIn=function(t){return null==t?[]:Jr(t,ll(t))},yr.groupBy=Ka,yr.initial=function(t){return null!=t&&t.length?Di(t,0,-1):[]},yr.intersection=Sa,yr.intersectionBy=ka,yr.intersectionWith=Ma,yr.invert=il,yr.invertBy=ol,yr.invokeMap=Za,yr.iteratee=Dl,yr.keyBy=Qa,yr.keys=sl,yr.keysIn=ll,yr.map=Ja,yr.mapKeys=function(t,e){var n={};return e=Wo(e,3),Zr(t,function(t,r,i){Fr(n,e(t,r,i),t)}),n},yr.mapValues=function(t,e){var n={};return e=Wo(e,3),Zr(t,function(t,r,i){Fr(n,r,e(t,r,i))}),n},yr.matches=function(t){return yi(Br(t,h))},yr.matchesProperty=function(t,e){return mi(t,Br(e,h))},yr.memoize=hs,yr.merge=ul,yr.mergeWith=hl,yr.method=Pl,yr.methodOf=Fl,yr.mixin=Nl,yr.negate=cs,yr.nthArg=function(t){return t=Us(t),Ii(function(e){return _i(e,t)})},yr.omit=cl,yr.omitBy=function(t,e){return dl(t,cs(Wo(e)))},yr.once=function(t){return is(2,t)},yr.orderBy=function(t,e,r,i){return null==t?[]:(_s(e)||(e=null==e?[]:[e]),_s(r=i?n:r)||(r=null==r?[]:[r]),wi(t,e,r))},yr.over=Bl,yr.overArgs=fs,yr.overEvery=Wl,yr.overSome=jl,yr.partial=ds,yr.partialRight=ps,yr.partition=ts,yr.pick=fl,yr.pickBy=dl,yr.property=Gl,yr.propertyOf=function(t){return function(e){return null==t?n:ti(t,e)}},yr.pull=Ia,yr.pullAll=Ta,yr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Si(t,e,Wo(n,2)):t},yr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Si(t,e,n,r):t},yr.pullAt=Ca,yr.range=Hl,yr.rangeRight=Ul,yr.rearg=gs,yr.reject=function(t,e){return(_s(t)?Ze:Yr)(t,cs(Wo(e,3)))},yr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Wo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ki(t,i),n},yr.rest=function(t,e){if("function"!=typeof t)throw new ae(o);return Ii(t,e=e===n?e:Us(e))},yr.reverse=Ea,yr.sampleSize=function(t,e,r){return e=(r?Zo(t,e,r):e===n)?1:Us(e),(_s(t)?Cr:Ci)(t,e)},yr.set=function(t,e,n){return null==t?t:Ei(t,e,n)},yr.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:Ei(t,e,r,i)},yr.shuffle=function(t){return(_s(t)?Er:Oi)(t)},yr.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Zo(t,e,r)?(e=0,r=i):(e=null==e?0:Us(e),r=r===n?i:Us(r)),Di(t,e,r)):[]},yr.sortBy=es,yr.sortedUniq=function(t){return t&&t.length?Ri(t):[]},yr.sortedUniqBy=function(t,e){return t&&t.length?Ri(t,Wo(e,2)):[]},yr.split=function(t,e,r){return r&&"number"!=typeof r&&Zo(t,e,r)&&(e=r=n),(r=r===n?P:r>>>0)?(t=$s(t))&&("string"==typeof e||null!=e&&!Ps(e))&&!(e=Wi(e))&&An(t)?Qi(On(t),0,r):t.split(e,r):[]},yr.spread=function(t,e){if("function"!=typeof t)throw new ae(o);return e=null==e?0:Xn(Us(e),0),Ii(function(n){var r=n[e],i=Qi(n,0,e);return r&&en(i,r),qe(t,this,i)})},yr.tail=function(t){var e=null==t?0:t.length;return e?Di(t,1,e):[]},yr.take=function(t,e,r){return t&&t.length?Di(t,0,(e=r||e===n?1:Us(e))<0?0:e):[]},yr.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?Di(t,(e=i-(e=r||e===n?1:Us(e)))<0?0:e,i):[]},yr.takeRightWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3),!1,!0):[]},yr.takeWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3)):[]},yr.tap=function(t,e){return e(t),t},yr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ae(o);return Es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ss(t,e,{leading:r,maxWait:e,trailing:i})},yr.thru=Ha,yr.toArray=Gs,yr.toPairs=pl,yr.toPairsIn=gl,yr.toPath=function(t){return _s(t)?tn(t,da):Rs(t)?[t]:ao(fa($s(t)))},yr.toPlainObject=Ys,yr.transform=function(t,e,n){var r=_s(t),i=r||ks(t)||Bs(t);if(e=Wo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Es(t)&&Is(o)?mr(De(t)):{}}return(i?$e:Zr)(t,function(t,r,i){return e(n,t,r,i)}),n},yr.unary=function(t){return rs(t,1)},yr.union=za,yr.unionBy=La,yr.unionWith=Oa,yr.uniq=function(t){return t&&t.length?ji(t):[]},yr.uniqBy=function(t,e){return t&&t.length?ji(t,Wo(e,2)):[]},yr.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?ji(t,n,e):[]},yr.unset=function(t,e){return null==t||Gi(t,e)},yr.unzip=Da,yr.unzipWith=Pa,yr.update=function(t,e,n){return null==t?t:Hi(t,e,Xi(n))},yr.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:Hi(t,e,Xi(r),i)},yr.values=vl,yr.valuesIn=function(t){return null==t?[]:xn(t,ll(t))},yr.without=Fa,yr.words=Il,yr.wrap=function(t,e){return ds(Xi(e),t)},yr.xor=Na,yr.xorBy=Ra,yr.xorWith=Ba,yr.zip=Wa,yr.zipObject=function(t,e){return Yi(t||[],e||[],Lr)},yr.zipObjectDeep=function(t,e){return Yi(t||[],e||[],Ei)},yr.zipWith=ja,yr.entries=pl,yr.entriesIn=gl,yr.extend=Ks,yr.extendWith=Zs,Nl(yr,yr),yr.add=Yl,yr.attempt=Tl,yr.camelCase=yl,yr.capitalize=ml,yr.ceil=$l,yr.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=qs(r))==r?r:0),e!==n&&(e=(e=qs(e))==e?e:0),Rr(qs(t),e,r)},yr.clone=function(t){return Br(t,f)},yr.cloneDeep=function(t){return Br(t,h|f)},yr.cloneDeepWith=function(t,e){return Br(t,h|f,e="function"==typeof e?e:n)},yr.cloneWith=function(t,e){return Br(t,f,e="function"==typeof e?e:n)},yr.conformsTo=function(t,e){return null==e||Wr(t,e,sl(e))},yr.deburr=xl,yr.defaultTo=function(t,e){return null==t||t!=t?e:t},yr.divide=Xl,yr.endsWith=function(t,e,r){t=$s(t),e=Wi(e);var i=t.length,o=r=r===n?i:Rr(Us(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},yr.eq=vs,yr.escape=function(t){return(t=$s(t))&&St.test(t)?t.replace(wt,kn):t},yr.escapeRegExp=function(t){return(t=$s(t))&&Lt.test(t)?t.replace(zt,"\\$&"):t},yr.every=function(t,e,r){var i=_s(t)?Ke:Vr;return r&&Zo(t,e,r)&&(e=n),i(t,Wo(e,3))},yr.find=qa,yr.findIndex=xa,yr.findKey=function(t,e){return sn(t,Wo(e,3),Zr)},yr.findLast=Ya,yr.findLastIndex=_a,yr.findLastKey=function(t,e){return sn(t,Wo(e,3),Qr)},yr.floor=Kl,yr.forEach=$a,yr.forEachRight=Xa,yr.forIn=function(t,e){return null==t?t:Xr(t,Wo(e,3),ll)},yr.forInRight=function(t,e){return null==t?t:Kr(t,Wo(e,3),ll)},yr.forOwn=function(t,e){return t&&Zr(t,Wo(e,3))},yr.forOwnRight=function(t,e){return t&&Qr(t,Wo(e,3))},yr.get=nl,yr.gt=ys,yr.gte=ms,yr.has=function(t,e){return null!=t&&Yo(t,e,ii)},yr.hasIn=rl,yr.head=ba,yr.identity=Ol,yr.includes=function(t,e,n,r){t=bs(t)?t:vl(t),n=n&&!r?Us(n):0;var i=t.length;return n<0&&(n=Xn(i+n,0)),Ns(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},yr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Us(n);return i<0&&(i=Xn(r+i,0)),un(t,e,i)},yr.inRange=function(t,e,r){return e=Hs(e),r===n?(r=e,e=0):r=Hs(r),function(t,e,n){return t>=Kn(e,n)&&t<Xn(e,n)}(t=qs(t),e,r)},yr.invoke=al,yr.isArguments=xs,yr.isArray=_s,yr.isArrayBuffer=ws,yr.isArrayLike=bs,yr.isArrayLikeObject=Ss,yr.isBoolean=function(t){return!0===t||!1===t||zs(t)&&ni(t)==G},yr.isBuffer=ks,yr.isDate=Ms,yr.isElement=function(t){return zs(t)&&1===t.nodeType&&!Ds(t)},yr.isEmpty=function(t){if(null==t)return!0;if(bs(t)&&(_s(t)||"string"==typeof t||"function"==typeof t.splice||ks(t)||Bs(t)||xs(t)))return!t.length;var e=qo(t);if(e==$||e==tt)return!t.size;if(ea(t))return!di(t).length;for(var n in t)if(fe.call(t,n))return!1;return!0},yr.isEqual=function(t,e){return ui(t,e)},yr.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?ui(t,e,n,r):!!i},yr.isError=As,yr.isFinite=function(t){return"number"==typeof t&&qn(t)},yr.isFunction=Is,yr.isInteger=Ts,yr.isLength=Cs,yr.isMap=Ls,yr.isMatch=function(t,e){return t===e||hi(t,e,Go(e))},yr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,hi(t,e,Go(e),r)},yr.isNaN=function(t){return Os(t)&&t!=+t},yr.isNative=function(t){if(ta(t))throw new te(i);return ci(t)},yr.isNil=function(t){return null==t},yr.isNull=function(t){return null===t},yr.isNumber=Os,yr.isObject=Es,yr.isObjectLike=zs,yr.isPlainObject=Ds,yr.isRegExp=Ps,yr.isSafeInteger=function(t){return Ts(t)&&t>=-L&&t<=L},yr.isSet=Fs,yr.isString=Ns,yr.isSymbol=Rs,yr.isTypedArray=Bs,yr.isUndefined=function(t){return t===n},yr.isWeakMap=function(t){return zs(t)&&qo(t)==it},yr.isWeakSet=function(t){return zs(t)&&ni(t)==ot},yr.join=function(t,e){return null==t?"":Yn.call(t,e)},yr.kebabCase=_l,yr.last=Aa,yr.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=Us(r))<0?Xn(i+o,0):Kn(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):ln(t,cn,o,!0)},yr.lowerCase=wl,yr.lowerFirst=bl,yr.lt=Ws,yr.lte=js,yr.max=function(t){return t&&t.length?qr(t,Ol,ri):n},yr.maxBy=function(t,e){return t&&t.length?qr(t,Wo(e,2),ri):n},yr.mean=function(t){return fn(t,Ol)},yr.meanBy=function(t,e){return fn(t,Wo(e,2))},yr.min=function(t){return t&&t.length?qr(t,Ol,gi):n},yr.minBy=function(t,e){return t&&t.length?qr(t,Wo(e,2),gi):n},yr.stubArray=Vl,yr.stubFalse=ql,yr.stubObject=function(){return{}},yr.stubString=function(){return""},yr.stubTrue=function(){return!0},yr.multiply=Ql,yr.nth=function(t,e){return t&&t.length?_i(t,Us(e)):n},yr.noConflict=function(){return Le._===this&&(Le._=xe),this},yr.noop=Rl,yr.now=ns,yr.pad=function(t,e,n){t=$s(t);var r=(e=Us(e))?Ln(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return bo(Hn(i),n)+t+bo(Gn(i),n)},yr.padEnd=function(t,e,n){t=$s(t);var r=(e=Us(e))?Ln(t):0;return e&&r<e?t+bo(e-r,n):t},yr.padStart=function(t,e,n){t=$s(t);var r=(e=Us(e))?Ln(t):0;return e&&r<e?bo(e-r,n)+t:t},yr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Qn($s(t).replace(Dt,""),e||0)},yr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Zo(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=Hs(t),e===n?(e=t,t=0):e=Hs(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=Jn();return Kn(t+o*(e-t+Te("1e-"+((o+"").length-1))),e)}return Mi(t,e)},yr.reduce=function(t,e,n){var r=_s(t)?nn:gn,i=arguments.length<3;return r(t,Wo(e,4),n,i,Hr)},yr.reduceRight=function(t,e,n){var r=_s(t)?rn:gn,i=arguments.length<3;return r(t,Wo(e,4),n,i,Ur)},yr.repeat=function(t,e,r){return e=(r?Zo(t,e,r):e===n)?1:Us(e),Ai($s(t),e)},yr.replace=function(){var t=arguments,e=$s(t[0]);return t.length<3?e:e.replace(t[1],t[2])},yr.result=function(t,e,r){var i=-1,o=(e=Ki(e,t)).length;for(o||(o=1,t=n);++i<o;){var a=null==t?n:t[da(e[i])];a===n&&(i=o,a=r),t=Is(a)?a.call(t):a}return t},yr.round=Jl,yr.runInContext=t,yr.sample=function(t){return(_s(t)?Tr:Ti)(t)},yr.size=function(t){if(null==t)return 0;if(bs(t))return Ns(t)?Ln(t):t.length;var e=qo(t);return e==$||e==tt?t.size:di(t).length},yr.snakeCase=Sl,yr.some=function(t,e,r){var i=_s(t)?on:Pi;return r&&Zo(t,e,r)&&(e=n),i(t,Wo(e,3))},yr.sortedIndex=function(t,e){return Fi(t,e)},yr.sortedIndexBy=function(t,e,n){return Ni(t,e,Wo(n,2))},yr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Fi(t,e);if(r<n&&vs(t[r],e))return r}return-1},yr.sortedLastIndex=function(t,e){return Fi(t,e,!0)},yr.sortedLastIndexBy=function(t,e,n){return Ni(t,e,Wo(n,2),!0)},yr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Fi(t,e,!0)-1;if(vs(t[n],e))return n}return-1},yr.startCase=kl,yr.startsWith=function(t,e,n){return t=$s(t),n=null==n?0:Rr(Us(n),0,t.length),e=Wi(e),t.slice(n,n+e.length)==e},yr.subtract=tu,yr.sum=function(t){return t&&t.length?vn(t,Ol):0},yr.sumBy=function(t,e){return t&&t.length?vn(t,Wo(e,2)):0},yr.template=function(t,e,r){var i=yr.templateSettings;r&&Zo(t,e,r)&&(e=n),t=$s(t),e=Zs({},e,i,Eo);var o,a,s=Zs({},e.imports,i.imports,Eo),l=sl(s),u=xn(s,l),h=0,c=e.interpolate||Xt,f="__p += '",d=ie((e.escape||Xt).source+"|"+c.source+"|"+(c===At?jt:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ke+"]")+"\n";t.replace(d,function(e,n,r,i,s,l){return r||(r=i),f+=t.slice(h,l).replace(Kt,Mn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(yt,""):f).replace(mt,"$1").replace(xt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Tl(function(){return ee(l,p+"return "+f).apply(n,u)});if(v.source=f,As(v))throw v;return v},yr.times=function(t,e){if((t=Us(t))<1||t>L)return[];var n=P,r=Kn(t,P);e=Wo(e),t-=P;for(var i=yn(r,e);++n<t;)e(n);return i},yr.toFinite=Hs,yr.toInteger=Us,yr.toLength=Vs,yr.toLower=function(t){return $s(t).toLowerCase()},yr.toNumber=qs,yr.toSafeInteger=function(t){return t?Rr(Us(t),-L,L):0===t?t:0},yr.toString=$s,yr.toUpper=function(t){return $s(t).toUpperCase()},yr.trim=function(t,e,r){if((t=$s(t))&&(r||e===n))return t.replace(Ot,"");if(!t||!(e=Wi(e)))return t;var i=On(t),o=On(e);return Qi(i,wn(i,o),bn(i,o)+1).join("")},yr.trimEnd=function(t,e,r){if((t=$s(t))&&(r||e===n))return t.replace(Pt,"");if(!t||!(e=Wi(e)))return t;var i=On(t);return Qi(i,0,bn(i,On(e))+1).join("")},yr.trimStart=function(t,e,r){if((t=$s(t))&&(r||e===n))return t.replace(Dt,"");if(!t||!(e=Wi(e)))return t;var i=On(t);return Qi(i,wn(i,On(e))).join("")},yr.truncate=function(t,e){var r=M,i=A;if(Es(e)){var o="separator"in e?e.separator:o;r="length"in e?Us(e.length):r,i="omission"in e?Wi(e.omission):i}var a=(t=$s(t)).length;if(An(t)){var s=On(t);a=s.length}if(r>=a)return t;var l=r-Ln(i);if(l<1)return i;var u=s?Qi(s,0,l).join(""):t.slice(0,l);if(o===n)return u+i;if(s&&(l+=u.length-l),Ps(o)){if(t.slice(l).search(o)){var h,c=u;for(o.global||(o=ie(o.source,$s(Gt.exec(o))+"g")),o.lastIndex=0;h=o.exec(c);)var f=h.index;u=u.slice(0,f===n?l:f)}}else if(t.indexOf(Wi(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+i},yr.unescape=function(t){return(t=$s(t))&&bt.test(t)?t.replace(_t,Dn):t},yr.uniqueId=function(t){var e=++de;return $s(t)+e},yr.upperCase=Ml,yr.upperFirst=Al,yr.each=$a,yr.eachRight=Xa,yr.first=ba,Nl(yr,(Zl={},Zr(yr,function(t,e){fe.call(yr.prototype,e)||(Zl[e]=t)}),Zl),{chain:!1}),yr.VERSION="4.17.4",$e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){yr[t].placeholder=yr}),$e(["drop","take"],function(t,e){wr.prototype[t]=function(r){r=r===n?1:Xn(Us(r),0);var i=this.__filtered__&&!e?new wr(this):this.clone();return i.__filtered__?i.__takeCount__=Kn(r,i.__takeCount__):i.__views__.push({size:Kn(r,P),type:t+(i.__dir__<0?"Right":"")}),i},wr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),$e(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==C||3==n;wr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Wo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),$e(["head","last"],function(t,e){var n="take"+(e?"Right":"");wr.prototype[t]=function(){return this[n](1).value()[0]}}),$e(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");wr.prototype[t]=function(){return this.__filtered__?new wr(this):this[n](1)}}),wr.prototype.compact=function(){return this.filter(Ol)},wr.prototype.find=function(t){return this.filter(t).head()},wr.prototype.findLast=function(t){return this.reverse().find(t)},wr.prototype.invokeMap=Ii(function(t,e){return"function"==typeof t?new wr(this):this.map(function(n){return si(n,t,e)})}),wr.prototype.reject=function(t){return this.filter(cs(Wo(t)))},wr.prototype.slice=function(t,e){t=Us(t);var r=this;return r.__filtered__&&(t>0||e<0)?new wr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=Us(e))<0?r.dropRight(-e):r.take(e-t)),r)},wr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wr.prototype.toArray=function(){return this.take(P)},Zr(wr.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=yr[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(yr.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,l=e instanceof wr,u=s[0],h=l||_s(e),c=function(t){var e=o.apply(yr,en([t],s));return i&&f?e[0]:e};h&&r&&"function"==typeof u&&1!=u.length&&(l=h=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,g=l&&!d;if(!a&&h){e=g?e:new wr(this);var v=t.apply(e,s);return v.__actions__.push({func:Ha,args:[c],thisArg:n}),new _r(v,f)}return p&&g?t.apply(this,s):(v=this.thru(c),p?i?v.value()[0]:v.value():v)})}),$e(["pop","push","shift","sort","splice","unshift"],function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);yr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(_s(i)?i:[],t)}return this[n](function(n){return e.apply(_s(n)?n:[],t)})}}),Zr(wr.prototype,function(t,e){var n=yr[e];if(n){var r=n.name+"";(lr[r]||(lr[r]=[])).push({name:e,func:n})}}),lr[mo(n,v).name]=[{name:"wrapper",func:n}],wr.prototype.clone=function(){var t=new wr(this.__wrapped__);return t.__actions__=ao(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ao(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ao(this.__views__),t},wr.prototype.reverse=function(){if(this.__filtered__){var t=new wr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},wr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=_s(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Kn(e,t+a);break;case"takeRight":t=Xn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,h=this.__iteratees__,c=h.length,f=0,d=Kn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Vi(t,this.__actions__);var p=[];t:for(;l--&&f<d;){for(var g=-1,v=t[u+=e];++g<c;){var y=h[g],m=y.iteratee,x=y.type,_=m(v);if(x==E)v=_;else if(!_){if(x==C)continue t;break t}}p[f++]=v}return p},yr.prototype.at=Ua,yr.prototype.chain=function(){return Ga(this)},yr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},yr.prototype.next=function(){this.__values__===n&&(this.__values__=Gs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},yr.prototype.plant=function(t){for(var e,r=this;r instanceof xr;){var i=ga(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},yr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof wr){var e=t;return this.__actions__.length&&(e=new wr(this)),(e=e.reverse()).__actions__.push({func:Ha,args:[Ea],thisArg:n}),new _r(e,this.__chain__)}return this.thru(Ea)},yr.prototype.toJSON=yr.prototype.valueOf=yr.prototype.value=function(){return Vi(this.__wrapped__,this.__actions__)},yr.prototype.first=yr.prototype.head,Fn&&(yr.prototype[Fn]=function(){return this}),yr}();"function"==typeof n&&"object"==a(n.amd)&&n.amd?(Le._=Pn,n(function(){return Pn})):De?((De.exports=Pn)._=Pn,Oe._=Pn):Le._=Pn}).call(pk)});try{gk=vk}catch(t){}gk||(gk=window._);var yk=gk,mk=bk,xk="\0",_k="\0",wk="";function bk(t){this._isDirected=!yk.has(t,"directed")||t.directed,this._isMultigraph=!!yk.has(t,"multigraph")&&t.multigraph,this._isCompound=!!yk.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=yk.constant(void 0),this._defaultEdgeLabelFn=yk.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[_k]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Sk(t,e){t[e]?t[e]++:t[e]=1}function kk(t,e){--t[e]||delete t[e]}function Mk(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+wk+o+wk+(yk.isUndefined(r)?xk:r)}function Ak(t,e){return Mk(t,e.v,e.w,e.name)}bk.prototype._nodeCount=0,bk.prototype._edgeCount=0,bk.prototype.isDirected=function(){return this._isDirected},bk.prototype.isMultigraph=function(){return this._isMultigraph},bk.prototype.isCompound=function(){return this._isCompound},bk.prototype.setGraph=function(t){return this._label=t,this},bk.prototype.graph=function(){return this._label},bk.prototype.setDefaultNodeLabel=function(t){return yk.isFunction(t)||(t=yk.constant(t)),this._defaultNodeLabelFn=t,this},bk.prototype.nodeCount=function(){return this._nodeCount},bk.prototype.nodes=function(){return yk.keys(this._nodes)},bk.prototype.sources=function(){var t=this;return yk.filter(this.nodes(),function(e){return yk.isEmpty(t._in[e])})},bk.prototype.sinks=function(){var t=this;return yk.filter(this.nodes(),function(e){return yk.isEmpty(t._out[e])})},bk.prototype.setNodes=function(t,e){var n=arguments,r=this;return yk.each(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this},bk.prototype.setNode=function(t,e){return yk.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=_k,this._children[t]={},this._children[_k][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},bk.prototype.node=function(t){return this._nodes[t]},bk.prototype.hasNode=function(t){return yk.has(this._nodes,t)},bk.prototype.removeNode=function(t){var e=this;if(yk.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],yk.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),yk.each(yk.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],yk.each(yk.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},bk.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(yk.isUndefined(e))e=_k;else{for(var n=e+="";!yk.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},bk.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},bk.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==_k)return e}},bk.prototype.children=function(t){if(yk.isUndefined(t)&&(t=_k),this._isCompound){var e=this._children[t];if(e)return yk.keys(e)}else{if(t===_k)return this.nodes();if(this.hasNode(t))return[]}},bk.prototype.predecessors=function(t){var e=this._preds[t];if(e)return yk.keys(e)},bk.prototype.successors=function(t){var e=this._sucs[t];if(e)return yk.keys(e)},bk.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return yk.union(e,this.successors(t))},bk.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},bk.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;yk.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),yk.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&yk.each(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e},bk.prototype.setDefaultEdgeLabel=function(t){return yk.isFunction(t)||(t=yk.constant(t)),this._defaultEdgeLabelFn=t,this},bk.prototype.edgeCount=function(){return this._edgeCount},bk.prototype.edges=function(){return yk.values(this._edgeObjs)},bk.prototype.setPath=function(t,e){var n=this,r=arguments;return yk.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},bk.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];"object"===(void 0===o?"undefined":a(o))&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,yk.isUndefined(n)||(n=""+n);var s=Mk(this._isDirected,t,e,n);if(yk.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!yk.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var l=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,e,n);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[s]=l,Sk(this._preds[e],t),Sk(this._sucs[t],e),this._in[e][s]=l,this._out[t][s]=l,this._edgeCount++,this},bk.prototype.edge=function(t,e,n){var r=1===arguments.length?Ak(this._isDirected,arguments[0]):Mk(this._isDirected,t,e,n);return this._edgeLabels[r]},bk.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?Ak(this._isDirected,arguments[0]):Mk(this._isDirected,t,e,n);return yk.has(this._edgeLabels,r)},bk.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?Ak(this._isDirected,arguments[0]):Mk(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],kk(this._preds[e],t),kk(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},bk.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=yk.values(n);return e?yk.filter(r,function(t){return t.v===e}):r}},bk.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=yk.values(n);return e?yk.filter(r,function(t){return t.w===e}):r}},bk.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var Ik={Graph:mk,version:"2.1.5"},Tk={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return yk.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return yk.isUndefined(n)||(i.value=n),yk.isUndefined(r)||(i.parent=r),i})}(t),edges:function(t){return yk.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return yk.isUndefined(e.name)||(r.name=e.name),yk.isUndefined(n)||(r.value=n),r})}(t)};yk.isUndefined(t.graph())||(e.value=yk.clone(t.graph()));return e},read:function(t){var e=new mk(t.options).setGraph(t.value);return yk.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),yk.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}};var Ck=function(t){var e,n={},r=[];function i(r){yk.has(n,r)||(n[r]=!0,e.push(r),yk.each(t.successors(r),i),yk.each(t.predecessors(r),i))}return yk.each(t.nodes(),function(t){e=[],i(t),e.length&&r.push(e)}),r};var Ek=zk;function zk(){this._arr=[],this._keyIndices={}}zk.prototype.size=function(){return this._arr.length},zk.prototype.keys=function(){return this._arr.map(function(t){return t.key})},zk.prototype.has=function(t){return yk.has(this._keyIndices,t)},zk.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},zk.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},zk.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!yk.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},zk.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},zk.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},zk.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},zk.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},zk.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var Lk=function(t,e,n,r){return function(t,e,n,r){var i,o,a={},s=new Ek,l=function(t){var e=t.v!==i?t.v:t.w,r=a[e],l=n(t),u=o.distance+l;if(l<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+l);u<r.distance&&(r.distance=u,r.predecessor=i,s.decrease(e,u))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},s.add(t,n)});for(;s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return a}(t,String(e),n||Ok,r||function(e){return t.outEdges(e)})},Ok=yk.constant(1);var Dk=function(t,e,n){return yk.transform(t.nodes(),function(r,i){r[i]=Lk(t,i,e,n)},{})};var Pk=function(t){var e=0,n=[],r={},i=[];return t.nodes().forEach(function(o){yk.has(r,o)||function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(t){yk.has(r,t)?r[t].onStack&&(s.lowlink=Math.min(s.lowlink,r[t].index)):(o(t),s.lowlink=Math.min(s.lowlink,r[t].lowlink))}),s.lowlink===s.index){var l,u=[];do{l=n.pop(),r[l].onStack=!1,u.push(l)}while(a!==l);i.push(u)}}(o)}),i};var Fk=function(t){return yk.filter(Pk(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})};var Nk=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(t,e||Rk,n||function(e){return t.outEdges(e)})},Rk=yk.constant(1);var Bk=Wk;function Wk(t){var e={},n={},r=[];if(yk.each(t.sinks(),function i(o){if(yk.has(n,o))throw new jk;yk.has(e,o)||(n[o]=!0,e[o]=!0,yk.each(t.predecessors(o),i),delete n[o],r.push(o))}),yk.size(e)!==t.nodeCount())throw new jk;return r}function jk(){}Wk.CycleException=jk;var Gk=function(t,e,n){yk.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return yk.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,i,o,a){yk.has(i,n)||(i[n]=!0,r||a.push(n),yk.each(o(n),function(n){t(e,n,r,i,o,a)}),r&&a.push(n))}(t,e,"post"===n,o,r,i)}),i};var Hk,Uk={Graph:Ik.Graph,json:Tk,alg:{components:Ck,dijkstra:Lk,dijkstraAll:Dk,findCycles:Fk,floydWarshall:Nk,isAcyclic:function(t){try{Bk(t)}catch(t){if(t instanceof Bk.CycleException)return!1;throw t}return!0},postorder:function(t,e){return Gk(t,e,"post")},preorder:function(t,e){return Gk(t,e,"pre")},prim:function(t,e){var n,r=new mk,i={},o=new Ek;function a(t){var r=t.v===n?t.w:t.v,a=o.priority(r);if(void 0!==a){var s=e(t);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===t.nodeCount())return r;yk.each(t.nodes(),function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)}),o.decrease(t.nodes()[0],0);var s=!1;for(;o.size()>0;){if(n=o.removeMin(),yk.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(n).forEach(a)}return r},tarjan:Pk,topsort:Bk},version:Ik.version};try{Hk=Uk}catch(t){}Hk||(Hk=window.graphlib);var Vk,qk=Hk;try{Vk=vk}catch(t){}Vk||(Vk=window._);var Yk=Vk,$k=Xk;function Xk(){var t={};t._next=t._prev=t,this._sentinel=t}function Kk(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Zk(t,e){if("_next"!==t&&"_prev"!==t)return e}Xk.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return Kk(e),e},Xk.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&Kk(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},Xk.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,Zk)),n=n._prev;return"["+t.join(", ")+"]"};var Qk=qk.Graph,Jk=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new Qk,r=0,i=0;Yk.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),Yk.forEach(t.edges(),function(t){var o=n.edge(t.v,t.w)||0,a=e(t),s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)});var o=Yk.range(i+r+3).map(function(){return new $k}),a=r+1;return Yk.forEach(n.nodes(),function(t){nM(o,a,n.node(t))}),{graph:n,buckets:o,zeroIdx:a}}(t,e||tM),r=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)eM(t,e,n,r);for(;r=o.dequeue();)eM(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(eM(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return Yk.flatten(Yk.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)},tM=Yk.constant(1);function eM(t,e,n,r,i){var o=i?[]:void 0;return Yk.forEach(t.inEdges(r.v),function(r){var a=t.edge(r),s=t.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,nM(e,n,s)}),Yk.forEach(t.outEdges(r.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,nM(e,n,a)}),t.removeNode(r.v),o}function nM(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var rM={run:function(t){var e="greedy"===t.graph().acyclicer?Jk(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};return Yk.forEach(t.nodes(),function i(o){Yk.has(r,o)||(r[o]=!0,n[o]=!0,Yk.forEach(t.outEdges(o),function(t){Yk.has(n,t.w)?e.push(t):i(t.w)}),delete n[o])}),e}(t);Yk.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,Yk.uniqueId("rev"))})},undo:function(t){Yk.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}};var iM=qk.Graph,oM={addDummyNode:aM,simplify:function(t){var e=(new iM).setGraph(t.graph());return Yk.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),Yk.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new iM({multigraph:t.isMultigraph()}).setGraph(t.graph());return Yk.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),Yk.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=Yk.map(t.nodes(),function(e){var n={};return Yk.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return Yk.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=Yk.map(t.nodes(),function(e){var n={};return Yk.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return Yk.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,u=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=Yk.map(Yk.range(sM(t)+1),function(){return[]});return Yk.forEach(t.nodes(),function(n){var r=t.node(n),i=r.rank;Yk.isUndefined(i)||(e[i][r.order]=n)}),e},normalizeRanks:function(t){var e=Yk.min(Yk.map(t.nodes(),function(e){return t.node(e).rank}));Yk.forEach(t.nodes(),function(n){var r=t.node(n);Yk.has(r,"rank")&&(r.rank-=e)})},removeEmptyRanks:function(t){var e=Yk.min(Yk.map(t.nodes(),function(e){return t.node(e).rank})),n=[];Yk.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=t.graph().nodeRankFactor;Yk.forEach(n,function(e,n){Yk.isUndefined(e)&&n%i!=0?--r:r&&Yk.forEach(e,function(e){t.node(e).rank+=r})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return aM(t,"border",i,e)},maxRank:sM,partition:function(t,e){var n={lhs:[],rhs:[]};return Yk.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){Yk.now();try{return e()}finally{}},notime:function(t,e){return e()}};function aM(t,e,n,r){var i;do{i=Yk.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function sM(t){return Yk.max(Yk.map(t.nodes(),function(e){var n=t.node(e).rank;if(!Yk.isUndefined(n))return n}))}var lM={run:function(t){t.graph().dummyChains=[],Yk.forEach(t.edges(),function(e){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,l=t.node(s).rank,u=e.name,h=t.edge(e),c=h.labelRank;if(l===a+1)return;for(t.removeEdge(e),i=0,++a;a<l;++i,++a)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:a},n=oM.addDummyNode(t,"edge",r,"_d"),a===c&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(o,n,{weight:h.weight},u),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:h.weight},u)}(t,e)})},undo:function(t){Yk.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}};var uM=function(t){var e={};Yk.forEach(t.sources(),function n(r){var i=t.node(r);if(Yk.has(e,r))return i.rank;e[r]=!0;var o=Yk.min(Yk.map(t.outEdges(r),function(e){return n(e.w)-t.edge(e).minlen}));o!==Number.POSITIVE_INFINITY&&void 0!==o&&null!==o||(o=0);return i.rank=o})},hM=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen};var cM=qk.Graph,fM=hM,dM=function(t){var e,n,r=new cM({directed:!1}),i=t.nodes()[0],o=t.nodeCount();r.setNode(i,{});for(;pM(r,t)<o;)e=gM(r,t),n=r.hasNode(e.v)?fM(t,e):-fM(t,e),vM(r,t,n);return r};function pM(t,e){return Yk.forEach(t.nodes(),function n(r){Yk.forEach(e.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||fM(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}),t.nodeCount()}function gM(t,e){return Yk.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return fM(e,n)})}function vM(t,e,n){Yk.forEach(t.nodes(),function(t){e.node(t).rank+=n})}var yM=hM,mM=uM,xM=qk.alg.preorder,_M=qk.alg.postorder,wM=oM.simplify,bM=SM;function SM(t){t=wM(t),mM(t);var e,n=dM(t);for(AM(n),kM(n,t);e=IM(n);)CM(n,t,e,TM(n,t,e))}function kM(t,e){var n=_M(t,t.nodes());n=n.slice(0,n.length-1),Yk.forEach(n,function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=MM(t,e,n)}(t,e,n)})}function MM(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),a=0;return o||(i=!1,o=e.edge(r,n)),a=o.weight,Yk.forEach(e.nodeEdges(n),function(o){var s,l,u=o.v===n,h=u?o.w:o.v;if(h!==r){var c=u===i,f=e.edge(o).weight;if(a+=c?f:-f,s=n,l=h,t.hasEdge(s,l)){var d=t.edge(n,h).cutvalue;a+=c?-d:d}}}),a}function AM(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,i,o){var a=r,s=e.node(i);n[i]=!0;Yk.forEach(e.neighbors(i),function(o){Yk.has(n,o)||(r=t(e,n,r,o,i))});s.low=a;s.lim=r++;o?s.parent=o:delete s.parent;return r}(t,{},1,e)}function IM(t){return Yk.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function TM(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=Yk.filter(e.edges(),function(e){return l===EM(t,t.node(e.v),s)&&l!==EM(t,t.node(e.w),s)});return Yk.minBy(u,function(t){return yM(e,t)})}function CM(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),AM(t),kM(t,e),function(t,e){var n=Yk.find(t.nodes(),function(t){return!e.node(t).parent}),r=xM(t,n);r=r.slice(1),Yk.forEach(r,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}(t,e)}function EM(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}SM.initLowLimValues=AM,SM.initCutValues=kM,SM.calcCutValue=MM,SM.leaveEdge=IM,SM.enterEdge=TM,SM.exchangeEdges=CM;var zM=uM,LM=function(t){switch(t.graph().ranker){case"network-simplex":DM(t);break;case"tight-tree":!function(t){zM(t),dM(t)}(t);break;case"longest-path":OM(t);break;default:DM(t)}};var OM=zM;function DM(t){bM(t)}var PM=function(t){var e=function(t){var e={},n=0;return Yk.forEach(t.children(),function r(i){var o=n;Yk.forEach(t.children(i),r),e[i]={low:o,lim:n++}}),e}(t);Yk.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||u>e[i].lim));o=i,i=r;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],h=!0;n!==i.w;){if(r=t.node(n),h){for(;(u=a[l])!==s&&t.node(u).maxRank<r.rank;)l++;u===s&&(h=!1)}if(!h){for(;l<a.length-1&&t.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}t.setParent(n,u),n=t.successors(n)[0]}})};var FM={run:function(t){var e=oM.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return Yk.forEach(t.children(),function(n){!function n(r,i){var o=t.children(r);o&&o.length&&Yk.forEach(o,function(t){n(t,i+1)}),e[r]=i}(n,1)}),e}(t),r=Yk.max(Yk.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,Yk.forEach(t.edges(),function(e){t.edge(e).minlen*=i});var o=function(t){return Yk.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;Yk.forEach(t.children(),function(a){!function t(e,n,r,i,o,a,s){var l=e.children(s);if(!l.length)return void(s!==n&&e.setEdge(n,s,{weight:0,minlen:r}));var u=oM.addBorderNode(e,"_bt"),h=oM.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(u,s);c.borderTop=u;e.setParent(h,s);c.borderBottom=h;Yk.forEach(l,function(l){t(e,n,r,i,o,a,l);var c=e.node(l),f=c.borderTop?c.borderTop:l,d=c.borderBottom?c.borderBottom:l,p=c.borderTop?i:2*i,g=f!==d?1:o-a[s]+1;e.setEdge(u,f,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(d,h,{weight:p,minlen:g,nestingEdge:!0})});e.parent(s)||e.setEdge(n,u,{weight:0,minlen:o+a[s]})}(t,e,i,o,r,n,a)}),t.graph().nodeRankFactor=i},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Yk.forEach(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}};var NM=function(t){Yk.forEach(t.children(),function e(n){var r=t.children(n),i=t.node(n);r.length&&Yk.forEach(r,e);if(Yk.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)RM(t,"borderLeft","_bl",n,i,o),RM(t,"borderRight","_br",n,i,o)}})};function RM(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],l=oM.addDummyNode(t,"border",a,n);i[e][o]=l,t.setParent(l,r),s&&t.setEdge(s,l,{weight:1})}var BM={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||WM(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){Yk.forEach(t.nodes(),function(e){GM(t.node(e))}),Yk.forEach(t.edges(),function(e){var n=t.edge(e);Yk.forEach(n.points,GM),Yk.has(n,"y")&&GM(n)})}(t);"lr"!==e&&"rl"!==e||(!function(t){Yk.forEach(t.nodes(),function(e){HM(t.node(e))}),Yk.forEach(t.edges(),function(e){var n=t.edge(e);Yk.forEach(n.points,HM),Yk.has(n,"x")&&HM(n)})}(t),WM(t))}};function WM(t){Yk.forEach(t.nodes(),function(e){jM(t.node(e))}),Yk.forEach(t.edges(),function(e){jM(t.edge(e))})}function jM(t){var e=t.width;t.width=t.height,t.height=e}function GM(t){t.y=-t.y}function HM(t){var e=t.x;t.x=t.y,t.y=e}var UM=function(t){var e={},n=Yk.filter(t.nodes(),function(e){return!t.children(e).length}),r=Yk.max(Yk.map(n,function(e){return t.node(e).rank})),i=Yk.map(Yk.range(r+1),function(){return[]});var o=Yk.sortBy(n,function(e){return t.node(e).rank});return Yk.forEach(o,function n(r){if(!Yk.has(e,r)){e[r]=!0;var o=t.node(r);i[o.rank].push(r),Yk.forEach(t.successors(r),n)}}),i};var VM=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=qM(t,e[r-1],e[r]);return n};function qM(t,e,n){for(var r=Yk.zipObject(n,Yk.map(n,function(t,e){return e})),i=Yk.flatten(Yk.map(e,function(e){return Yk.chain(t.outEdges(e)).map(function(e){return{pos:r[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Yk.map(new Array(a),function(){return 0}),l=0;return Yk.forEach(i.forEach(function(t){var e=t.pos+o;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;l+=t.weight*n})),l}var YM=function(t,e){return Yk.map(e,function(e){var n=t.inEdges(e);if(n.length){var r=Yk.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}})};var $M=function(t,e){var n={};return Yk.forEach(t,function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};Yk.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)}),Yk.forEach(e.edges(),function(t){var e=n[t.v],r=n[t.w];Yk.isUndefined(e)||Yk.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){var n,r,i,o;e.merged||(Yk.isUndefined(e.barycenter)||Yk.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(r=e,i=0,o=0,(n=t).weight&&(i+=n.barycenter*n.weight,o+=n.weight),r.weight&&(i+=r.barycenter*r.weight,o+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=i/o,n.weight=o,n.i=Math.min(r.i,n.i),r.merged=!0)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),Yk.forEach(i.in.reverse(),n(i)),Yk.forEach(i.out,r(i))}return Yk.chain(e).filter(function(t){return!t.merged}).map(function(t){return Yk.pick(t,["vs","i","barycenter","weight"])}).value()}(Yk.filter(n,function(t){return!t.indegree}))};var XM=function(t,e){var n=oM.partition(t,function(t){return Yk.has(t,"barycenter")}),r=n.lhs,i=Yk.sortBy(n.rhs,function(t){return-t.i}),o=[],a=0,s=0,l=0;r.sort((u=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:u?e.i-t.i:t.i-e.i})),l=KM(o,i,l),Yk.forEach(r,function(t){l+=t.vs.length,o.push(t.vs),a+=t.barycenter*t.weight,s+=t.weight,l=KM(o,i,l)});var u;var h={vs:Yk.flatten(o,!0)};s&&(h.barycenter=a/s,h.weight=s);return h};function KM(t,e,n){for(var r;e.length&&(r=Yk.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var ZM=function t(e,n,r,i){var o=e.children(n),a=e.node(n),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(o=Yk.filter(o,function(t){return t!==s&&t!==l}));var h=YM(e,o);Yk.forEach(h,function(n){if(e.children(n.v).length){var o=t(e,n.v,r,i);u[n.v]=o,Yk.has(o,"barycenter")&&(a=n,s=o,Yk.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s});var c=$M(h,r);!function(t,e){Yk.forEach(t,function(t){t.vs=Yk.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(c,u);var f=XM(c,i);if(s&&(f.vs=Yk.flatten([s,f.vs,l],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(l)[0]);Yk.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+p.order)/(f.weight+2),f.weight+=2}return f};var QM=qk.Graph,JM=function(t,e,n){var r=function(t){var e;for(;t.hasNode(e=Yk.uniqueId("_root")););return e}(t),i=new QM({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(e){return t.node(e)});return Yk.forEach(t.nodes(),function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Yk.forEach(t[n](o),function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),a=Yk.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+a})}),Yk.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i};var tA=function(t,e,n){var r,i={};Yk.forEach(n,function(n){for(var o,a,s=t.parent(n);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}})};var eA=qk.Graph,nA=function(t){var e=oM.maxRank(t),n=rA(t,Yk.range(1,e+1),"inEdges"),r=rA(t,Yk.range(e-1,-1,-1),"outEdges"),i=UM(t);oA(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){iA(s%2?n:r,s%4>=2),i=oM.buildLayerMatrix(t);var u=VM(t,i);u<a&&(l=0,o=Yk.cloneDeep(i),a=u)}oA(t,o)};function rA(t,e,n){return Yk.map(e,function(e){return JM(t,e,n)})}function iA(t,e){var n=new eA;Yk.forEach(t,function(t){var r=t.graph().root,i=ZM(t,r,n,e);Yk.forEach(i.vs,function(e,n){t.node(e).order=n}),tA(t,n,i.vs)})}function oA(t,e){Yk.forEach(e,function(e){Yk.forEach(e,function(e,n){t.node(e).order=n})})}var aA=qk.Graph;function sA(t,e){var n={};return Yk.reduce(e,function(e,r){var i=0,o=0,a=e.length,s=Yk.last(r);return Yk.forEach(r,function(e,l){var u=function(t,e){if(t.node(e).dummy)return Yk.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),h=u?t.node(u).order:a;(u||e===s)&&(Yk.forEach(r.slice(o,l+1),function(e){Yk.forEach(t.predecessors(e),function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||uA(n,r,e)})}),o=l+1,i=h)}),r}),n}function lA(t,e){var n={};function r(e,r,i,o,a){var s;Yk.forEach(Yk.range(r,i),function(r){s=e[r],t.node(s).dummy&&Yk.forEach(t.predecessors(s),function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>a)&&uA(n,e,s)})})}return Yk.reduce(e,function(e,n){var i,o=-1,a=0;return Yk.forEach(n,function(s,l){if("border"===t.node(s).dummy){var u=t.predecessors(s);u.length&&(i=t.node(u[0]).order,r(n,a,l,o,i),a=l,o=i)}r(n,a,n.length,i,e.length)}),n}),n}function uA(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function hA(t,e,n){if(e>n){var r=e;e=n,n=r}return Yk.has(t[e],n)}function cA(t,e,n,r){var i={},o={},a={};return Yk.forEach(e,function(t){Yk.forEach(t,function(t,e){i[t]=t,o[t]=t,a[t]=e})}),Yk.forEach(e,function(t){var e=-1;Yk.forEach(t,function(t){var s=r(t);if(s.length)for(var l=((s=Yk.sortBy(s,function(t){return a[t]})).length-1)/2,u=Math.floor(l),h=Math.ceil(l);u<=h;++u){var c=s[u];o[t]===t&&e<a[c]&&!hA(n,t,c)&&(o[c]=t,o[t]=i[t]=i[c],e=a[c])}})}),{root:i,align:o}}function fA(t,e,n,r,i){var o={},a=function(t,e,n,r){var i=new aA,o=t.graph(),a=function(t,e,n){return function(r,i,o){var a,s=r.node(i),l=r.node(o),u=0;if(u+=s.width/2,Yk.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=n?a:-a),a=0,u+=(s.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,Yk.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(u+=n?a:-a),a=0,u}}(o.nodesep,o.edgesep,r);return Yk.forEach(e,function(e){var r;Yk.forEach(e,function(e){var o=n[e];if(i.setNode(o),r){var s=n[r],l=i.edge(s,o);i.setEdge(s,o,Math.max(a(t,e,r),l||0))}r=e})}),i}(t,e,n,i),s=i?"borderLeft":"borderRight";function l(t,e){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return l(function(t){o[t]=a.inEdges(t).reduce(function(t,e){return Math.max(t,o[e.v]+a.edge(e))},0)},Yk.bind(a.predecessors,a)),l(function(e){var n=a.outEdges(e).reduce(function(t,e){return Math.min(t,o[e.w]-a.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[e]=Math.max(o[e],n))},Yk.bind(a.successors,a)),Yk.forEach(r,function(t){o[t]=o[n[t]]}),o}function dA(t,e){return Yk.minBy(Yk.values(e),function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Yk.forIn(e,function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)}),n-r})}function pA(t,e){var n=Yk.values(e),r=Yk.min(n),i=Yk.max(n);Yk.forEach(["u","d"],function(n){Yk.forEach(["l","r"],function(o){var a,s=n+o,l=t[s];if(l!==e){var u=Yk.values(l);(a="l"===o?r-Yk.min(u):i-Yk.max(u))&&(t[s]=Yk.mapValues(l,function(t){return t+a}))}})})}function gA(t,e){return Yk.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=Yk.sortBy(Yk.map(t,r));return(i[1]+i[2])/2})}var vA=function(t){var e,n=oM.buildLayerMatrix(t),r=Yk.merge(sA(t,n),lA(t,n)),i={};Yk.forEach(["u","d"],function(o){e="u"===o?n:Yk.values(n).reverse(),Yk.forEach(["l","r"],function(n){"r"===n&&(e=Yk.map(e,function(t){return Yk.values(t).reverse()}));var a=Yk.bind("u"===o?t.predecessors:t.successors,t),s=cA(t,e,r,a),l=fA(t,e,s.root,s.align,"r"===n);"r"===n&&(l=Yk.mapValues(l,function(t){return-t})),i[o+n]=l})});var o=dA(t,i);return pA(i,o),gA(i,t.graph().align)},yA=function(t){(function(t){var e=oM.buildLayerMatrix(t),n=t.graph().ranksep,r=0;Yk.forEach(e,function(e){var i=Yk.max(Yk.map(e,function(e){return t.node(e).height}));Yk.forEach(e,function(e){t.node(e).y=r+i/2}),r+=i+n})})(t=oM.asNonCompoundGraph(t)),Yk.forEach(vA(t),function(e,n){t.node(n).x=e})};var mA=oM.normalizeRanks,xA=oM.removeEmptyRanks,_A=oM,wA=qk.Graph,bA=function(t,e){var n=e&&e.debugTiming?_A.time:_A.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new wA({multigraph:!0,compound:!0}),n=LA(t.graph());return e.setGraph(Yk.merge({},kA,zA(n,SA),Yk.pick(n,MA))),Yk.forEach(t.nodes(),function(n){var r=LA(t.node(n));e.setNode(n,Yk.defaults(zA(r,AA),IA)),e.setParent(n,t.parent(n))}),Yk.forEach(t.edges(),function(n){var r=LA(t.edge(n));e.setEdge(n,Yk.merge({},CA,zA(r,TA),Yk.pick(r,EA)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,Yk.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){Yk.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){rM.run(t)}),e("    nestingGraph.run",function(){FM.run(t)}),e("    rank",function(){LM(_A.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){Yk.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-r.rank)/2+r.rank,e:e};_A.addDummyNode(t,"edge-proxy",o,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){xA(t)}),e("    nestingGraph.cleanup",function(){FM.cleanup(t)}),e("    normalizeRanks",function(){mA(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;Yk.forEach(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Yk.max(e,r.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){Yk.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){lM.run(t)}),e("    parentDummyChains",function(){PM(t)}),e("    addBorderSegments",function(){NM(t)}),e("    order",function(){nA(t)}),e("    insertSelfEdges",function(){!function(t){var e=_A.buildLayerMatrix(t);Yk.forEach(e,function(e){var n=0;Yk.forEach(e,function(e,r){var i=t.node(e);i.order=r+n,Yk.forEach(i.selfEdges,function(e){_A.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){BM.adjust(t)}),e("    position",function(){yA(t)}),e("    positionSelfEdges",function(){!function(t){Yk.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){Yk.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(Yk.last(n.borderLeft)),a=t.node(Yk.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),Yk.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){lM.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){Yk.forEach(t.edges(),function(e){var n=t.edge(e);if(Yk.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){BM.undo(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0;function l(t){var o=t.x,a=t.y,s=t.width,l=t.height;e=Math.min(e,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-l/2),i=Math.max(i,a+l/2)}Yk.forEach(t.nodes(),function(e){l(t.node(e))}),Yk.forEach(t.edges(),function(e){var n=t.edge(e);Yk.has(n,"x")&&l(n)}),e-=a,r-=s,Yk.forEach(t.nodes(),function(n){var i=t.node(n);i.x-=e,i.y-=r}),Yk.forEach(t.edges(),function(n){var i=t.edge(n);Yk.forEach(i.points,function(t){t.x-=e,t.y-=r}),Yk.has(i,"x")&&(i.x-=e),Yk.has(i,"y")&&(i.y-=r)}),o.width=n-e+a,o.height=i-r+s}(t)}),e("    assignNodeIntersects",function(){!function(t){Yk.forEach(t.edges(),function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(_A.intersectRect(o,n)),i.points.push(_A.intersectRect(a,r))})}(t)}),e("    reversePoints",function(){!function(t){Yk.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){rM.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){Yk.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),Yk.forEach(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Yk.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var SA=["nodesep","edgesep","ranksep","marginx","marginy"],kA={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},MA=["acyclicer","ranker","rankdir","align"],AA=["width","height"],IA={width:0,height:0},TA=["minlen","weight","width","height","labeloffset"],CA={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},EA=["labelpos"];function zA(t,e){return Yk.mapValues(Yk.pick(t,e),Number)}function LA(t){var e={};return Yk.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}var OA=qk.Graph;var DA={graphlib:qk,layout:bA,debug:{debugOrdering:function(t){var e=oM.buildLayerMatrix(t),n=new OA({compound:!0,multigraph:!0}).setGraph({});return Yk.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),Yk.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),Yk.forEach(e,function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),Yk.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}},util:{time:oM.time,notime:oM.notime},version:"0.8.3-pre"},PA=void 0,FA=void 0,NA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fk,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getData(),o=t.get("node"),a=t.get("link"),s=new DA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0}),u=t.get("draggable");s.setGraph({ranksep:o.rankStep}),s.setDefaultEdgeLabel(function(){return{}});var h=i.nodes;o.entireLabel?Xo(h,function(t){if(t.data&&RA(t.data.name)/2>7&&1===t.data.category){var e=t.data.name.slice(0,7)+"...";s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:e,isClick:!0})}else{var n=escape(t.data.name).indexOf("%u"),r=RA(t.data.name)/2;if(r>7)if(-1===n){var i=Math.ceil(r/2)*o.style.normal.fontSize;s.setNode(t.data.id,{label:t.data.category,width:i,height:o.shape.height,newName:t.data.name,isClick:!1})}else{var a=Math.ceil(r/2),l=new RegExp(".{"+2*a+"}?","g"),u=t.data.name.replace(/[^\x00-\xff]/g,"$&").replace(l,"$&\n").replace(/\x01/g,"");s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:u,isClick:!1})}else{var h=r*o.style.normal.fontSize+50;s.setNode(t.data.id,{label:t.data.category,width:h,height:o.shape.height,newName:t.data.name,isClick:!1})}}}):Xo(h,function(t){if(t.data&&t.data.name.length>4){var e=t.data.name.slice(0,4)+"...";s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:e,isClick:!0})}else s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:t.data.name,isClick:!0})}),this.maxCategory=og(h,function(t){return t.data.category}),this.minCategory=sg(h,function(t){return t.data.category}),this.categoryArr=h.map(function(t){return t.data.category});var c=i.edges,f=og(c,function(t){return t.data.weight});Xo(c,function(t){var e=void 0;e=t.data?"text"===a.label.type?a.lineWidth[0]:t.data.weight?t.data.weight/f:a.lineWidth[0]:.5,s.setEdge(t.data.source,t.data.target,{lineWidth:e,label:t.data.weight})}),DA.layout(s),PA=n.getWidth(),FA=n.getHeight(),this.offsetWidth=PA-s.graph().width,this.offsetHeight=FA-s.graph().height;var d=[],p=function(t,e){if(o.entireLabel){if(1===e.data.category)return t;return e.data.name.length>7?Math.ceil(e.data.name.length/2)*o.style.normal.fontSize+50:e.data.name.length*o.style.normal.fontSize+50}return t};Xo(s.nodes(),function(e,n){var i=s.node(e),a=i.x+r.offsetWidth/2,u=i.y+r.offsetHeight/2;d.push({shape:{x:a,y:u,width:p(o.shape.width,h[n]),height:function(t,e){if(o.entireLabel){var n=escape(e.data.name).indexOf("%u");return 1===e.data.category?t:-1===n?t:e.data.name.length>7?t+o.style.normal.fontSize:t}return t}(o.shape.height,h[n]),r:function(t,e){if(o.entireLabel){var n=escape(e.data.name).indexOf("%u");return 1===e.data.category?t:-1===n?e.data.name.length>14?t+o.style.normal.fontSize/2:t:e.data.name.length>7?t+o.style.normal.fontSize/2:t}return t}(o.shape.r,h[n])},style:l({},o.style.normal,{fill:function(t){return t.label===r.maxCategory?o.style.normal.colors.end:t.label===r.minCategory?o.style.normal.colors.origin:o.style.normal.colors.process}(i)}),position:[-p(o.shape.width,h[n])/2,-o.shape.height/2],z:t.get("z"),z2:900,nodeKey:e,nodeName:h[n].data.name,nodeData:h[n],nodeLabel:i.newName,isClick:i.isClick}),r.setShape(e,Ec,{style:{text:i.newName,fontSize:o.style.normal.fontSize,textFill:o.style.normal.textFill,textAlign:"center"},position:[a,u-o.style.normal.fontSize/2],z:t.get("z"),z2:901,silent:!0})});var g=t.get("limited");(function(t,e){this.group.scale=[1,1],this.group.position=[0,0];var n=this.group.getBoundingRect(),r=n.width/PA,i=n.height/FA,o=(1/(1.1*Math.max(r,i))-1)/.1,a=void 0;a=e?Math.min(o,-1):o;var s=PA/2,l=FA/2;t.option.isTop&&(l=0,this.group.position[1]=10-n.y);this.scale(s,l,a)}).call(this,t,g),this.edgeOffsetX=-(PA-s.graph().width)/2,this.edgeOffsetY=-(FA-s.graph().height)/2,this.setShapeGroup("nodes",Hc,d,void 0,void 0,function(e,a){var l=!1,h=.8*e.shape.height,c=void 0,f=!1;e.on("mousedown",function(i){i.offsetX,i.offsetY;l=!0,f=!f,c=r.getShape(e.nodeKey),n.dispatchAction(t,vd.nodeClick,e.nodeData);var a=Math.ceil(RA(e.nodeName)/2)+.5;if(a>7&&e.isClick)if(f){c.setStyle("text",e.nodeName),c.attr("z2",1501);var s=(a+1.5)*o.style.normal.fontSize;e.setShape("width",s);o.style.normal.fontSize;if(e.attr("position",[-s/2,-o.shape.height/2]),escape(e.nodeName).indexOf("%u")){var u=(a/2+2)*o.style.normal.fontSize;e.setShape("width",u);var h=(a/2-7)*o.style.normal.fontSize/2;e.attr("position",[-o.shape.width/2-h,-o.shape.height/2])}e.attr("z2",1500)}else c.setStyle("text",e.nodeLabel),c.attr("z2",901),e.setShape("width",o.shape.width),e.attr("position",[-o.shape.width/2,-o.shape.height/2]),e.attr("z2",900)}),n.on("mousemove",function(a){var f=a.offsetX,d=a.offsetY;if(!0===l&&u){var p=r.group.transformCoordToLocal(f,d);e.setShape("x",p[0]),e.setShape("y",p[1]),c.attr("position",[p[0],p[1]-o.style.normal.fontSize/2]),Xo(s.nodeEdges(e.nodeKey),function(t){var n=s.edge(t).points;if(e.nodeKey===t.w){var i=[p[0]+r.edgeOffsetX,p[1]+r.edgeOffsetY],o=n[n.length-2],a=Math.sqrt(Math.pow(i[0]-o.x,2)+Math.pow(i[1]-o.y,2)),l=(a-h)/a,u=o.x+(i[0]-o.x)*l,c=o.y+(i[1]-o.y)*l;s.setEdge(t.v,t.w,{lineWidth:s.edge(t).lineWidth,label:s.edge(t).label,points:n.map(function(t,e){return e>n.length-2?{x:u,y:c}:t})})}else e.nodeKey===t.v&&s.setEdge(t.v,t.w,{lineWidth:s.edge(t).lineWidth,label:s.edge(t).label,points:n.map(function(t,e){return e<1?{x:p[0]+r.edgeOffsetX,y:p[1]+r.edgeOffsetY}:t})})}),BA.call(r,t,n,s,r.offsetWidth,r.offsetHeight,i.edges)}}),n.on("mouseup",function(){l=!1})}),Xo(s.edges(),function(t,e){var n,i,o,a=s.edge(t).points;if((n=r.categoryArr,i=[],o={},Xo(n,function(t){o[t]||(i.push(t),o[t]=1)}),i).length<3)3===a.length&&a.splice(1,1);else{!function t(){if(a.length>2)for(var e=0;e<a.length-1;e+=1)e<a.length-2&&a[e].x===a[e+1].x&&a[e+1].x===a[e+2].x&&(a.splice(e+1,1),t())}()}}),BA.call(this,t,n,s,this.offsetWidth,this.offsetHeight,i.edges)},e}(Ad);function RA(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?e++:e+=2}return e}function BA(t,e,n,r,i,o){var a=this,s=t.get("link"),u=t.get("roam"),h=[],c=[],f=[];Xo(n.edges(),function(e,r){var i,u=Math.max(s.lineWidth[0],n.edge(e).lineWidth*s.lineWidth[1]),d=n.edge(e).points,p=[d[d.length-2].x+a.offsetWidth/2,d[d.length-2].y+a.offsetHeight/2],g=[d[d.length-1].x+a.offsetWidth/2,d[d.length-1].y+a.offsetHeight/2],v=Math.max(s.arrowSize[0],n.edge(e).lineWidth*s.arrowSize[1]),y=Math.sqrt(Math.pow(g[0]-p[0],2)+Math.pow(g[1]-p[1],2)),m=(y-v)/y,x=d.map(function(t,e){return e<d.length-1?[t.x+a.offsetWidth/2,t.y+a.offsetHeight/2]:[p[0]+(g[0]-p[0])*m,p[1]+(g[1]-p[1])*m]});h.push({shape:{points:x},style:l({},s.style.normal,{stroke:function(t){return t.label?s.style.normal.dashFill:s.style.normal.stroke}(o[r].data),lineWidth:u,lineDash:(i=o[r].data.label,i?[5,5]:[0,0])}),edgeData:o[r],z:t.get("z"),z2:880});var _=void 0;g[1]-p[1]>=0?_=Math.asin((g[0]-p[0])/y):g[1]-p[1]<0&&g[0]-p[0]<0?_=-Math.PI/2+Math.asin((g[1]-p[1])/y):g[1]-p[1]<0&&g[0]-p[0]>=0&&(_=Math.PI/2+Math.asin((p[1]-g[1])/y)),c.push({shape:{points:[g,[g[0]+v,g[1]-v],[g[0]-v,g[1]-v]]},style:{fill:function(t){return t?null:s.style.normal.stroke}(o[r].data.label)},z:t.get("z"),z2:880,rotation:_,origin:g}),f.push({style:{text:function(t,e){return"text"===s.label.type?e:t.weight?t.weight+"%":t.label?t.label:""}(o[r].data,n.edge(e).label),fontSize:s.label.fontSize,textFill:s.label.textFill,textAlign:"center"},position:function(t){if(t.length>2){for(var e=void 0,n=void 0,r=0;r<t.length;r+=1)e=(t[t.length-3][0]+t[t.length-2][0])/2,n=(t[t.length-3][1]+t[t.length-2][1])/2;return[e,n]}return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(x),z:t.get("z"),z2:882,silent:!0})}),this.setShapeGroup("edges",Bc,h,void 0,void 0,function(n){u.enable||(n.cursor="default"),n.on("mousedown",function(){e.dispatchAction(t,vd.linkClick,n.edgeData)})}),this.setShapeGroup("arrows",Rc,c),this.setShapeGroup("edgeLabel",Ec,f)}NA.type=fk,Tp(dk,NA);var WA="dagrex",jA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=WA,c(r,n)}return u(e,t),e}(Pd);jA.type=WA,jA.defaultOption={zlevel:0,z:1,isTop:!1,limited:!0,node:{rankStep:80,entireLabel:!1,shape:{width:80,height:30,r:15},style:{normal:{colors:{origin:"rgb(47, 151, 255)",process:"rgba(169, 210, 251)",end:"rgba(43, 87, 194, 1)"},fontSize:14,textFill:"rgb(255, 255 ,255)",stroke:"rgb(47, 151, 255)",lineWidth:1}}},link:{arrowSize:[3,6],lineWidth:[1,3],label:{type:"percent",fontSize:10,textFill:"rgb(47, 151, 255)"},style:{normal:{stroke:"rgb(47, 151, 255)",opacity:.4}}}};var GA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=WA,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r,i,o=this,a=t.getData(),s=a.edges,u=a.nodes,h=(og(s,function(t){return t.data.weight}),t.get("node")),c=t.get("link"),f=this.g||new DA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0}),d=["click","mouseover","mousemove","mouseout"],p=Uo();p.font=c.label.fontSize+"px sans-serif";var g=0;u.forEach(function(t){var e=function(t){for(var e=0,n=0;n<t.length;n++)t.charAt(n)>"~"?e+=2:e++;return e}(t.data.name);g<e&&(g=e)}),this.g||(f.setGraph({nodesep:isNaN(h.nodesep)?4*g:h.nodesep,ranksep:h.rankStep}),f.setDefaultEdgeLabel(function(){return{}}),Xo(u,function(t){f.setNode(t.data.id,{label:t.data.category,width:h.shape.width+h.style.normal.lineWidth,height:h.shape.height+h.style.normal.lineWidth,newName:t.data.name,group:t.data.group,isRoot:t.data.isRoot,isClick:!0})}),Xo(s,function(t){f.setEdge(t.data.source,t.data.target,{label:t.data.weight,group:t.data.group})}),DA.layout(f),this.g=f),r=n.getWidth(),i=n.getHeight(),this.maxCategory=og(u,function(t){return t.data.category}),this.minCategory=sg(u,function(t){return t.data.category}),this.categoryArr=u.map(function(t){return t.data.category}),this.offsetWidth=r-f.graph().width,this.offsetHeight=i-f.graph().height,this.onlyShowNodes=this.onlyShowNodes||f.nodes(),this.onlyShowEdges=this.onlyShowEdges||f.edges();var v=[],y=[],m=function(t,e){return t};Xo(f.nodes(),function(e,n){var r=f.node(e),i=r.x+o.offsetWidth/2,a=r.y+o.offsetHeight/2,s=void 0,c=void 0,d=void 0;r.isRoot?r.isFillHl?(c=h.style.highlight.solidFill,s=h.style.highlight,d=h.style.highlight.stroke):r.isFill?(c=h.style.normal.solidFill,s=h.style.normal,d=h.style.normal.stroke):(c=h.style.highlight.solidFill,s=h.style.highlight,d=h.style.highlight.stroke):(r.isFillHl?(c=h.style.highlight.solidFill,s=h.style.highlight):r.isFill?(c=h.style.normal.solidFill,s=h.style.normal):(c=h.style.normal.fill,s=h.style.normal),d=r.isHl?h.style.highlight.stroke:h.style.normal.stroke);var p,g,x=1;-1!=o.onlyShowNodes.indexOf(e)||r.isRoot||(x=h.blurOpacity),v.push({shape:{x:i,y:a,width:m(h.shape.width),height:(g=h.shape.height,g),r:r.isRoot?200:(p=h.shape.r,p)},style:l({},s,{opacity:x,fill:c,stroke:d}),position:[-m(h.shape.width)/2,-h.shape.height/2],z:t.get("z"),z2:900,data:u.filter(function(t){return t.data.id==e}),nodeKey:e,nodeLabel:r.newName,isClick:r.isClick}),y.push({style:{opacity:x,text:r.newName,fontSize:h.style.normal.fontSize,textFill:h.style.normal.textFill,textAlign:"center"},position:[i,a-h.style.normal.fontSize/2+30],z:t.get("z"),z2:901,silent:!0})});t.get("limited");function x(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}function _(t){return f.nodes().filter(function(e){return x(t,f.node(e).group)})}function w(t){return f.edges().filter(function(e){return x(t,f.edge(e).group)})}this.edgeOffsetX=-(r-f.graph().width)/2,this.edgeOffsetY=-(i-f.graph().height)/2,t.getNodes=this.setShapeGroup("nodes",Hc,v,void 0,void 0,function(e){d.forEach(function(r){e.on(r,function(e){e.target.data;n.dispatchAction(t,"node_"+r,e),n.dispatchAction(t,pd["node"+r.slice(0,1).toUpperCase()+r.slice(1)],e)})})}),this.setShapeGroup("texts",Ec,y),function(t,e,n,r,i,o){var a=this,u=t.get("link"),h=(t.get("roam"),[]),c=[],f=[];var g=[];Xo(n.edges(),function(e,r){u.lineWidth;var i=n.edge(e),d=i.isHl,v=i.points,y=[v[v.length-2].x+a.offsetWidth/2,v[v.length-2].y+a.offsetHeight/2],m=[v[v.length-1].x+a.offsetWidth/2,v[v.length-1].y+a.offsetHeight/2],x=Math.max(u.arrowSize[0],u.arrowSize[1]),_=Math.sqrt(Math.pow(m[0]-y[0],2)+Math.pow(m[1]-y[1],2)),w=(_-x)/_,b=void 0;-1==a.onlyShowEdges.indexOf(e)&&(b=u.blurOpacity);var S=d?u.style.highlight:u.style.normal,k=d?u.style.highlight.arrowStroke:u.style.normal.arrowStroke,M=function(t,e){return"text"===u.label.type?e:t.weight?t.weight+"%":t.label?t.label:""}(o[r].data,n.edge(e).label),A=l({},v[1],{width:p.measureText(M).width,height:12});g.forEach(function(t){var e=[A.x,A.y,A.width,A.height],n=[t.x,t.y,t.width,t.height],r=function(t,e,n,r,i,o,a,s){var l;if(r+=e,a+=i,s+=o,(n+=t)<=i||a<=t||r<=o||s<=e)l=[0,0,0,0];else{var u,h;u=i>t?a<n?[i,a]:[i,n]:n<a?[t,n]:[t,a],h=o>e?s<r?[o,s]:[o,r]:r<s?[e,r]:[e,s],l=[u[0],h[0],u[1],h[1]]}return(l[2]-l[0])*(l[3]-l[1])>0}.apply(void 0,e.concat(n));r&&(t.x<=A.x?v[1].x+=t.width:v[1].x-=t.width)}),g.push(A);var I,T=v.map(function(t,e){return e<v.length-1?[t.x+a.offsetWidth/2,t.y+a.offsetHeight/2]:[y[0]+(m[0]-y[0])*w,y[1]+(m[1]-y[1])*w]});f.push({width:p.measureText(M).width,style:{opacity:b,text:M,fontSize:u.label.fontSize,textFill:d?u.label.hlTextFill:u.label.textFill,textAlign:"center"},position:(I=T,[I[1][0],I[1][1]]),z:t.get("z"),z2:882,silent:!0}),h.push({shape:{x:function(t){return t[0]},y:function(t){return t[1]},data:T,percent:1,curve:u.smooth?Tw:void 0,defined:function(t){return t}},style:l({},S,{opacity:b,lineDash:[0,0]}),data:s.filter(function(t){return t.data.source==e.v&&t.data.target==e.w}),z:t.get("z"),z2:880});var C=void 0;m[1]-y[1]>=0?C=Math.asin((m[0]-y[0])/_):m[1]-y[1]<0&&m[0]-y[0]<0?C=-Math.PI/2+Math.asin((m[1]-y[1])/_):m[1]-y[1]<0&&m[0]-y[0]>=0&&(C=Math.PI/2+Math.asin((y[1]-m[1])/_)),c.push({shape:{points:[m,[m[0]+x,m[1]-x],[m[0]-x,m[1]-x]]},style:{fill:k,opacity:b},z:t.get("z"),z2:880,rotation:C,origin:m})}),this.setShapeGroup("edges",df,h,void 0,function(n){d.forEach(function(r){n.on(r,function(n){n.target.data;e.dispatchAction(t,"edge_"+r,n),e.dispatchAction(t,pd["edge"+r.slice(0,1).toUpperCase()+r.slice(1)],n)})})}),this.setShapeGroup("arrows",Rc,c),this.setShapeGroup("edgeLabel",Ec,f)}.call(this,t,n,f,this.offsetWidth,this.offsetHeight,a.edges),t.highlightNode=function(e){f.node(e).isHl=!0,t.dirty()},t.unHighlightNode=function(e){f.node(e).isHl=!1,t.dirty()},t.fillNode=function(e){f.node(e).isFill=!0,t.dirty()},t.unFillNode=function(e){f.node(e).isFill=!1,t.dirty()},t.highlightEdge=function(e){var n=f.edge(e),r=f.node(e.v),i=f.node(e.w);n.isHl=!0,r.isHl=!0,i.isHl=!0,t.dirty()},t.unHighlightEdge=function(e){var n=f.edge(e),r=f.node(e.v),i=f.node(e.w);n.isHl=!1,r.isHl=!1,i.isHl=!1,t.dirty()},t.highlightGroup=function(e,n){var r=_(e),i=void 0;i=n?w(e):f.edges().filter(function(t){return r.indexOf(t.v)>=0&&r.indexOf(t.w)>=0}),Xo(r,function(t){return f.node(t).isHl=!0}),Xo(i,function(t){return f.edge(t).isHl=!0}),t.dirty()},t.unHighlightGroup=function(e,n){var r=_(e);Xo(r,function(t){return f.node(t).isHl=!1});Xo(n?w(e):f.edges().filter(function(t){return r.indexOf(t.v)>=0&&r.indexOf(t.w)>=0}),function(t){return f.edge(t).isHl=!1}),t.dirty()},t.showGroup=function(e,n){var r=_(e),i=void 0;o.onlyShowNodes=r,i=n?w(e):f.edges().filter(function(t){return r.indexOf(t.v)>=0&&r.indexOf(t.w)>=0}),o.onlyShowEdges=i,f.nodes().forEach(function(t){var e=f.node(t);r.indexOf(t)>=0?(e.isHl=!0,e.isFillHl=!0):(e.isHl=!1,e.isFillHl=!1)}),f.edges().forEach(function(t){var e=f.edge(t);i.indexOf(t)>=0?e.isHl=!0:e.isHl=!1}),t.dirty()},t.hideGroup=function(e){var n=f.nodes().filter(function(t){return-1==e.indexOf(f.node(t).group[0])});o.onlyShowNodes=n;var r=f.edges().filter(function(t){return n.indexOf(t.v)>=0&&n.indexOf(t.w)>=0});o.onlyShowEdges=r,t.dirty()},t.reset=function(){Xo(f.nodes(),function(t){var e=f.node(t);e.isHl=!1,e.isFillHl=!1,e.isFill=!1}),Xo(f.edges(),function(t){f.edge(t).isHl=!1}),o.onlyShowNodes=null,o.onlyShowEdges=null,t.dirty()}},e}(Ad);GA.type=WA,Tp(jA,GA);var HA="orgchart",UA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=HA,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this,e=this.getData(),n=void 0;if(this.g)n=this.g;else{(n=new DA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0})).setGraph({rankdir:"LR",nodesep:this.get("nodeStep"),ranksep:this.get("rankStep")}),n.setDefaultEdgeLabel(function(){return{}});var r=function(n,r){var i=!1;Xo(e.edges,function(t){n.data.name===t.data.source&&(i=!0)});var o,a,s=n.data.color,l=n.data.stroke,u=n.data.textFill,h=n.data.clickable,c=n.data.nodeData;r.setNode(n.data.id,{label:n.data.category+"-"+i,width:t.get("node").shape.width,height:(o=n.data.height,a=t.get("node").shape.height,o||a),color:s,stroke:l,textFill:u,clickable:h,nodeData:c,paddingY:function(t,e){if(t)return(t-e)/2}(n.data.height,t.get("node").shape.height)})};this.splitNameArr=[],this.nameMap={},Xo(e.nodes,function(e){e.data.category<t.get("node").hierarchy&&(r(e,n),t.splitNameArr.push(e.data.name),t.nameMap[e.data.id]=e.data.name)}),Xo(e.edges,function(e){if(e.data.category<t.get("node").hierarchy){var r=n.node(e.data.target);n.setEdge(e.data.source,e.data.target,{label:"edges",paddingY:r.paddingY})}}),DA.layout(n);this.finalScale=function(e){var n=e.graph().width/t.global.getWidth(),r=e.graph().height/t.global.getWidth();return 1.2*Math.max(n,r)}(n),this.g=n,this.bg=new DA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0}),this.bg.setGraph({rankdir:"LR",nodesep:5,ranksep:200}),this.bg.setDefaultEdgeLabel(function(){return{}}),Xo(e.nodes,function(e){r(e,t.bg)}),Xo(e.edges,function(e){t.bg.setEdge(e.data.source,e.data.target,{label:"edges"})}),DA.layout(this.bg)}},e}(Pd);UA.type=HA,UA.defaultOption={zlevel:0,z:1,offset:[0,0],scale:1.2,rankStep:200,nodeStep:15,eventId:"EVENT",node:{colors:["#3F48FF","rgb(150, 150, 150)","#3F96FF","#996699","rgb(102, 51, 153)"],hierarchy:3,isTextLength:!1,shape:{symbolType:"circle",r:0,width:20,height:10},style:{normal:{shadowBlur:0,shadowColor:"rgb(255, 0, 0)",fontSize:10,shadowOffsetX:3,stroke:"#000",lineWidth:1},emphasis:{}}},link:{arrowSize:[1,5],lineWidth:[1,5],label:{fontSize:12,textFill:"rgb(102, 102, 102)"},style:{normal:{stroke:"#cccccc",opacity:.7},emphasis:{}}},roam:{enable:!0}};var VA=void 0,qA=void 0,YA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=HA,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getData(),o=t.get("node");this.w=n.getWidth(),this.h=n.getHeight();var a=t.get("scale"),s=t.get("roam").enable;a?(VA=this.w-t.g.graph().width,qA=this.h-t.g.graph().height):(VA=0,qA=0);var u=[],h=[],c=t.get("node").isTextLength;Xo(t.g.nodes(),function(e,n){var r,i,a,f=t.g.node(e),d=f.x+VA/2,p=f.y+qA/2-(f.paddingY||0),g=t.nameMap[e];u.push({shape:{symbolType:o.shape.symbolType,x:d,y:p,width:function(t,e,n,r){if(t)return-1===escape(r).indexOf("%u")?r.length/2*n+1.5*n:r.length*n+n;return e}(c,o.shape.width,o.style.normal.fontSize,g),height:o.shape.height,r:o.shape.r},style:l({},o.style.normal,{fill:(i=f.color,a=o.colors[f.label.split("-")[0]],i||a),shadowOffsetX:(r=f.label.split("-")[1],"true"===r?o.style.normal.shadowOffsetX:0),stroke:function(t,e){return t||e}(f.stroke,o.style.normal.stroke)}),position:[-o.shape.width/2,-o.shape.height/2],z:t.get("z"),z2:998,silent:function(t,e){return!(t||s&&"true"===e)}(f.clickable,f.label.split("-")[1]),nodeKey:e,group:t.g.node(e).label,key:e,nodeData:f.nodeData}),h.push({style:{text:g,fontSize:o.style.normal.fontSize,textFill:function(t,e){return t||e}(f.textFill,o.colors[f.label.split("-")[0]]),textAlign:"left"},position:[d-o.shape.width/2+o.style.normal.fontSize/2,p-o.style.normal.fontSize/2],z:t.get("z"),z2:999,silent:!0,nodeName:e,key:e})}),this.setShapeGroup("nodes",Vd,u,{animation:!0,animateList:{shape:{x:0,y:0}}},void 0,function(e,r){e.shape.width;var i=t.g.successors(e.nodeKey);e.open=i.length>0,e.on("mousedown",function(){var r=t.get("eventId");n.dispatchAction(t,r,e.nodeData);t.get("expandAndCollaspe")&&(e.open?function(){var n=new DA.graphlib.alg.dijkstra(t.g,e.nodeKey),r=function(e){n[e].predecessor&&(Xo(t.splitNameArr,function(n,r){n===e&&t.splitNameArr.splice(r,1)}),t.g.removeNode(e))};for(var i in n)r(i)}():Xo(t.bg.successors(e.nodeKey),function(n){t.splitNameArr.push(n),t.g.setNode(n,t.bg.node(n)),t.g.setEdge(e.nodeKey,n,{label:"edges"})}),e.open=!e.open,DA.layout(t.g),t.dirty())})}),this.setShapeGroup("nodeLabels",Ec,h,{animation:!0,animateList:{position:[0,0]}}),function(t,e,n,r){var i=this,o=t.get("link"),a=[],s=[];Xo(t.g.edges(),function(e,u){var h=t.g.edge(e).points;if(t.g.edge(e).paddingY){var c=t.g.edge(e).points;i[u]||(c[c.length-1].y-=t.g.edge(e).paddingY,c[c.length-2].y-=t.g.edge(e).paddingY),i[u]=!0}var f=[h[h.length-2].x+n/2,h[h.length-2].y+r/2],d=[h[h.length-1].x+n/2,h[h.length-1].y+r/2],p=o.arrowSize,g=Math.sqrt(Math.pow(d[0]-f[0],2)+Math.pow(d[1]-f[1],2)),v=h.map(function(t){return[t.x+n/2,t.y+r/2]});a.push({shape:{points:v},style:l({},o.style.normal),z:t.get("z"),z2:997,key:e.v+e.w,silent:!0});var y=void 0;d[1]-f[1]>=0?y=Math.asin((d[0]-f[0])/g):d[1]-f[1]<0&&d[0]-f[0]<0?y=-Math.PI/2+Math.asin((d[1]-f[1])/g):d[1]-f[1]<0&&d[0]-f[0]>=0&&(y=Math.PI/2+Math.asin((f[1]-d[1])/g)),s.push({shape:{points:[d,[d[0]+p,d[1]-p],[d[0]-p,d[1]-p]]},style:{fill:o.style.normal.stroke},z:t.get("z"),z2:997,rotation:y,origin:d,key:e.w+e.v,silent:!0})}),this.setShapeGroup("edges",Bc,a,{animation:!0,animateList:{shape:{points:[[0,0],[0,0],[0,0]]}}}),this.setShapeGroup("arrows",Rc,s,{animation:!0,animateList:{shape:{points:[[0,0],[0,0],[0,0]]},origin:[0,0]}})}.call(this,t,n,VA,qA,i.edges);var f=t.get("offset");if(a)(function(t){var e=t.get("scale");this.group.scale=[1,1],this.group.position=[0,0];var n=this.group.getBoundingRect(),r=n.width/this.w,i=n.height/this.h,o=(1/(Math.max(r,i)*e)-1)/.1,a=.5*this.w,s=.5*this.h;t.option.isTop&&(s=0,this.group.position[1]=10-n.y);this.scale(a,s,o)}).call(this,t);else{this.group.scale=[1,1];var d=this.group.getBoundingRect(),p=f[0],g=f[1];this.group.position=[-d.x+p,-d.y+g];var v=(1/(d.width/this.w*1.1)-1)/.1;this.scale(0,0,v)}s||(n.on("mousedown",function(t){var e=t.offsetX,n=t.offsetY,i=t.target,o=r.group;o&&!i&&(r._isMove=!0,r.startX=e,r.startY=n,r.startPosition=[o.position[0],o.position[1]],r.initY,r.initY||(r.initY=r.group.position[1]))}),n.on("mousemove",function(t){t.offsetX;var e=t.offsetY;if(r._isMove){var n=r.group,i=r.group.getBoundingRect();n.attr({position:[r.startPosition[0],r.startPosition[1]+e-r.startY]}),n.position[1]>r.initY&&n.attr({position:[r.startPosition[0],r.initY]}),n.position[1]<r.initY+r.h-i.height*r.group.scale[1]&&n.attr({position:[r.startPosition[0],r.initY+r.h-i.height*r.group.scale[1]-f[1]*r.group.scale[1]]})}}),n.on("mouseup",function(){r._isMove=!1}))},e}(Ad);YA.type=HA,Tp(UA,YA);var $A="pieRelation",XA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$A,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this,e=this.getData(),n=(this.get("cluster"),void 0);if(this.g)n=this.g;else{(n=new DA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0})).setGraph({rankdir:"LR",nodesep:this.get("node").paddingX,ranksep:this.get("node").rankPadding}),n.setDefaultEdgeLabel(function(){return{}}),this.splitNameArr=[],Xo(e.nodes,function(e){n.setNode(e.data.id,{label:e.data.id,group:e.data.category,width:t.get("node").paddingY,height:t.get("node").paddingX,proportion:e.data.proportion}),t.splitNameArr.push(e.data.name)}),Xo(e.edges,function(t){n.setEdge(t.data.source,t.data.target,{label:"edges"})}),DA.layout(n);this.finalScale=function(e){var n=e.graph().width/t.global.getWidth(),r=e.graph().height/t.global.getWidth();return 1.2*Math.max(n,r)}(n),this.g=n}},e}(Pd);XA.type=$A,XA.defaultOption={zlevel:0,z:1,node:{colors:["#3F48FF","rgb(150, 150, 150)","#3F96FF","#996699","rgb(102, 51, 153)"],paddingX:5,paddingY:30,rankPadding:200,shape:{r:30,piePadding:5},style:{normal:{fontSize:10},emphasis:{}}},link:{arrowSize:5,lineWidth:5,label:{fontSize:12,textFill:"rgb(102, 102, 102)"},style:{normal:{stroke:"#000",opacity:.7},emphasis:{}}}};var KA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$A,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getData(),o=t.get("node");t.get("cluster");if(this.w=n.getWidth(),this.h=n.getHeight(),!this.isRender){var a=(1/t.finalScale-1)/.1,s=this.w/2,u=this.h/2;this.scale(s,u,a)}this.isRender=!0;var h=this.w-t.g.graph().width,c=this.h-t.g.graph().height;(function(t,e,n,r){var i=this,o=t.get("link");t.get("roam");Xo(t.g.edges(),function(e,a){o.lineWidth;var s=t.g.edge(e).points,u=[s[s.length-2].x+n/2,s[s.length-2].y+r/2],h=[s[s.length-1].x+n/2,s[s.length-1].y+r/2],c=o.arrowSize,f=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),d=(f-c)/f,p=s.map(function(t,e){return e<s.length-1?[t.x+n/2,t.y+r/2]:[u[0]+(h[0]-u[0])*d,u[1]+(h[1]-u[1])*d]});i.setShape(e.v+e.w,Bc,{shape:{points:p},style:l({},o.style.normal),z:t.get("z"),z2:997,key:e.v+e.w,silent:!0});var g=void 0;h[1]-u[1]>=0?g=Math.asin((h[0]-u[0])/f):h[1]-u[1]<0&&h[0]-u[0]<0?g=-Math.PI/2+Math.asin((h[1]-u[1])/f):h[1]-u[1]<0&&h[0]-u[0]>=0&&(g=Math.PI/2+Math.asin((u[1]-h[1])/f)),i.setShape(e.w+e.v,Rc,{shape:{points:[h,[h[0]+c,h[1]-c],[h[0]-c,h[1]-c]]},style:{fill:o.style.normal.stroke},z:t.get("z"),z2:997,rotation:g,origin:h,key:e.w+e.v,silent:!0})})}).call(this,t,n,h,c,i.edges),Xo(t.g.nodes(),function(e,n){var i=t.g.node(e),a=i.x+h/2,s=i.y+c/2;r.setShape(i.label,zc,{shape:{cx:a,cy:s,r:o.shape.r},style:l({},o.style.normal,{fill:o.colors[i.group]}),z:t.get("z"),z2:998,silent:!0,group:t.g.node(e).label,key:e}),r.setShape(i.label+"label",Ec,{style:{text:t.splitNameArr[n],fontSize:o.style.normal.fontSize,textFill:o.colors[i.group],textAlign:"left"},position:[a+o.shape.r,s-o.style.normal.fontSize/2],z:t.get("z"),z2:999,silent:!0,nodeName:e,key:e});var u=i.proportion,f=[],d=0;for(var p in u)d+=u[p],f.push(d);for(var g=[0],v=0;v<f.length;v+=1)v<f.length-1&&g.push(f[v]);Xo(g,function(e,n){r.setShape(i.label+"pie"+n,$p,{shape:{outerRadius:o.shape.r-o.shape.piePadding,innerRadius:0,startAngle:e*Math.PI*2,endAngle:f[n]*Math.PI*2},position:[a,s],style:{fill:o.pieColors[n]},z:t.get("z"),z2:998,silent:!0})})})},e}(Ad);KA.type=$A,Tp(XA,KA);var ZA=Kp(function(t){return t&&-t[1]}).right,QA="axis",JA=!1,tI=void 0,eI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=QA,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=t.getGridModels(),i=t.getAxisType(),o=t.get("xOrY"),a=t.get("position"),s=void 0,l=[],u=!0,h=e.getComponentByIndex("dataZoom",t.get("$dataZoomIndex"));function c(){if(!u){if(clearTimeout(tI),JA=!1,"continuous"===i)n.dispatchAction(t,id.out,{});else{var e=t.getLastData();n.dispatchAction(t,id.out,{lastIndex:s,lastDataIndex:t.endIndex,lastData:e}),s=void 0}u=!0}}(n.on("mousemove",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){var o=e.offsetX,l=e.offsetY,h=!1,f=t.get("ifTriggerMove");if(Xo(r,function(t){t.isPointInGrid(o,l)&&(h=!0)}),h){if("continuous"===i){var d=t.scale.invert("bottom"===a||"top"===a?o:l);n.dispatchAction(t,id.move,{e:e,axisData:d}),n.dispatchAction(t,"",{e:e,axisData:d})}else{var p=t.getIndexByOffset(o,l);if("number"==typeof p){var g=t.getMoveDataByIndex(p,s);g.e=e,g.lastIndex=s,isNaN(g.pos)||f&&!f(g)||n.dispatchAction(t,id.move,g),0==JA&&(tI=setTimeout(function(){n.dispatchAction(t,"AXIS_LONG_CLICK",g)},300),JA=!0)}}u=!1}else u||c()}}),n.on("globalout",c),n.on("mouseup",c),"x"===o)&&(t.get("ifTriggerHighlight")&&(n.registerAction(t,id.move,function(r){var o=r.e,a=r.index,u=(r.axisData,e.getSeriesByAxis(t.index)),h=t.get("position"),c="left"===h||"right"===h;if("continuous"===i){var f=o.offsetX,d=o.offsetY;Xo(u,function(t){if("line"===t.get("type")){var r=n.getViewOfComponentModel(t),i=t.points,o=c?ZA(i,-d):function(t,e){var n=void 0;for(n=0;n<t.length&&!(null!==t[n]&&e<t[n][0]);n++);return n}(i,f);i[--o]&&r.highlight(t,e,n,{index:o,startIndex:0})}})}else s!==a&&Xo(u,function(r){var i=n.getViewOfComponentModel(r);void 0!==s&&i.downplay(r,e,n,{index:s+t.startIndex,startIndex:t.startIndex}),void 0!==a&&i.highlight(r,e,n,{index:t.startIndex+a,startIndex:t.startIndex})}),s=a;l=u}),n.registerAction(t,id.out,function(r){var i=r.lastIndex;Xo(l,function(r){n.getViewOfComponentModel(r).downplay(r,e,n,{index:t.startIndex+i,startIndex:t.startIndex})}),l=[]})),h&&n.registerAction(h,ld.change,function(){n.dispatchAction(t,id.out,{lastIndex:s}),s=void 0}))},e.prototype.render=function(t,e,n){var r=t.get("splitArea"),i=t.get("splitLine"),o=t.get("axisName"),a=t.axis,s=t.scale,u=t.get("position"),h=t.get("animation"),c=t.get("animationDuration"),f=t.get("animationEasing");t.get("cursor");if(t.axis(this,t,e,n),r&&r.show){var d=s.domain(),p=s.range(),g=void 0,v=r.style.color,y=r.onRect,m=(t.get("$gridIndex"),e.getComponent("grid",function(e){var n=t.get("$gridIndex");return ea(n)?n.indexOf(e.index)>-1:n===e.index})),x="band"===t.get("type"),_=void 0,w=void 0,b=void 0,S=[];if(x){var k=s.step();g=d,_=k*s.paddingInner(),w=k*s.paddingOuter(),b=s.bandwidth()}else g=a.values();for(var M=g.length,A=0;A<m.length;A++)for(var I=m[A].position,T=I.left,C=I.top,E=I.width,z=I.height,L=0,O=M;L<O;L++){var D=void 0,P=void 0,F=void 0;x?(F=s(g[L])+b,y||(F+=L===M-1?Math.min(_/2,w):_/2),"left"===u||"right"===u?(D=T,P=s(g[L]),y||(P-=0===L?Math.min(_/2,w):_/2),z=F-P):(D=s(g[L]),P=C,y||(D-=0===L?Math.min(_/2,w):_/2),E=F-D)):(F=L===M-1?p[1]:s(g[L+1]),"left"===u||"right"===u?(D=T,P=F,z=s(g[L])-P):(P=C,E=F-(D=s(g[L])))),S.push({shape:{x:D,y:P,width:E,height:z},style:{fill:ea(v)?v[L%v.length]:v},silent:!0,key:g[L]+"_"+A,z2:-1})}this.setShapeGroup("areaGroup",Hc,S,{animation:h,duration:c,easing:f,animateList:{shape:{x:0,y:0,width:0,height:0}}})}if(i&&i.show){for(var N=a.values(),R=i.style,B=e.getComponent("grid",function(e){var n=t.get("$gridIndex");return ea(n)?n.indexOf(e.index)>-1:n===e.index}),W=[],j=s.bandwidth?s.bandwidth()/2:0,G=0;G<B.length;G++)for(var H=B[G].position,U=H.left,V=H.top,q=H.right,Y=H.bottom,$=0,X=N.length;$<X;$++){var K={},Z=s(N[$])+j,Q={};R.color;if(K="left"===u||"right"===u?{x1:U,y1:Z,x2:q,y2:Z}:{x1:Z,y1:V,x2:Z,y2:Y},na(R))Q=R(N[$],$);else{var J=R.color;Q=l({},R,{stroke:ea(J)?J[$%J.length]:J})}W.push(_f({shape:K,style:Q,silent:!0,key:N[$]+"_"+G,z2:-1}))}this.setShapeGroup("splitLine",Vc,W,{animation:h,duration:c,easing:f,animateList:{shape:{x1:0,y1:0,x2:0,y2:0}}})}if(o.show){var tt=o.offset,et=o.location,nt=o.vertical,rt=void 0,it=void 0,ot=void 0,at=o.text,st=s.range(),lt=void 0,ut=a.linePos();switch(et){case"start":lt=st[0];break;case"middle":case"center":lt=(st[0]+st[1])/2;break;case"end":lt=st[1]}"left"===u||"right"===u?(rt=[ut+tt[0],lt+tt[1]],it="center",ot="start"===et?"top":"end"===et?"bottom":"center"):(rt=[lt+tt[0],ut+tt[1]],it="start"===et?"right":"end"===et?"left":"center",ot="center"),nt&&(at=at.split("").join("\n")),this.setShape("name",Ec,e.getFormattedText({style:l({text:at,textAlign:it,textVerticalAlign:ot},o.style),scale:o.scale,rotation:o.rotate/180*Math.PI,position:rt,silent:!0}))}},e}(Id);eI.type=QA;var nI=1e3,rI=60*nI,iI=60*rI,oI=24*iI,aI=7*oI,sI=30*oI,lI=365*oI;function uI(t){return new Date(t)}function hI(t){return t instanceof Date?+t:+new Date(+t)}var cI={linear:cy,point:function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Sg().paddingInner(1))},band:Sg,time:function(){return function t(e,n,r,i,o,a,s,l,u){var h=$v(Uv,Fv),c=h.invert,f=h.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("{I|%I} {p|%p}"),y=u("{m|%m}-{d|%d}"),m=u("{m|%m}-{d|%d}"),x=u("{m|%m}"),_=u("{Y|%Y}"),w=[[s,1,nI],[s,5,5*nI],[s,15,15*nI],[s,30,30*nI],[a,1,rI],[a,5,5*rI],[a,15,15*rI],[a,30,30*rI],[o,1,iI],[o,3,3*iI],[o,6,6*iI],[o,12,12*iI],[i,1,oI],[i,2,2*oI],[r,1,aI],[n,1,sI],[n,3,3*sI],[e,1,lI]];function b(t){return(s(t)<t?d:a(t)<t?p:o(t)<t?g:i(t)<t?v:n(t)<t?r(t)<t?y:m:e(t)<t?x:_)(t)}function S(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,a=Kp(function(t){return t[2]}).right(w,o);a===w.length?(i=ig(n/lI,r/lI,t),t=e):a?(i=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],t=a[0]):(i=ig(n,r,t),t=l)}return null==i?t:t.every(i)}return h.invert=function(t){return new Date(c(t))},h.domain=function(t){return arguments.length?f(xg.call(t,hI)):f().map(uI)},h.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?b:u(e)},h.nice=function(t,e){var n=f();return(t=S(t,n[0],n[n.length-1],e))?f(fy(n,t)):h},h.copy=function(){return Yv(h,t(e,n,r,i,o,a,s,l,u))},h}(Zy,Xy,Py,Ly,Ey,Ty,Ay,by,Cm).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},log:function t(){var e=$v(dy,py).domain([1,10]),n=e.domain,r=10,i=yy(10),o=vy(10);function a(){return i=yy(r),o=vy(r),n()[0]<0&&(i=my(i),o=my(o)),e}return e.base=function(t){return arguments.length?(r=+t,a()):r},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=function(t){var e,a=n(),s=a[0],l=a[a.length-1];(e=l<s)&&(f=s,s=l,l=f);var u,h,c,f=i(s),d=i(l),p=null==t?10:+t,g=[];if(!(r%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,s>0){for(;f<d;++f)for(h=1,u=o(f);h<r;++h)if(!((c=u*h)<s)){if(c>l)break;g.push(c)}}else for(;f<d;++f)for(h=r-1,u=o(f);h>=1;--h)if(!((c=u*h)<s)){if(c>l)break;g.push(c)}}else g=ng(f,d,Math.min(d-f,p)).map(o);return e?g.reverse():g},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=oy(n)),t===1/0)return n;null==t&&(t=10);var a=Math.max(1,r*t/e.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=a?n(t):""}},e.nice=function(){return n(fy(n(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},e.copy=function(){return Yv(e,t().base(r))},e}},fI=Array.prototype.slice;function dI(t){return t}var pI=1,gI=2,vI=3,yI=4;function mI(t,e){return[t,e]}function xI(t,e){return[e,t]}function _I(t,e){var n,r=[],i=null,o=null,a=!1,s=!1,u=t===pI||t===yI?-1:1,h=t===yI||t===gI?"x":"y",c=t===pI||t===vI?mI:xI,f=t===gI?"left":t===yI?"right":"center",d=t===pI?"bottom":t===vI?"top":"middle",p={show:!0},g={show:!0,outerSize:6,innerSize:0},v={show:!0,padding:3,rotation:Math.PI/6},y=200;function m(r,i,o,a){var s=m.values(),x=m.format(),_=e.range(),w=Math.min(_[0],_[_.length-1]),b=Math.max(_[0],_[_.length-1]),S=(e.step?function(t){return function(e,n){var r,i=t.range();return r=!1===n?Math.max(0,t.paddingInner?t.step()*(1-t.paddingInner()/2):t.step()/2):Math.max(0,t.bandwidth?t.bandwidth():t.step())/2,t.round()&&(r=Math.round(r)),i[0]<i[1]?Math.min(Math.max(t(e)+r,i[0]),i[1]):Math.max(Math.min(t(e)+r,i[0]),i[1])}}:dI)(e.copy()),k=g.outerSize,M=g.innerSize,A=(v.inside,v.padding),I=v.vertical,T=y,C=i.getAxisType(),E=e.domain(),z=i.get("animation"),L=i.get("animationDuration"),O=i.get("animationEasing"),D=i.get("cursor");n=y;var P=s.length;if(p.show){var F;if(p.onZero){var N=o.getComponentByIndex("axis",p.onZeroAxisIndex);if(N){var R=N.scale,B=R.domain();if(B[0]<0||B[1]<0){var W=i.get("$gridIndex");ea(W)&&(W=W[0]);var j=i.get("position"),G=N.scale.range();switch(n=R(0),j){case"left":case"right":n=Math.max(Math.min(G[1],n),G[0]);break;case"top":case"bottom":n=Math.max(Math.min(G[0],n),G[1])}}}}F=t===yI||t==gI?{x1:n,y1:w,x2:n,y2:b}:{x1:w,y1:n,x2:b,y2:n},r.setShape("line",Vc,_f({shape:F,style:p.style,z2:1,silent:!0}),{animation:z,duration:L,easing:O,animateList:{shape:{x1:0,y1:0,x2:0,y2:0}}})}if(g.show){var H,U=[],V={shape:l({x1:0,y1:0,x2:0,y2:0},(H={},H[h+"1"]=u*k,H[h+"2"]=-u*M,H)),style:g.style};g.onCenter||"ordinal"!==C||(U.push(_f(l({},Ro(V),{position:c(w,n),key:-1,silent:!0}))),U.push(_f(l({},Ro(V),{position:c(b,n),key:P,silent:!0}))));for(var q=0;q<P&&(g.onCenter||q!==P-1||"ordinal"!==C||E[E.length-1]!==s[q]);q++)U.push(_f(l({},Ro(V),{position:c(S(s[q],g.onCenter),n),key:q,silent:!0})));r.setShapeGroup("tickGroup",Vc,U,{animation:z,duration:L,easing:O,animateList:{position:[0,0]}})}if(v.show){var Y=[],$=null;v.followLine&&(T=n);var X=i.get("position"),K=i.interval;if(v.truncate&&e.step&&K){var Z=e.step()*K;$="top"===X||"bottom"===X?{outerWidth:Z}:{outerHeight:Z}}for(var Q=0;Q<P;Q++){var J=x(s[Q],Q,P),tt=c(S(s[Q]),T),et=f,nt=d;I&&(J=J.split("").join("\n")),v.inRange&&(t===yI||t===gI?0===Q?s[Q]===E[0]&&(nt="bottom")&&(tt[1]=b):Q===P-1&&s[Q]===E[E.length-1]&&(nt="top")&&(tt[1]=w):0===Q?s[Q]===E[0]&&(et="left")&&(tt[0]=w):Q===P-1&&s[Q]===E[E.length-1]&&(et="right")&&(tt[0]=b)),v.inside&&(t===yI||t===gI?et="left":nt="bottom"),tt["x"===h?0:1]+=u*A*(v.inside?-1:1);var rt=v.style;rt=na(rt)?rt(s[Q],Q,tt,s):rt,Y.push(o.getFormattedText({style:l({text:J,textVerticalAlign:nt,textAlign:et},rt,{textOrign:"center",truncate:$}),scale:v.scale||[1,1],position:tt,rotation:v.rotate/180*Math.PI,key:s[Q],cursor:D,z2:10,silent:!0}))}r.setShapeGroup("labelGroup",Ec,Y,{animation:z,duration:L,easing:O,animateList:{position:[0,0]}})}}return n=y,m.values=function(){if(i)return i;if(e.ticks){var t=e.ticks.apply(e,r),n=e.domain(),o=t.length,l=Math.abs(n[1]-n[0])/o;return s&&(Math.abs(t[t.length-1]-n[1])<l/3&&t.pop(),-1===t.indexOf(n[1])&&t.push(n[1])),a&&(Math.abs(t[0]-n[0])<l/3&&t.shift(),-1===t.indexOf(n[0])&&t.unshift(n[0])),t}return e.domain()},m.axisLine=function(t){return arguments.length?(p=t,m):y},m.axisTick=function(t){return arguments.length?(g=t,m):y},m.axisLabel=function(t){return arguments.length?(v=t,m):y},m.pos=function(t){return arguments.length?(y=t,m):y},m.scale=function(t){return arguments.length?(e=t,m):e},m.ticks=function(){return r=fI.call(arguments),m},m.tickArguments=function(t){return arguments.length?(r=null==t?[]:fI.call(t),m):r.slice()},m.tickValues=function(t){return arguments.length?(i=null==t?null:fI.call(t),m):i&&i.slice()},m.tickFormat=function(t){return arguments.length?(o=t,m):o},m.alwaysShowFirst=function(t){return arguments.length?(a=t,m):a},m.alwaysShowLast=function(t){return arguments.length?(s=t,m):s},m.linePos=function(){return n},m.format=function(t,n,i){var o=v.formatter?v.formatter:e.tickFormat?e.tickFormat.apply(e,r):dI;return arguments.length?o(t,n,i):o},m}function wI(t){return _I(pI,t)}function bI(t){return _I(gI,t)}function SI(t){return _I(vI,t)}function kI(t){return _I(yI,t)}function MI(t){var e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function AI(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var e=MI(t);return e>0?t*Math.pow(10,e):t}function II(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(n.length>0)return II.apply(void 0,[II(t,e),n[0]].concat(n.slice(1)));var i=AI(t),o=AI(e),a=MI(t)+MI(e);return i*o/Math.pow(10,a)}function TI(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return n.length>0?TI.apply(void 0,[TI(t,e),n[0]].concat(n.slice(1))):II(AI(t)/AI(e),Math.pow(10,MI(e)-MI(t)))}var CI={strip:function(t,e){return void 0===e&&(e=12),+parseFloat(t.toPrecision(e))},plus:function t(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length>0)return t.apply(void 0,[t(e,n),r[0]].concat(r.slice(1)));var o=Math.pow(10,Math.max(MI(e),MI(n)));return(II(e,o)+II(n,o))/o},minus:function t(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length>0)return t.apply(void 0,[t(e,n),r[0]].concat(r.slice(1)));var o=Math.pow(10,Math.max(MI(e),MI(n)));return(II(e,o)-II(n,o))/o},times:II,divide:TI,round:function(t,e){var n=Math.pow(10,e);return TI(Math.round(II(t,n)),n)},digitLength:MI,float2Fixed:AI},EI="axis",zI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=EI,c(r,n)}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(Zf(e,"axisName.style.fill",e.color),Zf(e,"label.style.fill",e.color),Zf(e,"tick.style.stroke",e.color),Zf(e,"line.style.stroke",e.color))},e.prototype.getScale=function(){var t=this.get("type"),e=this.scale;return e||(this.scale=e=cI[t]()),e},e.prototype.updateBySelf=function(){var t=this._option,e=t.type,n=t.position,r=t.splitNumber,i=t.$dataZoomIndex,o=(t.xOrY,t.domainFormatter),a=t.start,s=t.end,l=t.nice,u=t.min,h=t.max,c=t.fitMin,f=t.fitMax,d=t.alwaysShowFirst,p=t.alwaysShowLast,g=t.intervalLength,v=t.interval,y=t.tickValues,m=t.filterHide,x=t.domainScale,_=t.offset,w=t.domainEqualZero,b=t.space,S=this.globalModel,k=this.global,M=(S.getSeriesByAxis(this.index,m),this.axis),A=this.getScale(),I=void 0,T=[],C=void 0,E=S.getComponentByIndex("dataZoom",i),z=this.getGridModels()[0],L=z.position,O=L.left,D=L.top,P=L.bottom,F=L.right,N=L.width,R=L.height,B=this.get("label"),W=(B.style,B.scale,k.getWidth()),j=k.getHeight(),G=z.position[n];switch(n){case"top":M=M||wI(),I=[O,F],G-=_=qf(_,j);break;case"bottom":M=M||SI(),I=[O,F],G+=_=qf(_,j);break;case"left":M=M||kI(),I=[P,D],G-=_=qf(_,W);break;case"right":M=M||bI(),I=[P,D],G+=_=qf(_,W)}if(E){a=E.start,s=E.end;var H=E.minSpan;if("ordinal"===this.getAxisType()&&H>1){var U=E.get("minValueSpan"),V=this.getData();if(U&&V){V.length;I=[I[0],(I[1]-I[0])/H+I[0]]}}}else a=qf(a),s=qf(s);switch(A.range(I),T=this.getOriginDomain(),this.getAxisType()){case"continuous":if("linear"===e){if(w&&0===T[0]&&0===T[1]&&(T=w,x=0,b=0),T=[isNaN(u)?T[0]:u,isNaN(h)?T[1]:h],this.get("symmetry")){var q=Math.abs(Math.min.apply(null,T)),Y=Math.abs(Math.max.apply(null,T)),$=Math.max(q,Y);T=[-$,$]}if(b){var X=void 0,K=void 0;ea(b)?b.length>1?(X=b[0],K=b[1]):X=K=b[0]:X=K=b,X=qf(X,"top"===n||"bottom"===n?N:R),K=qf(K,"top"===n||"bottom"===n?N:R);var Z=Math.abs(I[0]-I[1]),Q=Z/(Z-X-K)*(T[1]-T[0]);T[0]=T[0]-X/Z*Q,T[1]=T[1]+K/Z*Q}else if(x){var J=(T[1]-T[0])*(x-1)/2;J||(J=T[0]*(x-1)),isNaN(u)&&(T[0]>=0?T[0]-J>0?T[0]-=J:T[0]=0:T[0]-=J),isNaN(h)&&(T[1]<=0?T[1]+J<0?T[1]+=J:T[1]=0:T[1]+=J)}T[0]>T[1]&&T.reverse()}o&&(T=o(T));var tt=(T=[isNaN(c)?T[0]:T[0]<c?c:T[0],isNaN(f)?T[1]:T[1]>f?f:T[1]])[1]-T[0];"time"!==e?(s<1&&(T[1]=T[0]+tt*s),a>0&&(T[0]=T[0]+tt*a)):(T[1]=new Date(+T[0]+tt*s),T[0]=new Date(+T[0]+tt*a));break;case"ordinal":"band"===e?A.paddingInner(qf(this.get("paddingInner"))).paddingOuter(qf(this.get("paddingOuter"))):"point"===e&&A.padding(qf(this.get("padding")));var et=T.length,nt=Math.round((et-1)*a),rt=Math.round((et-1)*s);this.startIndex=nt,this.endIndex=rt,T=T.slice(nt,rt+1)}if(A.domain(T),M.axisLine(this.get("line")),M.axisTick(this.get("tick")),M.axisLabel(this.get("label")),M.scale(A).pos(G).alwaysShowFirst(d).alwaysShowLast(p),y){var it=void 0;it=na(y)?y(T):y,it="ordinal"===this.getAxisType()?Zo(it,function(t){return T.indexOf(t)>-1}):Zo(it,function(t){return t>=T[0]&&t<=T[1]}),M.tickValues(it)}switch(e){case"point":case"band":if(!y){var ot=[];if(C=T.length,!v){if(!g||g<=0){for(var at=T[0],st=1;st<T.length;st++)at.length<T[st].length&&(at=T[st]);g=this.getLabelLen(at),g*=1.2}v=Math.ceil(C/(Math.abs(I[1]-I[0])/g))}for(var lt=0;lt<C;lt+=v)ot.push(T[lt]);if(p){var ut=T[C-1],ht=ot[ot.length-1],ct=(this.getLabelLen(ut)+this.getLabelLen(ht))/2;ct*=1.5,A(ut)-A(ht)<ct&&ot.pop(),ot.push(ut)}M.tickValues(ot),this.interval=v}break;case"linear":if(!y&&(r&&M.ticks(r),l)){var ft=A.ticks(r);if(ft.length<2)T=[],ft=[];else{ft[0]>T[0]&&(T[0]=CI.minus(ft[0],CI.minus(ft[1],ft[0])),ft.unshift(T[0]));var dt=ft.length;ft[dt-1]<T[1]&&(T[1]=CI.plus(ft[dt-1],CI.minus(ft[dt-1],ft[dt-2])),ft.push(T[1]))}A.domain(T),M.tickValues(ft)}break;case"time":case"log":r&&M.ticks(r),l&&A.nice()}if("log"===e&&A.base(this.get("logBase")),this.lastDomain=this.domain,this.domain=T,this.range=I,this.pos=G,this.lastStart=this.start,this.lastEnd=this.end,this.start=a,this.end=s,this.axis=M,this.scale=A,this.dataZoomIndex=i,this.barGap=qf(this.get("barGap")),void 0===this.lastStart||void 0===this.lastEnd||a===this.lastStart&&s===this.lastEnd||k.dispatchAction(this,id.zoomChange,{zoom:{start:a,end:s},model:this}),this.lastDomain&&this.lastDomain.length===T.length){for(var pt=0;pt<this.lastDomain.length;pt++)if(T[pt]!==this.lastDomain[pt]){k.dispatchAction(this,id.zoomChange,{domain:T,model:this});break}}else k.dispatchAction(this,id.domainChange,{domain:T,model:this})},e.prototype.getOriginDomain=function(){var t=this,e=this.globalModel;if(this.get("relyOtherAxis")){var n=this.get("$axisIndex");t=e.getComponentByIndex("axis",n)||t}var r=t._option,i=r.filterHide,o=r.addValues,a=e.getSeriesByAxis(t.index,i),s=[],l=[];switch(t.getAxisType()){case"continuous":Xo(a,function(n){var r=function(t,e,n){if(t.getData()){var r=LI(t,e,sg,n),i=LI(t,e,og,n),o=t.get("onZero");return!~["time","log"].indexOf(e.get("type"))&&o&&(i<0?i=0:r>0&&(r=0)),[r,i]}return!1}(n,t,e);r&&s.push(r)}),l[0]=sg(s,function(t){return t[0]}),l[1]=og(s,function(t){return t[1]}),ea(o)&&(l[0]=Math.min.apply(Math,[l[0]].concat(o)),l[1]=Math.max.apply(Math,[l[1]].concat(o)));break;case"ordinal":l=t.getData()||[]}return t.originDomain=l,l},e.prototype.updateByOther=function(t){var e=this._option,n=e.position,r=e.splitNumber,i=e.$dataZoomIndex,o=e.start,a=e.end,s=e.nice,l=(e.min,e.max,e.fitMin,e.fitMax,e.alwaysShowFirst),u=e.alwaysShowLast,h=e.tickValues,c=e.offset,f=this.global,d=this.axis,p=this.getScale(),g=t.domain,v=this.getGridModels()[0],y=v.position,m=y.left,x=y.top,_=y.bottom,w=y.right,b=(y.width,y.height,this.get("label"),f.getWidth()),S=f.getHeight(),k=t.get("type");this.startIndex=t.startIndex,this.endIndex=t.endIndex;var M=v.position[n];switch(p.domain(g),n){case"top":d=d||wI(),p.range([m,w]),M-=c=qf(c,S);break;case"bottom":d=d||SI(),p.range([m,w]),M+=c=qf(c,S);break;case"left":d=d||kI(),p.range([_,x]),M-=c=qf(c,b);break;case"right":d=d||bI(),p.range([_,x]),M+=c=qf(c,b)}switch(d.axisLine(this.get("line")),d.axisTick(this.get("tick")),d.axisLabel(this.get("label")),d.scale(p).pos(M).alwaysShowFirst(l).alwaysShowLast(u),h=t.axis.tickValues(),k){case"point":case"band":d.tickValues(h),this.interval=t.interval;break;case"linear":h?d.tickValues(h):r&&d.ticks(r);break;case"time":case"log":r&&d.ticks(r),s&&p.nice()}"log"===k&&p.base(this.get("logBase")),this.lastDomain=this.domain,this.domain=g,this.range=p.range(),this.pos=M,this.lastStart=this.start,this.lastEnd=this.end,this.start=o,this.end=a,this.axis=d,this.scale=p,this.dataZoomIndex=i,this.barGap=qf(this.get("barGap"))},e.prototype.update=function(){if(this.get("relyOtherAxis")){var t=this.get("$axisIndex"),e=this.globalModel.getComponentByIndex("axis",t);e&&this.updateByOther(e)}else this.updateBySelf()},e.prototype.updateData=function(){var e;(e=t.prototype.updateData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),this.originDomain=void 0},e.prototype.getDataByOffset=function(t,e){var n=this.startIndex,r=this.getIndexByOffset(t,e)+n;return this.getDataByIndex(r)},e.prototype.getMoveDataByIndex=function(t,e){var n=this.getData(t+this.startIndex),r={axis:{dataIndex:t+this.startIndex,data:n,startIndex:this.startIndex,axisIndex:t},series:this.getDataByIndex(t+this.startIndex),allSeries:this.getDataByIndex(t+this.startIndex,!1)};return{e:{offsetX:this.scale(n),offsetY:1},lastIndex:e,index:t,dataIndex:t+this.startIndex,axisData:n,data:r,pos:this.scale(n)+(this.scale.bandwidth?this.scale.bandwidth()/2:0)}},e.prototype.getDataByIndex=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.globalModel,r=this.index,i=(this.scale,this.startIndex),o=n.getSeriesByAxis(r,e),a=this.scale,s=a.domain(),l=[];return o&&o.length&&"x"===this.get("xOrY")&&"ordinal"===this.getAxisType()&&Xo(o,function(e){var n=e.getAxisModel("y"),r=n&&n.scale,o=r&&r.domain();Xo($f(e._stackByPercent?e.stackData:e.getRealData(),function(r,i){return!!r&&(n?"ordinal"===n.getAxisType()?r[0]===t&&r[1]>=n.startIndex&&r[1]<=n.endIndex:e._stackByPercent?r[0]===t&&OI(r[1][0],o)&&OI(r[1][1],o):r[0]===t&&OI(r[1],o):r[0]===t)}),function(t){var n=e._stackByPercent?e.stackData[t]:e.getRealData(t),o=e._stackByPercent?[n[0],n[3]]:n,u=r&&(e._stackByPercent?r(n[1][1]):r(n[1]));l.push({name:e.get("name"),value:o,color:e.getSeriesColor(),seriesIndex:e.index,type:e.type,dataIndex:t,x:a(s[n[0]-i]),y:u,originValue:n})})}),l},e.prototype.getIndexByOffset=function(t,e){var n=this.scale,r=this.get("position"),i="top"===r||"bottom"===r?t:e;i="top"===r||"bottom"===r?t-n.range()[0]:n.range()[0]-e;var o=Math.min(Math["band"===this.get("type")?"floor":"round"]((i-(n.paddingOuter?(n.paddingOuter()-n.paddingInner()/2)*n.step():0))/n.step()),n.domain().length-1);return o>-1?o:0},e.prototype.getGridModels=function(){var t=this,e=this.get("$gridIndex"),n=[];return ea(e)||(e=[e]),Xo(e,function(e){n.push(t.globalModel.getComponentByIndex("grid",e))}),n},e.prototype.getAxisType=function(){switch(this.get("type")){case"linear":case"time":case"log":return"continuous";case"band":case"point":return"ordinal"}},e.prototype.setZoom=function(t){var e=this.globalModel.getComponentByIndex("dataZoom",this.get("$dataZoomIndex"));e?(e.set(t),this.global.dispatchAction(e,ld.change,{zoom:t})):this.set(t)},e.prototype.getLabelLen=function(t,e){var n=this.get("position"),r=this.get("label"),i=r.style,o=r.scale,a=this.getScale(),s=r.formatter||a.tickFormat&&a.tickFormat.apply(a),u=new Ec({style:l({text:s?s(t):t},i)}).getBoundingRect(),h=void 0;if(e||(e="top"===n||"bottom"===n?"width":"height"),r.rotate){var c=r.rotate/180*Math.PI;h="width"===e?Math.min(Math.abs(u.height/Math.sin(c)),u.width):Math.min(Math.abs(u.height/Math.cos(c)),u.width)}else h=u[e]*(o?o["width"===e?0:1]:1);return h||0},e.prototype.getLastData=function(){var t=this.endIndex,e=this.get("findLastIndex");e&&(t=e(this.getData(),this.startIndex,this.endIndex));var n=this.getData(t);return{axis:{dataIndex:this.endIndex,data:n,startIndex:this.startIndex,axisIndex:this.endIndex-this.startIndex},series:this.getDataByIndex(t),allSeries:this.getDataByIndex(t,!1)}},e}(Od);function LI(t,e,n,r){if("x"===e.get("xOrY")){var i="time"===e.get("type"),o=t.getData();if(!o||!o.length)return;for(var a=void 0,s=void 0,l=0;l<o.length;l++)if(o[l]){s=o[l][0];break}return a=ea(s)?n:i?function(t){return new Date(t)}:function(t){return t},n(o,function(t){if(t)return a(t[0])})}var u=t.get("stack")?t.stackData:t.getData();if((u=e.get("sliceData")?function(t,e){var n=e.getAxisModel("x"),r=n.start,i=n.end,o=n.getAxisType();if(void 0===r||void 0===i)return t;if("ordinal"===o){var a=n.getData().length,s=Math.round((a-1)*r),l=Math.round((a-1)*i);return Zo(t,function(t){if(t)return t[0]>=s&&t[0]<=l})}var u=n.scale.domain(),h="time"===n.get("type");return Zo(t,function(t){if(t){var e=t[0];return ea(e)?!(e[0]>u[1]||e[1]<u[0]):(h&&(e=new Date(e)),e>=u[0]&&e<=u[1])}})}(u,t):u)&&u.length){for(var h=void 0,c=void 0,f=0;f<u.length;f++)if(u[f]){c=u[f][1];break}h=ea(c)?n:ia(c)?function(t){var e=void 0;return n===sg?(e=1/0,Xo(t,function(t){return e>t&&(e=t)})):(e=-1/0,Xo(t,function(t){return e<t&&(e=t)})),e}:function(t){return t};var d=!t.get("stack")&&e.get("compare");return n(u,function(t){if(t){var e=t[1];return"number"==typeof e||ea(e)?(d&&("percent"===d?e=(e-c)/c:e-=c),h(e)):null}})}}function OI(t,e){if(ea(t)){for(var n=0;n<t.length;n++)if(t[n]<e[0]||t[n]>e[1])return!1}else if(t<e[0]||t>e[1])return!1;return!0}function DI(t){var e=t._option,n=e.left,r=e.right,i=e.top,o=e.bottom,a=e.width,s=e.height,l=t.global,u=l.getWidth(),h=l.getHeight(),c={};return void 0!==a?(c.width=qf(a,u),void 0!==n?(c.left=qf(n,u),c.right=c.left+c.width):(c.right=u-qf(r,u),c.left=c.right-c.width)):(c.left=qf(n,u),c.right=u-qf(r,u),c.width=c.right-c.left),void 0!==s?(c.height=qf(s,h),void 0!==o?(c.bottom=h-qf(o,h),c.top=c.bottom-c.height):(c.top=qf(i,h),c.bottom=c.top+c.height)):(c.top=qf(i,h),t.get("topPlaceHolder").show&&(c.top+=t.get("topPlaceHolder").height),c.bottom=h-qf(o,h),t.get("bottomPlaceHolder").show&&(c.bottom-=t.get("bottomPlaceHolder").height),c.height=c.bottom-c.top),t.position=c}zI.type=EI,zI.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,$dataZoomIndex:void 0,relyOtherAxis:!1,xOrY:"x",position:"bottom",type:"band",start:"0%",end:"100%",barGap:"20%",paddingInner:"60%",paddingOuter:"30%",padding:"0%",offset:0,ifTriggerHighlight:!0,domainScale:1.2,nice:!1,domainFormatter:void 0,max:void 0,min:void 0,fitMax:void 0,fitMin:void 0,splitNumber:void 0,intervalLength:void 0,interval:void 0,tickValues:void 0,domainEqualZero:[-1,1],space:0,addValues:void 0,compare:!1,alwaysShowLast:!1,alwaysShowFirst:!1,findLastIndex:void 0,symmetry:!1,sliceData:!0,filterHide:!0,ifTriggerMove:void 0,logBase:10,line:{show:!0,style:{stroke:"rgba(51, 51, 51, 0.1)",lineWidth:2},onZero:!1,onZeroAxisIndex:1},tick:{show:!0,outerSize:6,innerSize:0,onCenter:!0,style:{lineWidth:1,stroke:"rgba(51, 51, 51, 0.1)"}},label:{show:!0,inRange:!1,padding:10,style:{fill:"rgba(51, 51, 51, 0.4)",rich:{Y:{},m:{},b:{},d:{},a:{},I:{},p:{}}},inside:!1,truncate:!1,followLine:!1,rotate:0,formatter:void 0},splitLine:{show:!1,style:{color:"rgba(51, 51, 51, 0.1)",lineWidth:1}},splitArea:{show:!1,onRect:!1,style:{color:["rgba(51, 51, 51, 0.05)","rgba(0, 0, 0, 0)"]}},axisName:{show:!1,text:"",offset:[0,0],location:"end",style:{}},cursor:"default",zlevel:0,z:0},Tp(zI,eI);var PI="grid",FI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=PI,r.position={},c(r,n)}return u(e,t),e.prototype.update=function(){if(DI(this),this.get("containLabel")){var t=this.globalModel,e=this.supports.axis,n=this.position;Xo(e,function(e){var r=t.getComponentByIndex("axis",e),i=r.get("label"),o=(i.padding,r.getScale()),a=r.getOriginDomain();if(a.length){o.domain(a);for(var s=!1,l=r.get("position"),u=void 0,h=Math.ceil(a.length/100),c=0;c<a.length;c+=h)if(void 0!==a[c]){var f=a[c].toFixed?a[c].toFixed(10):a[c];0==s?s=f:s.length<f.length&&(s=f)}switch(l){case"left":case"right":!1!==s&&(u=r.getLabelLen(s,"width"),u+=i.padding,"left"===l?n.left+=u:n.right-=u,n.width-=u);break;case"top":case"bottom":!1!==s&&(u=r.getLabelLen(s,"height"),u+=i.padding,"top"===l?n.top+=u:n.bottom-=u,n.height-=u)}}})}},e.prototype.isPointInGrid=function(t,e){var n=this.position,r=n.left,i=n.right,o=n.top,a=n.bottom;return t>=r&&t<=i&&e>=o&&e<=a},e}(Od);FI.type=PI,FI.defaultOption={left:"10%",right:"10%",top:"10%",bottom:"15%",width:void 0,height:void 0,background:{show:!1,borderEnable:1,style:{fill:void 0,stroke:void 0,lineWidth:1}},topPlaceHolder:{show:!1,borderEnable:1,style:{stroke:"#ccc",fill:void 0,lineWidth:1,lineDash:null},height:20},bottomPlaceHolder:{show:!1,borderEnable:1,style:{stroke:"#ccc",fill:void 0,lineWidth:1,lineDash:null},height:20},containLabel:!1,zlevel:0,z:0};var NI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=PI,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.position,i=r.left,o=r.top,a=r.width,s=r.height,l=t.get("background"),u=l.borderEnable,h=t.get("topPlaceHolder"),c=t.get("bottomPlaceHolder");l.show&&this.setShape("background",tf,wf({shape:{x:i,y:o,width:a,height:s,borderEnable:u},style:l.style,silent:!0})),h.show&&this.setShape("topPlaceHolder",tf,wf({shape:{x:i,y:o-h.height,width:a,height:h.height,borderEnable:h.borderEnable},style:h.style,silent:!0})),c.show&&this.setShape("bottomPlaceHolder",tf,wf({shape:{x:i,y:o+s,width:a,height:c.height,borderEnable:c.borderEnable},style:c.style,silent:!0}))},e.prototype.renderEdit=function(t,e,n){var r=t.position,i=r.left,o=r.top,a=r.right,s=r.bottom,l=n.getWidth(),u=n.getHeight();this.setShape("_edit_left",Vc,{shape:{x1:i,y1:o,x2:i,y2:s},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"e-resize",z2:9999},void 0,function(e){function r(e){var n=e.offsetX;e.offsetY;t.set({left:n})}Uf(e,n,{onDragging:r,onDragEnd:r})}),this.setShape("_edit_top",Vc,{shape:{x1:i,y1:o,x2:a,y2:o},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"n-resize",z2:9999},void 0,function(e){function r(e){e.offsetX;var n=e.offsetY;t.set({top:n})}Uf(e,n,{onDragging:r,onDragEnd:r})}),this.setShape("_edit_right",Vc,{shape:{x1:a,y1:o,x2:a,y2:s},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"e-resize",z2:9999},void 0,function(e){function r(e){var n=e.offsetX;e.offsetY;t.set({right:l-n})}Uf(e,n,{onDragging:r,onDragEnd:r})}),this.setShape("_edit_bottom",Vc,{shape:{x1:i,y1:s,x2:a,y2:s},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"n-resize",z2:9999},void 0,function(e){function r(e){e.offsetX;var n=e.offsetY;t.set({bottom:u-n})}Uf(e,n,{onDragging:r,onDragEnd:r})})},e.prototype.removeEdit=function(){var t=this;this.eachShape(function(e,n){0===n.indexOf("_edit_")&&(e.disableDrag&&e.disableDrag(),t.removeShape(n))})},e}(Id);NI.type=PI,Tp(FI,NI);var RI="tooltip",BI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=RI,c(r,n)}return u(e,t),e}(Od);BI.type=RI,BI.defaultOption={$axisIndex:void 0,trigger:"item",alwaysShowContent:!1,offset:[12,15],position:void 0,confine:!0,formatter:void 0,toFixedNumber:2,dataFormatter:void 0,axisFormatter:function(t){return t},enterable:!1,showDelay:0,hideDelay:100,triggerOn:"mousemove",style:{position:"absolute",zIndex:99999,backgroundColor:"rgba(0, 0, 0, 0.5)",borderColor:"#333",borderStyle:"solid",borderWidth:0,borderRadius:"5px",padding:"5px",color:"white",display:"none"}};var WI=Xo,jI=["","Webkit","Moz","O"];function GI(t,e,n){var r=document.createElement("div"),i=this._zr=e.getZr();WI(n,function(t,e){"transition"===e?WI(jI,function(e){r.style[e+"Transition"]=t}):r.style[e]=t}),this.el=r,r.className="d3charts-tooltip",this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(r),this._container=t,this._show=!1,this._hideTimeout;var o=this;r.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!o._enterable){var n=i.handler;Fa(t,e,!0),n.dispatch("mousemove",e)}},r.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)},r.onclick=function(e){if(!o._enterable){var n=i.handler;Fa(t,e,!0),n.dispatch("click",e)}}}GI.prototype={constructor:GI,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.left=this._x+"px",e.style.top=this._y+"px",e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRoot())&&(t+=n.offsetLeft||0,e+=n.offsetTop||0);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Jo(this.hide,this),t)):this.hide())},isShow:function(){return this._show},remove:function(){this._container.removeChild(this.el)}};var HI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=RI,o._tooltipContent=new GI(i.getDom(),i,n.get("style")),o._tooltipContent.setEnterable(n.get("enterable")),o._tooltipContent.update(),o._initEvent(n,r,i),o}return u(e,t),e.prototype.showTooltip=function(t,e,n,r,i){t.global.dispatchAction(t,"BEFORE_SHOWTOOLTIP",e);var o=this._tooltipContent,a=t.get("toFixedNumber"),s=t.get("dataFormatter"),l=t.get("axisFormatter"),u=(t.get("formatter")||ta(UI,a,s,l))(e);u?(o.setContent(u),o.show(t),this._updatePosition(n,r,t,t.global,"axis",u,i)):this.hideTooltip(t)},e.prototype.hideTooltip=function(t){t.global.dispatchAction(t,"AFTER_SHOWTOOLTIP");var e=this._tooltipContent;e.isShow()&&!t.get("alwaysShowContent")&&e.hideLater(t.get("hideDelay"))},e.prototype._initEvent=function(t,e,n){var r=this,i=t.get("trigger"),o=t.get("triggerOn"),a=t.get("$axisIndex"),s=t.get("showDelay"),u=this._tooltipContent,h=e.getComponentByIndex("axis",a),c=t.get("$radarAxisIndex"),f=e.getComponentByIndex("radarAxis",c);if("axis"===i&&f&&"polar"===f.getAxisType())n.registerAction(f,od.move,function(e){e&&e.allSeries.length?r.showTooltip(t,e,e.e.offsetX,e.e.offsetY,0):r.hideTooltip(t)}),n.registerAction(f,od.out,function(e){r.hideTooltip(t)});else if("axis"===i&&h&&"ordinal"===h.getAxisType())n.registerAction(h,id.move,function(e){var n=e.e,i=(e.index,e.lastIndex,e.axisData,e.data),o=e.dataIndex;i&&i.allSeries.length?r.showTooltip(t,i,n.offsetX,n.offsetY,o):r.hideTooltip(t)}),n.registerAction(h,id.out,function(e){e.lastSeries,e.lastIndex;r.hideTooltip(t)});else if("item"===i){var d=n.getZr(),p=void 0;n.on(o,function(i){var o=i.offsetX,a=i.offsetY,h=d.findHover(o,a).target;if(h){h.parent&&h.parent.groupShape&&(h=h.parent);var c=h,f=c.dataIndex,g=c.name,v=c.seriesIndex,y=e.getComponentByIndex("series",v),m={},x=h.data;if(void 0===v)void 0!==x?m.series=[x]:m=!1;else{if(!y)return;x||(void 0!==f?x=y.get("stack")?y.points[f][2]:y.getRealData(f):void 0!==g&&(x=y.findDataNamed(g))),void 0!==x&&(m.series=[l({},x,{name:x.name||y.get("name"),value:x.value||x,color:x.color||y.getSeriesColor(),seriesIndex:y.index,type:y.type,dataIndex:f})])}if(m){var _=t.get("toFixedNumber"),w=t.get("dataFormatter");(m=(y&&y.get("tooltip")&&y.get("tooltip").formatter||t.get("formatter")||ta(UI,_,w,void 0))(m))&&(u.setContent(m),s?p=setTimeout(function(){u.show(t),r._updatePosition(o,a,t,n,"item",h)},s):(u.show(t),r._updatePosition(o,a,t,n,"item",h)))}else r.hideTooltip(t)}}),n.on("mouseout",function(e){p&&clearTimeout(p),r.hideTooltip(t)}),n.on("mouseup",function(e){p&&clearTimeout(p),r.hideTooltip(t)})}},e.prototype._updatePosition=function(t,e,n,r,i,o,a){var s=r.getWidth(),l=r.getHeight(),u=n.get("position"),h=n.get("offset"),c=n.get("confine"),f=this._tooltipContent,d=f.getSize();if("function"==typeof u){var p=u({x:t,y:e,model:n,dataIndex:a});t=p.x,e=p.y}else if(ea(u))t=u[0],e=u[1];else if(ia(u));else if("string"==typeof u&&o){var g={x:t,y:e,width:0,height:0};"axis"===i&&o.series&&o.series[0]?(g.x=o.series[0].x,g.y=o.series[0].y):"item"===i&&o&&(g=o.getBoundingRect().clone()).applyTransform(o.transform);var v=function(t,e,n){var r=n[0],i=n[1],o=0,a=0,s=e.width,l=e.height;switch(t){case"inside":o=e.x+s/2-r/2,a=e.y+l/2-i/2;break;case"top":o=e.x+s/2-r/2,a=e.y-i-5;break;case"bottom":o=e.x+s/2-r/2,a=e.y+l+5;break;case"left":o=e.x-r-5,a=e.y+l/2-i/2;break;case"right":o=e.x+s+5,a=e.y+l/2-i/2}return[o,a]}(u,g,d);t=v[0],e=v[1]}else{var y=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],a=VI(n),s=a.width,l=a.height;t+s+o[0]>r?t-=s+o[0]:t+=o[0];e+l+o[1]>i?e-=l+o[1]:e+=o[1];return[t,e]}(t,e,f.el,s,l,h);t=y[0],e=y[1]}if(c){var m=function(t,e,n,r,i){var o=VI(n),a=o.width,s=o.height;return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(t,e,f.el,s,l);t=m[0],e=m[1]}f.moveTo(t,e)},e.prototype.remove=function(){t.prototype.remove.call(this),this._tooltipContent.remove()},e}(Id);function UI(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=arguments[3];if(r){var i=r.axis,o=r.series,a=i&&i.data,s=void 0!==a?n(a,i):"",l=!0,u=!1;return Xo(o,function(n){var r=ea(n.value)?n.value[1]:n.value;if(void 0!==r){var i=e?e(r,n):"number"==typeof r?r.toFixed(t):r;(i||0===i)&&(s+="\n                    "+(void 0===a&&l?"":"</br>")+"\n                    "+(n.color?'<span style="display: inline-block; margin-right: 5px; border-radius: 10px; width: 9px; height: 9px; background-color: '+n.color+'"></span>':"")+"\n                    "+(n.name?n.name+": ":"")+i+"\n            ",l=!1,u=!0)}}),!!u&&s}}function VI(t){var e=t.clientWidth,n=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var r=document.defaultView.getComputedStyle(t);r&&(e+=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)+parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10),n+=parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10))}return{width:e,height:n}}HI.type=RI,Tp(BI,HI);var qI="data",YI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=qI,r.isPending=!1,c(r,n)}return u(e,t),e.prototype.getData=function(t){return void 0===t?this._data:ea(t)?t.length?Ko(this._data,function(e){return Ko(t,function(t){return e[t]})}):[]:Ko(this._data,function(e){return e[t]})},e.prototype.update=function(){if(!this.isPending){var t=this.get("$dataIndex"),e=this.get("originData"),n=this.get("formatter"),r=this.globalModel.getComponentByIndex("timeline",this.get("$timelineIndex"));if(r&&(e=e[r.get("currentIndex")]),this.__dataDirty=!1,void 0!==e)this._data=n(e);else if(void 0!==t){var i=this.globalModel.getComponentByIndex("data",t).getData();i&&(this._data=n(i))}}},e.prototype.updateData=function(){},e.prototype.pushData=function(t){var e=this.get("originData");e&&ea(this._data)&&(e.push(t),this.dirty())},e.prototype.setData=function(t){this.set("originData",t)},e.prototype.dirty=function(t){this.dataDirty(),this.globalModel.dirty(this)},e.prototype.isDirty=function(){return this.__dataDirty},e}(Od);YI.type=qI,YI.defaultOption={$dataIndex:void 0,formatter:function(t){return t},originData:void 0},Tp(YI);var $I="dataZoom",XI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$I,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this,e=this.globalModel,n=qf(this.get("start")),r=qf(this.get("end")),i=e.getComponent("axis",function(e){return e.get("$dataZoomIndex")===t.index&&"ordinal"===e.getAxisType()})[0],o=this._option,a=o.handler,s=o.orient,l=o.width,u=o.height,h=o.dataBackground,c=o.seriesIndex,f=o.label,d=o.valueIndex,p=this.get("minSpan"),g=this.get("maxSpan");if(i){var v=this.get("startValue"),y=this.get("endValue"),m=i.getData();if(m){var x=m.length,_=this.get("minValueSpan"),w=this.get("maxValueSpan");void 0!==v&&void 0===n&&("number"!=typeof v&&(v=m.indexOf(v)),v<0&&(v+=x),n=v/(x-1)),void 0!==y&&void 0===r&&("number"!=typeof y&&(y=m.indexOf(y)),y<0&&(y+=x),r=y/(x-1)),this.axisData=m,void 0!==_&&(p=_/x),void 0!==w&&(g=w/x)}this.axisModel=i}if(n=n||0,r=r||1,this.handlerStart=Math.min(Math.max(n,0),1),this.handlerEnd=Math.min(Math.max(0,r),1),this.start=Math.max(Math.min(n,r),0),this.end=Math.min(Math.max(n,r),1),this.minSpan=p,this.maxSpan=g,DI(this),a.show&&(this.handlerSize=Xf(a.size,"horizontal"===s?u:l)),h.show||f.show){var b=e.getComponentByIndex("series",c),S=b.getAxisModel("x"),k=S.getData();if(h.show){var M=S.get("type"),A=b.getAxisModel("y").get("type"),I=b.getRealData(),T=this.xScale=this.xScale||cI[M](),C=this.yScale=this.yScale||cI[A](),E=this.position,z=E.left,L=E.right,O=E.top,D=E.bottom,P=this.points=[];T.domain(k).range([z,L]),C.domain([b.getDataExtent("min",void 0,d,!1)[1],b.getDataExtent("max",void 0,d,!1)[1]]).range([D,O]);var F=T.bandwidth?T.bandwidth()/2:0;Xo(k,function(t,e){ea(I[e][1])?P.push([T(t)+F,C(I[e][1][d])]):P.push([T(t)+F,C(I[e][1])])})}if(f.show){var N=k.length;this.xstart=k[Math.round((N-1)*n)],this.xend=k[Math.round((N-1)*r)]}}},e}(Od);XI.type=$I,XI.defaultOption={$gridIndex:0,type:"inside",left:"10%",right:"10%",top:void 0,bottom:"3%",width:void 0,height:25,background:{show:!0,style:{fill:"rgba(47,69,84,0)",stroke:"#ddd",lineWidth:1}},seriesIndex:0,valueIndex:0,dataBackground:{show:!1,line:{show:!0,style:{stroke:"rgba(47,69,84,0.3)",lineWidth:.5}},area:{show:!0,style:{fill:"rgba(47,69,84,0.1)"}}},label:{show:!1,formatter:function(t){return t},style:{}},filler:{show:!0,type:"rect",style:{fill:"rgba(167,183,204,0.4)",stroke:"#ddd"}},handler:{show:!0,type:"path://M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",size:[10,"100%"],style:{fill:"#a7b7cc",stroke:"#000",lineWidth:0}},start:void 0,end:void 0,startValue:void 0,endValue:void 0,minSpan:void 0,maxSpan:void 0,minValueSpan:void 0,maxValueSpan:void 0,pressStop:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!1,preventDefaultMouseWheel:!0,orient:"horizontal",zlevel:0,z:8};var KI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=$I,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=this;if("slider"!==t.get("type")){var i=t.get("$gridIndex");ea(i)?Xo(i,function(i){r._bindGridEvent(t,e,n,e.getComponentByIndex("grid",i))}):this._bindGridEvent(t,e,n,e.getComponentByIndex("grid",i))}},e.prototype._bindGridEvent=function(t,e,n,r){var i=!1,o=t.get("zoomOnMouseWheel"),a=t.get("moveOnMouseMove"),s=t.get("preventDefaultMouseMove"),l=t.get("preventDefaultMouseWheel");if(a){var u=void 0,h=!1;n.on("mousedown",function(o){if(!n.isEnableEdit&&!n.isEnableSketch){var a=o.offsetX,s=o.offsetY,l=e.getComponent("zoomBrush");if(l)for(var c=l.length;c--;)if(l[c].get("enable"))return;r.isPointInGrid(a,s)&&(u=new Date,i=!0,h=!1,n.dispatchAction(t,ld.start,{e:o}))}}),n.on("mousemove",function(e){var o=t.get("pressStop"),a=e.offsetX,l=e.offsetY,c=new Date;o&&i&&!h&&c-u>300&&(i=!1),i&&r.isPointInGrid(a,l)&&(n.dispatchAction(t,ld.moving,{e:e}),s&&QI(e),h=!0)}),n.on("mouseup",function(e){i&&n.dispatchAction(t,ld.end),i=!1}),n.on("globalout",function(e){i&&n.dispatchAction(t,ld.end),i=!1})}o&&(n.on("mousewheel",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){var i=e.offsetX,o=e.offsetY,a=e.wheelDelta;r.isPointInGrid(i,o)&&(n.dispatchAction(t,ld.wheel,{e:e,scale:a>0?.1:-.1,zoomX:i,zoomY:o}),l&&QI(e))}}),n.on("pinch",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){e.offsetX,e.offsetY;var i=e.pinchX,o=e.pinchY;r.isPointInGrid(i,o)&&(n.dispatchAction(t,ld.wheel,{e:e,scale:e.pinchScale-1,zoomX:i,zoomY:o}),QI(e.event))}}));var c=!1,f=void 0,d=void 0,p=void 0;n.registerAction(t,ld.start,function(e){var n=e.e,r=n.offsetX,i=n.offsetY,o=t.get("orient");f="horizontal"===o?r:-i,c=!0}),n.registerAction(t,ld.moving,function(e){var i=e.e,o=i.offsetX,a=i.offsetY;if(c){var s=t.get("orient"),l=r.position,u=l.width,h=l.height,g=t.start,v=t.end,y="horizontal"===s?o:-a,m="horizontal"===s?u:h,x=t.axisModel&&t.axisModel.scale.step&&t.axisModel.scale.step();if(p=(d=y-f)/m*(v-g),x&&Math.abs(d)<x)return;if(g-p>=0&&v-p<=1){var _={start:g-p,end:v-p};ZI(t,_)&&(nT(_,t),t.set(_),n.dispatchAction(t,ld.change,{zoom:rT(_)}))}else if(0!==g&&g-p<0){var w={start:0,end:v-p+(p-g)};ZI(t,w)&&(nT(w,t),t.set(w),n.dispatchAction(t,ld.change,{zoom:rT(w)}))}else if(1!==v&&v-p>1){var b={start:g-p-(v-p-1),end:1};ZI(t,b)&&(nT(b,t),t.set(b),n.dispatchAction(t,ld.change,{zoom:rT(b)}))}f=y}}),n.registerAction(t,ld.end,function(){c=!1}),n.registerAction(t,ld.wheel,function(e){var i=e.zoomX,o=e.zoomY,a=e.scale,s=t.get("orient"),l=t.minSpan,u=t.maxSpan,h=r.position,c=h.left,f=h.bottom,d=h.width,p=h.height,g="horizontal"===s?(i-c)/d:(f-o)/p,v=t.start,y=t.end,m=y-v;v+=(m*=a)*g,y-=m*(1-g),v=Math.max(0,v),y=Math.min(1,y);var x={start:Math.max(0,v),end:Math.min(1,y)};l&&(Math.abs(x.start-x.end)<l||l>1)||u&&Math.abs(x.start-x.end)>u||ZI(t,x)&&(nT(x,t),t.set(x),n.dispatchAction(t,ld.change,{zoom:rT(x)}))})},e.prototype.render=function(t,e,n){var r=this;if("inside"!==t.get("type")){var i=t.position,o=t.handlerStart,a=t.handlerEnd,s=(t.handlerSize,t.points),u=i.left,h=(i.right,i.top),c=i.bottom,f=i.width,d=i.height,p=t.get("filler"),g=t.get("background"),v=t.get("dataBackground"),y="horizontal"===t.get("orient");if(g.show&&this.setShape("background",Hc,wf({shape:{x:u,y:h,width:f,height:d},style:g.style})),v.show){if(v.line.show){var m={x:function(t){return t[0]},y:function(t){return t[1]},data:s,percent:1,defined:function(t){return t}},x=v.line.style;this.setShape("dataBackground.line",df,{shape:m,style:x})}if(v.area.show){var _={x:function(t){return t[0]},y1:function(t){return t[1]},y0:c,data:s,percent:1,defined:function(t){return t}},w=v.area.style;this.setShape("dataBackground.area",d_,{shape:_,style:w})}}if(p.show){var b=void 0;b=y?{x:f*o,y:0,width:f*(a-o),height:d}:{x:0,y:d*o,width:f,height:d*(a-o)},this.setShape("filler",Vd,{shape:l({symbolType:p.type},b),position:[u,h],style:p.style},void 0,function(e){e.on("mousedown",function(e){r.draggingFiller=!0,eT.call(r,e,y,t,n)}),n.on("mousemove",function(e){eT.call(r,e,y,t,n)}),n.on("mouseup",function(e){eT.call(r,e,y,t,n),r.draggingFiller=!1,r.lastFillerOffset=void 0}),n.on("globalout",function(e){eT.call(r,e.event,y,t,n),r.draggingFiller=!1,r.lastFillerOffset=void 0})})}t.get("handler").show&&(JI.call(this,"start",t,e,n),JI.call(this,"end",t,e,n))}},e}(Id);function ZI(t,e){return t.start!==e.start||t.end!==e.end}function QI(t){var e=t.event;e.preventDefault&&e.preventDefault()}function JI(t,e,n,r){var i,o=this,a=e.position,s=e.handlerStart,u=e.handlerEnd,h=e.handlerSize,c=(e.xstart,e.xend,e.get("label")),f=a.left,d=(a.right,a.top),p=(a.bottom,a.width),g=(a.height,"horizontal"===e.get("orient")),v=e.get("handler"),y=v.style;c.show&&(y=l({text:c.formatter(e["x"+t]),textPosition:"start"===t&&s<u||"end"===t&&s>u?"left":"right"},n.getFormattedText(c.style),v.style)),i={shape:l({symbolType:v.type,x:-h.width/2,y:0},h),position:[f+p*e["start"===t?"handlerStart":"handlerEnd"],d],style:y,rectHover:!0,cursor:"ew-resize"},this.setShape("handler"+t,Vd,i,void 0,function(n){n.handlerType=t,n.on("mousedown",function(){o["draggingHandler"+t]=!0}),r.on("mousemove",function(i){tT(o["draggingHandler"+t],i,g,e,n.handlerType,r)}),r.on("mouseup",function(i){tT(o["draggingHandler"+t],i,g,e,n.handlerType,r),o["draggingHandler"+t]=!1}),r.on("globalout",function(i){tT(o["draggingHandler"+t],i.event,g,e,n.handlerType,r),o["draggingHandler"+t]=!1})})}function tT(t,e,n,r,i,o){var a=e.offsetX;e.offsetY;if(t){var s=r.position,l=s.left,u=s.right,h=(s.top,s.bottom,s.width),c=(s.height,r.minSpan),f=r.maxSpan,d=void 0;if(n){var p;d=function(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}(d=a,l,u);var g=((p={start:r.start,end:r.end})[i]=(d-l)/h,p);if(c&&(Math.abs(g.start-g.end)<c||c>1))return;if(f&&Math.abs(g.start-g.end)>f)return;nT(g,r),r.set(g),o.dispatchAction(r,ld.change,{zoom:rT(g)})}}}function eT(t,e,n,r){var i=t.offsetX,o=t.offsetY;if(this.draggingFiller){var a=n.position,s=(a.left,a.right,a.top,a.bottom,a.width),l=(a.height,e?i:o),u=this.lastFillerOffset;if(this.lastFillerOffset=l,void 0!==u){var h=n.start,c=n.end,f=l-u,d=void 0,p=void 0;if(e){p=f/s+c,(d=f/s+h)<0&&(p+=0-d,d=0),p>1&&(d-=p-1,p=1);var g={start:d,end:p};nT(g,n),n.set(g),r.dispatchAction(n,ld.change,{zoom:rT(g)})}}}}function nT(t,e){var n=e.axisData;n&&(t.startValue=Math.round(t.start*(n.length-1)),t.endValue=Math.round(t.end*(n.length-1)))}function rT(t){return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}KI.type=$I,Tp(XI,KI);var iT="legend",oT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=iT,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.global,e=this.globalModel,n=t.getWidth(),r=t.getHeight(),i=this.get("left"),o=this.get("right"),a=this.get("width"),s=this.get("top"),l=this.getData(),u=this.get("selected"),h={};l||(l=[],e.eachComponent("series",function(t){var e=t.get("name");e&&l.push(e)},!1)),u&&Xo(u,function(t,e){h[e]=t});var c=Ko(l,function(t){return ia(t)?t:{name:t}});Xo(c,function(t){var e=t.name;return h[e]=!(u&&(!u||!1===u[e]))}),this.selected=h,this.items=c,o=qf(o,n),a=qf(a,n),"center"===i||"right"===i?(a||(a=n),o=n,i=n-a):(i=qf(i,n),void 0!==o?(o=n-o,void 0!==a?i=o-a:a=o-(i=i||0)):(i=i||0,o=void 0!==a?i+a:i+(a=n-i))),s="middle"===s?0:qf(s,r),this.position={left:i,width:a,right:o,top:s}},e.prototype.isSelected=function(t){return!!this.selected[t]},e.prototype.toggleMultiple=function(t,e){var n=this,r=this.global,i=this.globalModel,o=this.selected,a=void 0===e?o[t]:!e,s=i.getSeriesByName(t,!1);s.length?Xo(s,function(e){if(!1===a){var i;e.set("selected",!0),n.set({selected:(i={},i[t]=!0,i)})}else{var o,s=r.getViewOfComponentModel(e);e.set("selected",!1),r.dispatchAction(e,ud.unselected),s&&s.remove(),n.set({selected:(o={},o[t]=!1,o)})}}):i.eachComponent("series",function(e){var r,i,o,s;e.findDataNamed(t)&&(!1===a?(e.set({selected:(r={},r[t]=!0,r)}),n.set({selected:(i={},i[t]=!0,i)})):(e.set({selected:(o={},o[t]=!1,o)}),n.set({selected:(s={},s[t]=!1,s)})))},!1)},e.prototype.toggleSingle=function(t){var e=this,n=this.global,r=this.globalModel,i=this.selected,o=this.items;i[t];Xo(o,function(i){var o=i.name,a=r.getSeriesByName(o,!1);a.length?Xo(a,function(r){if(o===t){var i;r.set("selected",!0),e.set({selected:(i={},i[o]=!0,i)})}else{var a,s=n.getViewOfComponentModel(r);r.set("selected",!1),n.dispatchAction(r,ud.unselected),s&&s.remove(),e.set({selected:(a={},a[o]=!1,a)})}}):r.eachComponent("series",function(n){var r,i,a,s;n.findDataNamed(o)&&(o===t?(n.set({selected:(r={},r[o]=!0,r)}),e.set({selected:(i={},i[o]=!0,i)})):(n.set({selected:(a={},a[o]=!1,a)}),e.set({selected:(s={},s[o]=!1,s)})))},!1)})},e}(Od);oT.type=iT,oT.defaultOption={data:void 0,show:!0,left:"10%",top:"2.5%",right:void 0,bottom:void 0,width:void 0,align:"left",type:"plain",page:{pageIndex:1,buttonItemGap:2,buttonGap:0,iconColor:"#2f4554",iconInactiveColor:"#aaa",iconSize:[14,16],iconOffset:[0,-3],textStyle:{fill:"#333",fontStyle:"normal",fontWeight:"normal",fontFamily:"sans-serif",fontSize:16,textOffset:[0,-1.5]}},orient:"horizontal",inactiveColor:"#ccc",verticalGap:5,horizontalGap:10,innerGap:5,addLine:!0,itemWidth:void 0,symbol:{type:void 0,size:[16,10],color:void 0,style:{}},selectedMode:"multiple",selected:{},textStyle:{fontSize:12,fontFamily:"sans-serif"},padding:[10,15,10,15],background:{show:!1,radius:5,style:{lineWidth:1,fill:"rgba(128, 128, 128, 0.2)",stroke:"#ccc"}},formatter:void 0,onClick:void 0,zlevel:0,z:8};var aT=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.globalModel=r,o.attr(arguments),o}return u(e,t),e.prototype.attr=function(t){var e=t[0],n=t[1],r=t[2],i=e.x,o=e.y,a=e.textStyle,s=e.symbolType,u=e.symbolWidth,h=e.symbolHeight,c=e.symbolColor,f=e.align,d=e.innerGap,p=e.symbolStyle,g=e.series,v=(e.item,e.isSelected),y=e.inactiveColor,m=e.position,x=e.left,_=(e.width,e.right),w=e.lastHeight,b=e.verticalGap,S=e.fromRight,k=e.addLine,M=e.itemWidth,A=v?c:y,I=g.get("symbol")&&g.get("symbol").normal,T=g.get("line")&&g.get("line").normal,C=new Ec(n.getFormattedText({style:l({textVerticalAlign:"center",truncate:M?{outerWidth:M-d-u}:null},a)})),E=void 0,z=void 0,L=s;if(L||(L="line"===g.type&&T.show?I&&I.show&&I.type||"none":"roundRect"),k&&"line"===g.type&&T.show){var O=T.style;z=new Vc(_f({shape:{x1:0,y1:0,x2:u,y2:0},style:v?O:Bo({stroke:y},O,!1),z2:0}))}if(E=k&&"line"===g.type&&T.show?new Vd({shape:{symbolType:L,x:(u-h)/2,y:0,width:h,height:h},z2:1}):new Vd({shape:{symbolType:L,x:0,y:0,width:u,height:h},z2:1}),!s&&"line"===g.type&&T.show&&I&&I.show&&!na(I.style)){var D=I.style,P=v?p:{fill:D.fill&&y,stroke:D.stroke&&y};E.setStyle(v?D:Bo(P,I.style,!1))}else E.setColor(A),v&&E.setStyle(p);var F=void 0,N=void 0,R=C.getBoundingRect(),B=R.height,W=R.width,j=o+Math.max(h,B)/2,G=(r.getWidth(),void 0),H=void 0;function U(){for(var t=a.text,e="",n=0;n<t.length;n++)e+=t[n],C.attr({style:{text:e}}),W=C.getBoundingRect().width,G=u+W+d,H=M||G,S?m[0]-H<x&&(e=e.replace(/.$/,"\n"+e.match(/.$/)),m[1]+=B/2):m[0]+H>_&&(e=e.replace(/.$/,"\n"+e.match(/.$/)),m[1]+=B/2)}G=u+W+d,H=M||G,S?m[0]-H<x&&(_===m[0]?M||U():(m=[_,m[1]+w+b],M||U())):m[0]+H>_&&(x===m[0]?M||U():(m=[x,m[1]+w+b],M||U())),"right"===f?(F=i,N=i+W+d):(N=i,F=i+u+d),C.attr({position:[F,j-1]}),E.attr({position:[N,j-h/2]}),this.set("text",C),this.set("symbol",E),z&&(z.attr({position:[N,j]}),z&&this.set("line",z)),S&&(m=[m[0]-M,m[1]]),this.group.attr("position",m)},e.prototype.remove=function(){var e;(e=t.prototype.remove).call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),this.globalModel=null},e}(X_),sT=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=iT,i.registerAction(n,hd.click,function(t){var e=t.name;"single"===n.get("selectedMode")?n.toggleSingle(e):n.toggleMultiple(e)}),i.registerAction(n,hd.mouseover,function(t){var e=t.name;n.isSelected(e)&&Xo(r.getComponentByName("series",e,!0),function(t){t.get("legendHoverLink")&&i.getViewOfComponentModel(t).highlight(t,r,i)})}),i.registerAction(n,hd.mouseout,function(t){var e=t.name;n.isSelected(e)&&Xo(r.getComponentByName("series",e,!0),function(t){t.get("legendHoverLink")&&i.getViewOfComponentModel(t).downplay(t,r,i)})}),o}return u(e,t),e.prototype.render=function(t,e,n){var r=this;if(this.remove(),t.get("show")){var i=t.position,o=i.left,a=i.right,s=i.top,u=i.width,h=t.items,c=t.selected,f=n.getWidth(),d=n.getHeight(),p=t.get("orient"),g=t.get("align"),v=t.get("inactiveColor"),y=qf(t.get("verticalGap"),d),m=qf(t.get("horizontalGap"),f),x=t.get("innerGap"),_=t.get("addLine"),w=t.get("formatter"),b=t.get("selectedMode"),S=t.get("symbol"),k=S.size,M=S.type,A=S.color,I=S.style;k=Xf(k);var T=t.get("textStyle"),C=t.get("itemWidth"),E=t.get("onClick"),z=o,L=s,O=void 0,D=t.get("type"),P=t.get("page"),F=t.get("page").buttonItemGap,N=t.get("page").buttonGap,R=t.get("page").iconColor,B=t.get("page").iconInactiveColor,W=t.get("page").iconSize,j=t.get("page").iconOffset,G=t.get("page").textStyle,H=Uo();H.save();var U=function(i,h){h&&(z=o),Xo(i,function(i){var h=i.name,f=i.icon,d=i.style,S=i.size,P=i.showName,F=void 0!==S?Xf(S):k,N=F.width,R=F.height,B=e.getSeriesByName(h,!1),W=void 0;if(B.length?W=B[0]:e.eachComponent("series",function(t){t.findDataNamed(h)&&(W=t)},!1),W){var j=!!c[h],G=r.setShape(h,aT,[{x:0,y:0,textStyle:l({},T,{fill:c[h]?T.fill:v,text:P||(w?w(h,i):h)}),align:g,symbolType:f||M,symbolWidth:N,symbolHeight:R,symbolColor:A||W.getSeriesColor(h),innerGap:x,symbolStyle:Bo(d||{},I,!1),series:W,item:i,isSelected:j,inactiveColor:v,position:[z,L],fromRight:!1,left:o,right:a,width:u,lastHeight:O,verticalGap:y,addLine:_,itemWidth:C,type:D},e,n],{animation:!0},function(e){b&&(e.group&&(e=e.group),e._name=h,e.on("click",function(e){var r=this._name;n.dispatchAction(t,hd.click,{e:e,name:r,item:i,model:t}),E&&E(r,i,t)}),e.on("mouseover",function(e){var r=this._name;n.dispatchAction(t,hd.mouseover,{e:e,name:r,item:i,model:t})}),e.on("mouseout",function(e){var r=this._name;n.dispatchAction(t,hd.mouseout,{e:e,name:r,item:i,model:t})}),e.on("mousemove",function(e){var r=this._name;n.dispatchAction(t,hd.mousemove,{e:e,name:r,item:i,model:t})}))}),H=G.group.getBoundingRect();"vertical"===p?L=G.group.position[1]+H.height+y:"scroll"===D&&"horizontal"===p?(O=H.height,z=G.group.position[0]+((C||H.width)+m),L=s):(O=H.height,z=G.group.position[0]+((C||H.width)+m),L=G.group.position[1])}})};if("scroll"===D&&"horizontal"===p){H.font=G.fontSize+"px "+G.fontFamily;for(var V=H.measureText("99/99").width,q=t.position.width-V-3*W[0]-N-2*F,Y=[0],$=0,X=0;X<h.length;X++){var K=h[X];H.font=T.fontSize+"px "+T.fontFamily;var Z=H.measureText(K.name).width,Q=k.width+Z+x+m;($+=Q)>q&&(Y.push(X),$=Q)}Y.push(h.length);var J=Y.length-1,tt=t.get("page").pageIndex;H.font=G.fontSize+"px "+G.fontFamily,V=H.measureText(tt+"/"+J).width,U(h.slice(Y[tt-1],Y[tt]),!0),this.setShape("pre",Vd,{shape:{symbolType:"triangle",width:W[1],height:W[0],x:-W[1],y:-W[0]},style:{fill:1===tt?B:R},position:[t.position.right-2*W[0]-V-2*F+j[0],t.position.top+j[1]],rotation:Math.PI/2},void 0,function(e){e.on("click",function(e){if(1!==tt){tt--;var n=P;n.pageIndex=tt,t.set("page",n)}})}),this.setShape("next",Vd,{shape:{symbolType:"triangle",width:W[1],height:W[0]},style:{fill:tt===J?B:R},position:[t.position.right-W[0]+j[0],t.position.top+j[1]],rotation:-Math.PI/2},void 0,function(e){e.on("click",function(e){if(tt!==J){tt++;var n=P;n.pageIndex=tt,t.set("page",n)}})}),this.setShape("pageText",Ec,Rf({style:l({text:tt+"/"+J,x:t.position.right-2*W[0]-V-F+G.textOffset[0],y:t.position.top+G.textOffset[1]},G)}))}else U(h,!1);this.removeShape("background");var et=this.group.getBoundingRect(),nt=qf(t.get("bottom"),d),rt=void 0,it=void 0;switch(t.get("left")){case"center":rt=f/2-et.width/2-et.x,t.position.left=rt;break;case"right":rt=f-5-et.x-et.width;break;case"left":rt=5;break;default:void 0!==t.get("right")&&(rt=a-et.x-et.width)}"middle"===t.get("top")&&(it=d/2-et.height/2-et.y),void 0!==nt&&(it=d-nt-et.height-et.y),rt&&Xo(this.group.children(),function(t){t.position[0]+=rt}),it&&Xo(this.group.children(),function(t){t.position[1]+=it});var ot=t.get("background");if(ot.show){var at=t.get("padding"),st=this.group.getBoundingRect();this.setShape("background",Hc,{shape:{x:st.x-at[3],y:st.y-at[0],width:st.width+at[1]+at[3],height:st.height+at[0]+at[2],r:ot.radius},style:ot.style,z2:-1,silent:!0})}H.restore()}},e.prototype.renderEdit=function(t,e,n){var r=t.position,i=r.left,o=r.top,a=t.get("left");"center"!==a&&"right"!==a||(i=this.group.getBoundingRect().x);this.setShape("_edit_point",zc,{shape:{cx:i,cy:o,r:7},style:{fill:"rgba(0, 0, 0, 0.8)"},cursor:"move",z2:9999},void 0,function(e){function r(e){var n=e.offsetX,r=e.offsetY;t.set({left:n,top:r})}Uf(e,n,{onDragging:r,onDragEnd:r})})},e.prototype.removeEdit=function(){var t=this;this.eachShape(function(e,n){0===n.indexOf("_edit_")&&(e.disableDrag&&e.disableDrag(),t.removeShape(n))})},e}(Id);sT.type=iT,Tp(oT,sT);var lT="axisPointer",uT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=lT,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.get("seriesLabel"),e=this.globalModel,n=[];Xo(t.seriesIndex,function(t){if("string"==typeof t){var r=e.getComponentById("series",t);r&&-1===n.indexOf(r.index)&&n.push(r.index)}else-1===n.indexOf(t)&&n.push(t)}),this.seriesIndex=n},e.prototype.updateByXY=function(t,e){var n=this.global,r=this.globalModel,i=n.getViewOfComponentModel(this),o=this.getAxisModel("x"),a=this.getAxisModel("y"),s=o.getIndexByOffset(t,e),l=o.getData()[s],u=a.scale.invert(e),h=o.scale(l)+(o.scale.bandwidth?o.scale.bandwidth()/2:0);i.movePointer(this,o,r,{offsetX:t,offsetY:e,axisData:l,pos:h}),i.movePointer(this,a,r,{offsetX:t,offsetY:e,axisData:u})},e.prototype.updateByIndex=function(t,e){var n=this.global,r=this.globalModel,i=n.getViewOfComponentModel(this),o=this.getAxisModel("x"),a=this.getAxisModel("y");if(o){var s=o.getData()[t],l=o.scale(s)+(o.scale.bandwidth?o.scale.bandwidth()/2:0);i.movePointer(this,o,r,{axisData:s,pos:l})}if(a){var u=a.scale(e);i.movePointer(this,a,r,{offsetY:u,axisData:e})}},e}(Od);uT.type=lT,uT.defaultOption={$axisIndex:[0,1],enable:!0,line:{show:!0,topExtend:0,style:{stroke:"rgba(51, 51, 51, 0.5)",lineWidth:1}},shadow:{show:!1,style:{fill:"rgba(150,150,150,0.3)"}},label:{show:!0,formatter:void 0,gap:void 0,inRange:void 0,inside:!1,style:{fill:"white",textPadding:5,textBorderRadius:2,textBackgroundColor:"#6A7985"},rotate:void 0},valueIndex:void 0,seriesLabel:{show:!1,gap:5,formatter:function(t){return t},seriesIndex:[],style:{textVerticalAlign:"bottom",textAlign:"right"}},zlevel:0,z:9};var hT=Kp(function(t){return t&&-t[1]}).right,cT=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=lT,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=this,i=t.get("$axisIndex"),o=t.get("$axisPointerIndex"),a=e.getComponentByIndex("axisPointer",o),s=[];ea(i)||(i=[i]),Xo(i,function(t){s.push(e.getComponentByIndex("axis",t))});var l=function(){r.eachShape(function(t){t.hide()})};a?(n.registerAction(a,sd.move,function(n){n.offsetX,n.offsetY;var i=n.dataIndex,o=n.axisDataIndex;n.axisData,n.pos;if(t.get("enable")){var a=e.getComponentByIndex("series",t.get("$seriesIndex")).getRealData(i);if(a){var u=a[1],h=t.get("valueIndex");Xo(s,function(n){var i=fT(n,u,h);if(n.scale){var a=n.scale(i);r.movePointer(t,n,e,{offsetY:a,axisDataIndex:o,axisData:u})}})}}else l()}),n.registerAction(a,sd.out,function(){l()})):Xo(s,function(i){n.registerAction(i,id.move,function(o){var a=o.e,s=(a=void 0===a?{}:a).offsetX,u=a.offsetY,h=o.index,c=o.dataIndex,f=o.axisData,d=o.pos;t.get("enable")?(n.dispatchAction(t,sd.before,{offsetX:s,offsetY:u,axisDataIndex:h,axisData:f,pos:d,dataIndex:c}),r.movePointer(t,i,e,{offsetX:s,offsetY:u,axisDataIndex:h,axisData:f,pos:d}),n.dispatchAction(t,sd.move,{offsetX:s,offsetY:u,axisDataIndex:h,axisData:f,pos:d,dataIndex:c})):l()}),n.registerAction(i,id.out,function(e){n.dispatchAction(t,sd.after,e),l(),n.dispatchAction(t,sd.out)})})},e.prototype.movePointer=function(t,e,n,r){var i=this,o=r.offsetX,a=r.offsetY,s=r.axisDataIndex,u=r.axisData,h=r.pos,c=e.getGridModels(),f=e.get("position"),d="bottom"===f||"top"===f,p=t.get("line"),g=t.get("shadow"),v=t.get("label"),y=t.get("seriesLabel"),m=y.formatter,x=t.seriesIndex,_=t.get("z"),w=t.get("zlevel"),b=[];y.show&&"x"===e.get("xOrY")&&(Xo(x,function(t){var e=n.getComponentByIndex("series",t);if(e&&!1!==e.get("selected")){var r=e.points;if(!r.length)return;var i=d?function(t,e){var n=void 0;for(n=0;n<t.length&&!(null!==t[n]&&e<t[n][0]);n++);return n}(r,o):hT(r,-a);if(r[--i]){var s=void 0;s=d?[o+y.gap,r[i][1]]:[r[i][0]+y.gap,a],b.push(n.getFormattedText({style:l({text:m(r[i][2][1])},y.style),position:s,key:t,zlevel:w,z:_,silent:!0}))}}}),this.setShapeGroup("seriesLabel",Ec,b).show()),"y"===e.get("xOrY")&&(u=fT(e,u,t.get("valueIndex"))),Xo(c,function(t,r){var c=t.position,y=c.top,m=c.bottom,x=c.left,b=c.right;if(p.show){var S={};S=void 0===h?d?{y1:y-p.topExtend,y2:m,x1:o,x2:o}:{x1:x,x2:b,y1:a,y2:a}:d?{y1:y-p.topExtend,y2:m,x1:h,x2:h}:{x1:x,x2:b,y1:h,y2:h},i.setShape("line_"+e.index+"_"+t.index,Vc,_f({shape:S,style:p.style,zlevel:w,z:_,silent:!0})).show()}if(g.show&&"band"===e.get("type")){var k={},M=e.scale.step(),A=e.scale.paddingInner()*M/2,I=e.scale.paddingOuter()*M;d?(k={x:h-M/2,y:y,width:M,height:m-y},0===s?A>I&&(k.x+=A-I,k.width-=A-I):s===e.getData().length-1&&A>I&&(k.width-=A-I)):(k={x:x,y:h-M/2,width:b-x,height:M},0===s?A>I&&(k.height-=A-I):s===e.getData().length-1&&A>I&&(k.y+=A-I,k.height-=A-I)),i.setShape("shadow_"+e.index+"_"+t.index,Hc,wf({shape:k,style:g.style,zlevel:w,z:_,silent:!0})).show()}if("all"===v.show||v.show&&0===r){var T=e.get("label"),C=v.inside,E="function"==typeof v.style?v.style(u):v.style,z=void 0===v.gap?T.padding:v.gap,L=v.formatter||e.get("label").formatter||function(t){return t&&t.toFixed?t.toFixed(2):t},O={},D=[];switch(f){case"bottom":D[1]=e.pos+(C?-z:z),O={textVerticalAlign:C?"bottom":"top",textAlign:"center"};break;case"top":D[1]=e.pos-(C?-z:z),O={textVerticalAlign:C?"top":"bottom",textAlign:"center"};break;case"right":D[0]=e.pos+(C?-z:z),O={textVerticalAlign:"middle",textAlign:C?"right":"left"};break;case"left":D[0]=e.pos-(C?-z:z),O={textVerticalAlign:"middle",textAlign:C?"left":"right"}}void 0===h&&(h=d?o:a),d?D[0]=h:D[1]=h;var P={};e.get("color")&&(P.textBackgroundColor=e.get("color"));var F=i.setShape("label_"+e.index+"_"+t.index,Ec,n.getFormattedText({style:l({text:L?L(u):u},O,T.style,E,P),position:D,rotation:(void 0===v.rotate?T.rotate:v.rotate)/180*Math.PI,zlevel:w,z:_,z2:99,silent:!0}));if(F.show(),void 0===v.inRange?T.inRange:v.inRange){var N=F.getBoundingRect();if(e.range){var R=e.range;if(d){var B=R[0]-N.x,W=R[1]+N.x;D[0]=Math.max(Math.min(W,h),B)}else{var j=R[1]-N.y,G=R[0]+N.y;D[1]=Math.max(Math.min(G,h),j)}F.attr("position",D)}}}})},e}(Id);function fT(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"ordinal"===t.getAxisType()?t.scale.domain()[e-t.startIndex]:ea(e)?e[n]:e}cT.type=lT,Tp(uT,cT);var dT="timeline",pT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=dT,c(r,n)}return u(e,t),e.prototype.update=function(){if(this.get("show")){var t=this._option,e=t.orient,n=t.left,r=t.top,i=t.length,o=t.inverse,a=this.global,s=this.getData(),l=a.getWidth(),u=a.getHeight(),h=this.scale||cI.point(),c=qf(i,"vertical"===e?u:l),f=qf(n,l),d=qf(r,u),p=void 0;s&&h.domain(s),p="vertical"===e?[d,d+c]:[f,f+c],o&&p.reverse(),h.range(p),this.left=f,this.top=d,this.length=c,this.scale=h}},e}(Od);pT.type=dT,pT.defaultOption={show:!0,currentIndex:0,autoPlay:!0,rewind:!1,loop:!0,playInterval:2e3,realtime:!0,inverse:!1,orient:"horizontal",left:"10%",top:"95%",length:"80%",interval:void 0,intervalLength:50,alwaysShowLast:!1,line:{show:!0,style:{}},label:{show:!0,position:void 0,formatter:void 0,padding:15,style:{normal:{},emphasis:{}}},symbol:{show:"all",type:"circle",size:12,style:{normal:{},emphasis:{}}},currentSymbol:{show:!0,type:"circle",size:15,style:{}},controlBtn:{show:!0,showPlayBtn:"end",showPrevBtn:"start",showNextBtn:"end",size:20,gap:12,playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",style:{normal:{},emphasis:{}}},zlevel:0,z:0};var gT=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return r.type=dT,r.dragging=!1,r.interval=setInterval(function(){if(n.get("autoPlay")&&!r.dragging){var t=n.get("currentIndex"),e=n.getData();if(!e)return;var i=e.length,o=n.get("loop");if(n.get("rewind")?t--:t++,t<0){if(!o)return;t+=i}else if(t>=i){if(!o)return;t=0}n.set("currentIndex",t)}},n.get("playInterval")),r}return u(e,t),e.prototype.render=function(t,e,n){var r=this;if(t.get("show")){var i=t.get("line"),o=t.get("label"),a=t.get("symbol"),s=t.get("currentSymbol"),u=t.get("controlBtn"),h=t.get("interval"),c=t.get("intervalLength"),f=t.get("alwaysShowLast"),d=t.get("currentIndex"),p=t.left,g=t.top,v=t.length,y=t.scale,m="vertical"===t.get("orient"),x=t.getData();if(i.show){var _={x1:p,y1:g};m?(_.x2=p,_.y2=g+v):(_.x2=p+v,_.y2=g),this.setShape("line",Vc,_f({shape:_,style:i.style,z2:69}),void 0,function(e){e.on("click",function(e){var n=vT(e.offsetX,e.offsetY,y,m,t.get("inverse"));n!==t.get("currentIndex")&&t.set("currentIndex",n)})})}if(x){var w=[],b=x.length;if(h)for(var S=0;S<b;S+=h)w.push([x[S],S]);else if(c)for(var k=Math.ceil(b/(v/c)),M=0;M<b;M+=k)w.push([x[M],M]);if(f){var A=x[b-1];A!==w[w.length-1][0]&&w.push([A,b-1])}if(o.show){var I=o.formatter,T=o.padding,C=[];Xo(w,function(t){var n=t[0],r=t[1];C.push(e.getFormattedText({style:l({text:I?I(n):n,textAlign:m?"left":"center",textVerticalAlign:m?"center":"top"},o.style.normal),position:m?[p+T,y(n)]:[y(n),g+T],index:r,z2:89}))}),this.setShapeGroup("labelGroup",Ec,C,void 0,function(n){n.on("click",function(e){var n=e.target;t.set("currentIndex",n.index)}),n.eachChild(function(t){Pf(t,e.getFormattedText(l({},o.style.emphasis)))})})}if(a.show){var E=[],z=a.type,L=Xf(a.size),O=L.width,D=L.height;Xo("all"===a.show?Ko(x,function(t,e){return[t,e]}):w,function(t){var e=t[0],n=t[1];E.push({shape:{symbolType:z,x:-O/2,y:-D/2,width:O,height:D},style:l({},a.style.normal),position:m?[p,y(e)]:[y(e),g],index:n,z2:79})}),this.setShapeGroup("symbolGroup",Vd,E,void 0,function(e){e.on("click",function(e){var n=e.target;t.set("currentIndex",n.index)}),e.eachChild(function(t){Pf(t,l({},a.style.emphasis))})})}if(s.show){var P=s.type,F=Xf(s.size),N=F.width,R=F.height,B=x[d];this.setShape("currentSymbol",Vd,{shape:{symbolType:P,x:-N/2,y:-R/2,width:N,height:R},style:s.style,position:m?[p,y(B)]:[y(B),g],index:d,z2:99},{animation:t.get("animation"),animateList:{position:[0,0]}},function(e){e.on("mousedown",function(){r.dragging=!0}),n.on("mousemove",function(n){var i=n.offsetX,o=n.offsetY;yT(t,e,i,o,y,m,r.dragging,t.get("realtime"))}),n.on("mouseup",function(n){var i=n.offsetX,o=n.offsetY;yT(t,e,i,o,y,m,r.dragging,!0),r.dragging=!1}),n.on("globalout",function(n){var i=n.event,o=i.offsetX,a=i.offsetY;yT(t,e,o,a,y,m,r.dragging,!0),r.dragging=!1})})}if(u.show){var W=u.showPlayBtn,j=u.showPrevBtn,G=u.showNextBtn,H=[],U=[];j&&("end"!==j?H.push("prev"):U.push("prev")),G&&("start"!==G?U.push("next"):H.push("next")),W&&("end"!==W?H.push("play"):U.push("play")),mT.call(this,"start",H,t,u),mT.call(this,"end",U,t,u)}}}},e.prototype.remove=function(){t.prototype.remove.call(this),clearInterval(this.interval)},e}(Id);function vT(t,e,n,r,i){var o=r?e:t,a=n.range()[0];return o=(r?e:t)-a,i&&(o=-o),Math.max(0,Math.min(Math.round(o/n.step()),n.domain().length-1))}function yT(t,e,n,r,i,o,a,s){if(a){var l=t.get("inverse"),u=o?r:n,h=i.range();l&&(h=[].concat(h).reverse()),u<h[0]&&(u=h[0]),u>h[1]&&(u=h[1]);var c=e.position;if(e.attr("position",o?[c[0],u]:[u,c[1]]),s){var f=vT(n,r,i,o,l);f!==t.get("currentIndex")&&t.set("currentIndex",f)}}}function mT(t,e,n,r){var i=this,o=r.gap,a=r.size,s=r.style,l=Xf(a),u=l.width,h=l.height,c=n.get("symbol"),f=n.get("autoPlay"),d=n.get("orient"),p=Xf(c.show?c.size:0),g=p.width,v=p.height,y=n.left,m=n.top,x=n.length;Xo(e,function(e,a){var l=void 0,c=void 0,p=0;l="play"===e?f?r.stopIcon:r.playIcon:r[e+"Icon"],"vertical"===d&&("prev"!==e&&"next"!==e||(p=-Math.PI/2)),c="start"===t?"horizontal"===d?[y-v/2-(a+1)*o-(a+.5)*u,m]:[y,m-g/2-(a+1)*o-(a+.5)*h]:"horizontal"===d?[y+x+v/2+(a+.5)*u+o*(a+1),m]:[y,m+x+g/2+(a+.5)*h+o*(a+1)],i.setShape(e,Vd,{shape:{symbolType:l,x:-u/2,y:-h/2,width:u,height:h},rotation:p,rectHover:!0,name:e,style:s.normal,position:c},void 0,function(t){Pf(t,s.emphasis),t.on("click",function(e){var i=e.target,o=n.get("currentIndex"),a=n.getData().length;switch(t.name){case"prev":--o<0&&(o=a-1),n.set("currentIndex",o);break;case"next":++o>=a&&(o=0),n.set("currentIndex",o);break;case"play":var s=n.get("autoPlay");s=!s,i.setShape("symbolType",s?r.stopIcon:r.playIcon),n.set("autoPlay",s)}})})})}gT.type=dT,Tp(pT,gT);var xT="markPoint",_T=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=xT,c(r,n)}return u(e,t),e}(Od);_T.type=xT,_T.defaultOption={$axisIndex:void 0,$seriesIndex:void 0,show:!0,onClick:void 0,enableSelect:!1,symbol:{type:"pin",size:[40,45],offset:[0,0],style:{normal:{},emphasis:{}}},label:{normal:{show:!1,style:{position:"top"}},emphasis:{show:!1,style:{}}},cursor:"pointer",zlevel:0,z:10};var wT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=xT,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){if(t.get("show")){var r=t.getData(),i=t.get("symbol"),o=t.get("label"),a=t.get("onClick"),s=t.get("animation"),l=t.get("enableSelect"),u=[],h={};Xo(r,function(n,r){var a=function(t,e,n){var r=e.get("$seriesIndex");!ea(r)&&(r=[r]);var i=r.map(function(t){return n.getComponentByIndex("series",t)}),o=i[0],a=(o||e).getAxisModel("x"),s=(o||e).getAxisModel("y");if(t.type){var l=void 0,u=void 0;return Xo(i,function(e){if(!1!==e.get("selected")){var n=e.getDataExtent(t.type,t.valueDim,t.valueIndex);if(n&&(!u||"min"===t.type&&n[1]<u[1]||"max"===t.type&&n[1]>u[1])){var r=n[0][0],i=n[0][1];if(bT(a,r)&&bT(s,i)){var o=ST(a,r),h=ST(s,i,t.valueIndex),c=a.scale(o),f=s.scale(h);"band"===a.get("type")&&("bar"===e.get("type")?c+=e.centerOffset:c+=a.scale.bandwidth()/2),l={position:[c,f],data:[o,h]},u=n}}}}),l}if(o&&!1===o.get("selected"))return;if(o&&!t.y&&!t.yValue&&!t.yIndex){var h=o.getRealData();t.xIndex?t.yValue=h[t.xIndex][1]:t.xValue&&-1!==a.getData().indexOf(t.xValue)&&(t.yValue=h[a.getData().indexOf(t.xValue)][1]),ea(t.yValue)&&(t.yValue=t.yValue[t.valueIndex])}var c=kT("x",t,e,o),f=kT("y",t,e,o);return!isNaN(c[0])&&!isNaN(f[0])&&{position:[c[0],f[0]],data:[c[1],f[1]]}}(n,t,e);if(a&&!h[a.data[0]]){h[a.data[0]]=!0;var s=Bo(Ro(n.symbol)||{},i),l=Bo(Ro(n.label)||{},o),c=Xf(s.size),f=c.width,d=c.height,p=s.offset,g=a.position,v=a.data,y=s.style.normal,m=s.style.emphasis;if(n.data=v,g){if(l.normal.show){var x=l.normal.formatter,_=l.normal.style.position;na(_)&&(l.normal.style.position=_(v,n,g)),y.text=x?x(n,g):v[1],y=Bo(y,e.getFormattedText(l.normal.style),!0)}if(l.normal.show||l.emphasis.show){var w=l.emphasis.formatter||l.normal.formatter,b=l.emphasis.style.position;na(b)&&(l.emphasis.style.position=b(v,n,g)),m.text=w?w(n,g):v[1],m=Bo(m,e.getFormattedText(l.emphasis.style),!0)}u.push({cursor:t.get("cursor"),shape:{symbolType:s.type,x:-f/2+p[0],y:-d/2+p[1],width:f,height:d,center:s.center,offsetPoint:s.offsetPoint},position:g,style:y,key:n.name||r,hoverStyle:m,value:v[1],data:n,index:r,rectHover:!0})}}}),this.setShapeGroup("markPoints",Vd,u,{animation:s,animateFrom:{shape:{x:0,y:0,width:0,height:0}},animateList:{position:[0,0]}},function(e){e.on("click",function(e){a&&a(e.target.data,e),n.dispatchAction(t,fd.pointClick,{data:e.target.data,e:e}),l&&(Xo(r,function(t){t.selected=!1}),e.target.data.selected=!0,t.dirty())}),e.on("mousemove",function(e){n.dispatchAction(t,fd.pointMousemove,{data:e.target.data,e:e})}),e.on("mouseout",function(e){n.dispatchAction(t,fd.pointMouseout,{data:e.target.data,e:e})}),e.on("mouseover",function(e){n.dispatchAction(t,fd.pointMouseover,{data:e.target.data,e:e})})},function(t){Pf(t,t.hoverStyle)}),this.getShape("markPoints").eachChild(function(t){t.data.selected&&(t.__isHover=!1,t.trigger("emphasis"))})}else this.removeShape("markPoints")},e}(Id);function bT(t,e){if("ordinal"===t.getAxisType())return e>=t.startIndex&&e<=t.endIndex;if(ea(e)){for(var n=0;n<e.length;n++)if(e[n]<t.domain[0]||e[n]>t.domain[1])return!1;return!0}return e>=t.domain[0]&&e<=t.domain[1]}function ST(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"ordinal"===t.getAxisType()?t.scale.domain()[e-t.startIndex]:ea(e)?e[n]:e}function kT(t,e,n,r){var i=e[t],o=e[t+"Value"],a=e[t+"Index"],s=void 0;if(void 0!==i)s=i,o=i;else if(void 0!==o){var l=(r||n).getAxisModel(t);if(!bT(l,"ordinal"===l.getAxisType()?l.domain.indexOf(o)+l.startIndex:o))return!1;"time"===l.get("type")&&(o=new Date(o)),l&&(s=l.scale(o)),"band"===l.get("type")&&(s+=l.scale.bandwidth()/2)}else if(void 0!==a){var u=(r||n).getAxisModel(t);if(!(a>=u.startIndex&&a<=u.endIndex))return!1;o=u.scale.domain()[a-u.startIndex],"time"===u.get("type")&&(o=new Date(o)),u&&(s=u.scale(o)),"band"===u.get("type")&&(s+=u.scale.bandwidth()/2)}return[s,o]}wT.type=xT,Tp(_T,wT);var MT="title",AT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=MT,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this._option,e=t.left,n=t.top,r=t.show,i=this.global,o=i.getWidth(),a=i.getHeight();this.show=r,r&&(this.left=qf(e,o),this.top=qf(n,a))},e}(Od);AT.type=MT,AT.emphasisList=["style"],AT.defaultOption={show:!0,text:void 0,left:"50%",top:"5%",link:"",target:"blank",style:{normal:{textAlign:"center",textVerticalAlign:"center",fill:"#333",fontStyle:"normal",fontWeight:"normal",fontFamily:"sans-serif",fontSize:18},emphasis:{}},zlevel:0,z:10};var IT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=MT,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.left,i=t.top;if(t.show){var o=t.getData(),a=t.get("text")||o&&o.text||o,s=t.get("link"),u=(t.get("target"),t.get("style")),h=t.get("rotation"),c=t.get("cursor");this.setShape("title",Ec,e.getFormattedText({position:[r,i],style:l({text:a},u.normal),rechHover:!0,rotation:h,cursor:c}),void 0,function(r){Pf(r,e.getFormattedText(Bo(u.emphasis,u.normal))),r.on("click",function(e){n.dispatchAction(t,rd.titleClick,{e:e}),s&&window.open(s,"_"+t.get("target"))})})}},e}(Id);IT.type=MT,Tp(AT,IT);var TT="markLine",CT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=TT,c(r,n)}return u(e,t),e}(Od);CT.type=TT,CT.emphasisList=["lineStyle"],CT.defaultOption={zlevel:0,z:10,show:!0,$axisIndex:void 0,$seriesIndex:void 0,lineStyle:{normal:{lineWidth:1},emphasis:{}},label:{normal:{show:!1,style:{position:"top"}},emphasis:{show:!1,style:{}}}};var ET=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=TT,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){if(t.get("show")){var r=t.getData(),i=t.get("lineStyle"),o=t.get("label").normal,a=t.get("animation"),s=[];Xo(r,function(n,r){var a=Bo((n.lineStyle||{}).normal||{},i.normal),u=Bo(n.label&&n.label.normal||{},o),h={};if(u.show){var c=u.formatter?u.formatter(n):n.value;h=e.getFormattedText(l({text:c},u.style))}if(n.points){var f=t.getAxisModel("x"),d=[];Xo(n.points,function(n){var r=OT(n,t,e)||{},i=r.position;r.data;i&&(["left","right"].indexOf(f.get("position"))>-1&&(i=[i[1],i[0]]),d.push(i))}),d.length>=2&&s.push(_f({shape:{x1:d[0][0],y1:d[0][1],x2:d[1][0],y2:d[1][1],percent:1},data:n,style:l({},a,h),key:r}))}else if(n.type){var p=e.getComponentByIndex("series",t.get("$seriesIndex"));if(p&&!1!==p.get("selected")){var g=(p||t).getAxisModel("x"),v=t.getAxisModel("y"),y=p.getDataExtent(n.type),m=void 0;m="average"===n.type?{x1:g.range[0],y1:v.scale(y),x2:g.range[1],y2:v.scale(y),percent:1}:{x1:g.range[0],y1:v.scale(y[0][1]),x2:g.range[1],y2:v.scale(y[0][1]),percent:1},s.push(_f({shape:m,data:n,style:l({},a,h),key:r}))}}}),this.setShapeGroup("markLines",Vc,s,{animation:a,animateFrom:{shape:{percent:.01}},animateList:{shape:{x1:0,y1:0,x2:0,y2:0}}},function(e){e.on("click",function(e){n.dispatchAction(t,dd.lineClick,{data:e.target.data,e:e})}),e.on("mouseover",function(e){n.dispatchAction(t,dd.lineMouseover,{data:e.target.data,e:e})}),e.on("mouseout",function(e){n.dispatchAction(t,dd.lineMouseout,{data:e.target.data,e:e})}),e.on("mousemove",function(e){n.dispatchAction(t,dd.lineMousemove,{data:e.target.data,e:e})})})}else this.removeShape("markLines")},e}(Id);function zT(t,e){return"ordinal"===t.getAxisType()?e>=t.startIndex&&e<=t.endIndex:e>=t.domain[0]&&e<=t.domain[1]}function LT(t,e){return"ordinal"===t.getAxisType()?t.scale.domain()[e-t.startIndex]:e}function OT(t,e,n){var r=e.get("$seriesIndex");!ea(r)&&(r=[r]);var i=r.map(function(t){return n.getComponentByIndex("series",t)}),o=i[0],a=(o||e).getAxisModel("x"),s=(o||e).getAxisModel("y");if(t.type){var l=void 0,u=void 0;return Xo(i,function(e){var n=e.getDataExtent(t.type,t.valueDim,t.valueIndex);if(n&&(!u||"min"===t.type&&n[1]<u[1]||"max"===t.type&&n[1]>u[1])){var r=n[0][0],i=n[0][1];if(zT(a,r)&&zT(s,i)){var o=LT(a,r),h=LT(s,i),c=a.scale(o),f=s.scale(h);"band"===a.get("type")&&("bar"===e.get("type")?c+=e.centerOffset:c+=a.scale.bandwidth()/2),l={position:[c,f],data:[o,h]},u=n}}}),l}if(o&&!t.y&&!t.yValue&&!t.yIndex){var h=o.getRealData();t.xIndex?t.yValue=h[t.xIndex][1]:t.xValue&&(t.yValue=h[a.getData().indexOf(t.xValue)][1])}var c=DT("x",t,e,o),f=DT("y",t,e,o);return isNaN(c[0])||isNaN(f[0])||(t.xFormatter&&"function"==typeof t.xFormatter&&(c[0]=t.xFormatter(c[0],a.scale.bandwidth())),t.yFormatter&&"function"==typeof t.yFormatter&&(f[0]=t.xFormatter(f[0]))),!isNaN(c[0])&&!isNaN(f[0])&&{position:[c[0],f[0]],data:[c[1],f[1]]}}function DT(t,e,n,r){var i=e[t],o=e[t+"Value"],a=e[t+"Index"],s=void 0;if(void 0!==i){var l=(r||n).getAxisModel(t);["left","top"].indexOf(i)>-1?i=l.range[0]:["right","bottom"].indexOf(i)>-1&&(i=l.range[1]),s=i,o=i}else if(void 0!==o){var u=(r||n).getAxisModel(t),h="ordinal"===u.getAxisType();if("markArea"!==n.type&&!zT(u,h?u.domain.indexOf(o)+u.startIndex:o))return!1;if("time"===u.get("type")&&(o=new Date(o)),u){var c=u.domain,f=c[0],d=c[c.length-1],p=o;o<f?p=f:o>d&&(p=d),s=u.scale(p)}"band"===u.get("type")&&(s+=u.scale.bandwidth()/2)}else if(void 0!==a){var g=(r||n).getAxisModel(t);if(a>=g.startIndex&&a<=g.endIndex)o=g.scale.domain()[a-g.startIndex],"time"===g.get("type")&&(o=new Date(o)),g&&(s=g.scale(o)),"band"===g.get("type")&&(s+=g.scale.bandwidth()/2);else{if("markArea"!==n.type)return!1;o=a<g.startIndex?g.scale.domain()[0]:g.scale.domain()[g.endIndex-g.startIndex],"time"===g.get("type")&&(o=new Date(o)),g&&(s=g.scale(o)),"band"===g.get("type")&&(s+=g.scale.bandwidth()/2)}}return[s,o]}ET.type=TT,Tp(CT,ET);var PT="zoomBrush",FT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=PT,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.global;this.left=qf(this.get("left"),t.getWidth()),this.top=qf(this.get("top"),t.getHeight())},e.prototype.toggleEnable=function(t){void 0===t?this.set({enable:!this.get("enable")}):this.set({enable:t})},e.prototype.pushHistory=function(t){if(t){var e=this.get("history");e.push(t),this.set("history",e)}},e.prototype.popHistory=function(){var t=this.globalModel,e=(this.global,this.get("history")),n=e.pop();n&&(Xo(n,function(e){t.getComponentByIndex("axis",e[0]).setZoom(e[1])}),this.set("history",e))},e}(Od);FT.type=PT,FT.emphasisList=["iconStyle"],FT.defaultOption={axisIndex:[0],enable:!1,show:!0,left:"90%",top:"5%",style:{fill:"rgba(0, 0, 0, 0.3)"},title:{zoom:"ÈçñÂìÑÁÖôÁºÇ‚ïÇÊñÅ",back:"ÈçñÂìÑÁÖôÁºÇ‚ïÇÊñÅÊù©Ê®∫Â∏´"},icon:{zoom:"path://M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"path://M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},iconStyle:{normal:{stroke:"#666",fill:void 0},emphasis:{stroke:"#6cc"}},history:[],zlevel:0,z:8};var NT=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=PT,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=this,i=[],o=[],a=void 0,s=void 0,l=void 0,u=void 0,h=void 0;n.on("mousedown",function(r){if(t.get("enable")&&!n.isEnableEdit&&!n.isEnableSketch){var c=r.offsetX,f=r.offsetY,d=t.get("axisIndex");if((a=e.getComponent("grid",function(t){return t.isPointInGrid(c,f)})[0])&&!u){a.index;h=new Date,i=[],o=[],u=!0,s=c,l=f,Xo(d,function(t){var n=e.getComponentByIndex("axis",t);n.get("$gridIndex");~["bottom","top"].indexOf(n.get("position"))?o.push(n):i.push(n)})}}}),n.on("mousemove",function(e){if(u){var n=e.offsetX,h=e.offsetY,c=t.get("style"),f=a.position,d=f.left,p=f.right,g=f.top,v=f.bottom,y=f.width,m=f.height,x=BT(n,d,p),_=BT(h,g,v),w=void 0;i.length&&o.length?w={x:s,y:l,width:x-s,height:_-l}:i.length?w={x:d,y:l,width:y,height:_-l}:o.length&&(w={x:s,y:g,width:x-s,height:m}),w&&r.setShape("brushRect",Hc,{shape:w,style:c,z:999})}}),n.on("mouseup",function(c){if(u){var f=c.offsetX,d=c.offsetY,p=[];new Date-h>200&&(s!=f||l!=d)&&(i.length&&(p=p.concat(RT("vertical",i,a,e,n,c,s,l))),o.length&&(p=p.concat(RT("horizontal",o,a,e,n,c,s,l))),p.length&&t.pushHistory(p)),r.removeShape("brushRect"),h=void 0,u=!1,i=[],o=[],a=void 0}})},e.prototype.render=function(t,e,n){if(t.get("show")){var r=t.left,i=t.top,o=t.get("icon"),a=t.get("iconStyle").normal,s=t.get("iconStyle").emphasis,l=t.get("enable"),u=t.get("history");this.setShape("zoom",Vd,{shape:{symbolType:o.zoom,x:0,y:0,width:20,height:20},position:[r,i],style:l?s:a,rectHover:!0},void 0,function(e){e.on("click",function(e){t.toggleEnable(),this.setStyle(t.get("enable")?s:a)})}),this.setShape("back",Vd,{shape:{symbolType:o.back,x:35,y:0,width:16,height:20},position:[r,i],style:u.length?s:a,rectHover:!0},void 0,function(e){e.on("click",function(e){t.popHistory()})})}},e}(Id);function RT(t,e,n,r,i,o,a,s){var l=n.position,u=l.left,h=l.bottom,c=l.width,f=l.height,d=o.offsetX,p=o.offsetY,g=[];return Xo(e,function(e){var n=r.getComponentByIndex("dataZoom",e.get("$dataZoomIndex"))||e,i=n.start,o=n.end,l=o-i,v=void 0,y=void 0;"vertical"===t?(v=i+(h-s)/f*l,y=i+(h-p)/f*l):(v=i+(a-u)/c*l,y=i+(d-u)/c*l);var m=function(t){return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}({start:v,end:y});e.setZoom(m),g.push([e.index,{start:i,end:o}])}),g}function BT(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}NT.type=PT,Tp(FT,NT);var WT="sketch",jT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=WT,c(r,n)}return u(e,t),e.prototype.update=function(){this.globalModel;var t=this.global,e=t.getWidth(),n=t.getHeight();t.isEnableSketch=!!this.get("paintTool"),this.left=qf(this.get("left"),e),this.top=qf(this.get("top"),n)},e.prototype.popShape=function(){this.globalModel,this.global;var t=this.get("shapeList");t.pop(),this.set("shapeList",t)},e.prototype.deleteShape=function(t){var e=this.get("shapeList"),n=Yf(e,function(e){return t.shapeIndex===e.shapeIndex});"number"==typeof n&&(e.splice(n,1),this.set("shapeList",e))},e}(Pd);jT.type=WT,jT.emphasisList=["style","iconStyle"],jT.defaultOption={show:!0,left:"10%",top:20,paintTool:!1,shapeList:[],currentEditIndex:void 0,inGrid:!1,inAxis:!0,disableWhenEnd:!1,confirmWhenDelete:void 0,style:{normal:{fill:"rgba(49, 207, 214, 0.1)",stroke:"rgb(49, 207, 214)",lineWidth:1},emphasis:{lineWidth:2}},icon:["line","verticalLine","horizontalLine","rect","verticalRect","horizontalRect","ellipse","arrowLine","back","delete"],iconType:{back:"path://M15.0707952,6.00027263 C20.0087669,6.03831644 24,10.053057 24,15 C24,19.9705627 19.9705627,24 15,24 C10.0294373,24 6,19.9705627 6,15 L8,15 C8,18.8659932 11.1340068,22 15,22 C18.8659932,22 22,18.8659932 22,15 C22,11.1340068 18.8659932,8 15,8 L14.5857864,8 L16.6568542,10.0710678 L15.2426407,11.4852814 L12.4142136,8.65685425 L11,7.24264069 L15.2426407,3 L16.6568542,4.41421356 L15.0707952,6.00027263 Z",delete:"path://M21,22 L21,24 L11,24 L9,24 L9,11 L11,11 L11,22 L19,22 L19,11 L21,11 L21,22 Z M17,8 L23,8 L23,10 L7,10 L7,8 L13,8 L13,6 L17,6 L17,8 Z M13,11 L14,11 L14,21 L13,21 L13,11 Z M16,11 L17,11 L17,21 L16,21 L16,11 Z",rect:"path://M22,8 L8,8 L8,22 L22,22 L22,8 Z M24,6 L24,24 L6,24 L6,6 L24,6 Z",verticalRect:"path://M6,15 L6,6 L24,6 L24,8 L8,8 L8,15 L6,15 Z M6,22 L22,22 L22,15 L24,15 L24,24 L6,24 L6,22 Z M22,10 L24,10 L24,13 L22,13 L22,10 Z M6,17 L8,17 L8,20 L6,20 L6,17 Z",horizontalRect:"path://M8,22 L15,22 L15,24 L6,24 L6,22 L6,6 L8,6 L8,22 Z M24,8 L24,24 L22,24 L22,8 L15,8 L15,6 L24,6 L24,8 Z M10,6 L13,6 L13,8 L10,8 L10,6 Z M17,22 L20,22 L20,24 L17,24 L17,22 Z",line:"path://M20.5563492,11 L11,20.5563492 L11,23 L7,23 L7,19 L9.72792206,19 L19,9.72792206 L19,7 L23,7 L23,11 L20.5563492,11 Z",verticalLine:"path://M14,5 L14,25 L16,25 L16,5 M5,5 M25,25 Z",horizontalLine:"path://M5,14 L25,14 L25,16 L5,16 M5,5 M25,25 Z",ellipse:"path://M15,23 C19.418278,23 23,19.418278 23,15 C23,10.581722 19.418278,7 15,7 C10.581722,7 7,10.581722 7,15 C7,19.418278 10.581722,23 15,23 Z M15,25 C9.4771525,25 5,20.5228475 5,15 C5,9.4771525 9.4771525,5 15,5 C20.5228475,5 25,9.4771525 25,15 C25,20.5228475 20.5228475,25 15,25 Z",arrowLine:"path://M19.7279221,9 L18,9 L18,7 L23,7 L23,9 L23,12 L21,12 L21,10.5563492 L9.41421356,22.1421356 L8,20.7279221 L19.7279221,9 Z"},iconStyle:{normal:{fill:"#d8d8d8"},emphasis:{fill:"#9b9b9b"}},zlevel:0,z:9};var GT=dc.extend({type:"ellipse",shape:{x:0,y:0,width:0,height:0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=i/2*.5522848,s=o/2*.5522848,l=n+i,u=r+o,h=n+i/2,c=r+o/2;t.moveTo(n,c),t.bezierCurveTo(n,c-s,h-a,r,h,r),t.bezierCurveTo(h+a,r,l,c-s,l,c),t.bezierCurveTo(l,c+s,h+a,u,h,u),t.bezierCurveTo(h-a,u,n,c+s,n,c)}}),HT=dc.extend({type:"arrowLine",shape:{x1:0,y1:0,x2:0,y2:0,arrowAngle:60,arrowSize:20},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.arrowAngle,s=e.arrowSize,l=Math.atan2(o-r,i-n),u=a/2/180*Math.PI;t.moveTo(n,r),t.lineTo(i,o),t.moveTo(i,o),t.lineTo(i-Math.cos(u-l)*s,o+Math.sin(u-l)*s),t.moveTo(i,o),t.lineTo(i-Math.cos(-l-u)*s,o+Math.sin(-l-u)*s)}});function UT(t,e,n){return Ko(t,function(t){return qT(t,e,n)})}function VT(t,e,n,r){return Ko(t,function(t){return function(t,e,n,r){return[$T(e,t,r),$T(n,t,r)]}(t,e,n,r)})}function qT(t,e,n){return[YT(e,t),YT(n,t)]}function YT(t,e){return"ordinal"===t.getAxisType()?t.getIndexByOffset(e[0],e[1])+t.startIndex:t.scale.invert(e[["bottom","top"].indexOf(t.get("position"))>-1?0:1])}function $T(t,e,n){var r=["bottom","top"].indexOf(t.get("position"))>-1;if("ordinal"===t.getAxisType()){var i=t.scale(t.scale.domain()[e[r?0:1]-t.startIndex]);return n&&"band"===t.get("type")&&(i+=t.scale.bandwidth()/2),i}return t.scale(e[r?0:1])}function XT(t,e,n){var r=t.scale,i=void 0,o=void 0,a=e[0][0],s=e[1][0];if("ordinal"===t.getAxisType()){var l=r.domain(),u=r.paddingInner?r.paddingInner()*r.step()/2:0;a=Math.max(a,t.startIndex)-t.startIndex,s=Math.min(s,t.endIndex)-t.startIndex,n?(i=r(l[a])+r.bandwidth()/2,o=r(l[s])+r.bandwidth()/2):s>=a?(i=r(l[a])-u,o=r(l[s])-u+("band"===t.get("type")?r.step():0)):(i=r(l[a])-u+("band"===t.get("type")?r.step():0),o=r(l[s])-u)}else i=r(a),o=r(s);return{left:i,right:o}}function KT(t,e,n){var r=t.scale,i=void 0,o=void 0,a=e[1][1],s=e[0][1];if("ordinal"===t.getAxisType()){var l=r.domain(),u=r.paddingInner?r.paddingInner()*r.step()/2:0;a=Math.max(a,t.startIndex)-t.startIndex,s=Math.min(s,t.endIndex)-t.startIndex,n?(i=r(l[a])+r.bandwidth()/2,o=r(l[s])+r.bandwidth()/2):s>=a?(o=r(l[s])-u,i=r(l[a])-u+("band"===t.get("type")?r.step():0)):(o=r(l[s])-u+("band"===t.get("type")?r.step():0),i=r(l[a])-u)}else i=r(a),o=r(s);return{top:o,bottom:i}}function ZT(t,e,n,r,i){var o=void 0,a=void 0,s=void 0,l=void 0;if(e){var u=XT(n,t,i),h=KT(r,t,i);o=u.left,s=h.top,a=u.right,l=h.bottom}else o=t[0][0],s=t[0][1],a=t[1][0],l=t[1][1];return{left:o,right:a,top:s,bottom:l}}function QT(t,e,n,r){var i=t.shape,o=t.style,a=ZT(i.points,i.axisIndex,n,r),s=a.left,l=a.right,u=a.top;return{attr:wf({shape:{x:s,y:u,width:l-s,height:a.bottom-u},style:o}),Shape:Hc}}function JT(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=r.range[0],l=r.range[1],u=XT(n,a),h=u.left;return{attr:wf({shape:{x:h,y:s,width:u.right-h,height:l-s},style:o}),Shape:Hc}}function tC(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=n.range[0],l=n.range[1],u=KT(r,a),h=u.top;return{attr:wf({shape:{x:s,y:h,width:l-s,height:u.bottom-h},style:o}),Shape:Hc}}function eC(t,e,n,r){var i=t.shape,o=t.style,a=ZT(i.points,i.axisIndex,n,r,!0),s=a.left,l=a.right;return{attr:_f({shape:{x1:s,y1:a.top,x2:l,y2:a.bottom},style:o}),Shape:Vc}}function nC(t,e){var n=t.scale;if("ordinal"===t.getAxisType()){var r=n.domain();n.paddingInner&&(n.paddingInner(),n.step());e=n(r[e=Math.max(e,t.startIndex)])+n.bandwidth()/2}else e=n(e);return e}function rC(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=r.range[0],l=r.range[1],u=nC(n,a[0][0]);return{attr:_f({shape:{x1:u,y1:s,x2:u,y2:l},style:o}),Shape:Vc}}function iC(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=n.range[0],l=n.range[1],u=nC(r,a[0][1]);return{attr:_f({shape:{x1:s,y1:u,x2:l,y2:u},style:o}),Shape:Vc}}function oC(t,e,n,r){var i=t.shape,o=t.style,a=ZT(i.points,i.axisIndex,n,r),s=a.left,l=a.right,u=a.top;return{attr:{shape:{x:s,y:u,width:l-s,height:a.bottom-u},style:o},Shape:GT}}QT.pointNum=2,JT.onlyInAxis=!0,JT.pointNum=2,tC.onlyInAxis=!0,tC.pointNum=2,eC.pointNum=2,rC.onlyInAxis=!0,rC.pointNum=1,iC.onlyInAxis=!0,iC.pointNum=1,oC.pointNum=2,oC.pointNum=2;var aC={rect:QT,verticalRect:JT,horizontalRect:tC,line:eC,verticalLine:rC,horizontalLine:iC,ellipse:oC,arrowLine:function(t,e,n,r){var i=t.shape,o=t.style,a=ZT(i.points,i.axisIndex,n,r,!0),s=a.left,l=a.right;return{attr:{shape:{x1:s,y1:a.top,x2:l,y2:a.bottom},style:o},Shape:HT}}},sC=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=WT,o.initEvent(n,r,i),o}return u(e,t),e.prototype.initEvent=function(t,e,n){var r=this,i=t.get("$axisIndex"),o=!1,a=!1,s=void 0,l=[],u=void 0,h=void 0,c=void 0;Xo(t.get("$axisIndex"),function(t){var n=e.getComponentByIndex("axis",t);["bottom","top"].indexOf(n.get("position"))>-1?h=n:c=n}),c&&(s=c.getGridModels()[0]),n.on("mousedown",function(e){var r=e.offsetX,i=e.offsetY,h=e.target,c=t.get("paintTool");!c||!aC[c]||o||n.isEnableEdit||h&&h.isSketchShape||(!t.get("inGrid")||s&&s.isPointInGrid(r,i))&&(!(a=t.get("inAxis")&&s&&s.isPointInGrid(r,i))&&aC[c].onlyInAxis||(l[0]=[r,i],u=new Date,o=!0))}),n.on("mousemove",function(e){var n=e.offsetX,s=e.offsetY;if(o){var u={style:t.get("style").normal,shapeType:t.get("paintTool")};switch(aC[u.shapeType].pointNum){case 1:l[0]=[n,s];break;case 2:default:l[1]=[n,s]}u.shape=a?{points:UT(l,h,c),axisIndex:i}:{points:l};var f=aC[u.shapeType](u,t,h,c),d=f.attr,p=f.Shape;d.z=t.get("z"),r.setShape("tempShape",p,d)}}),n.on("mouseup",function(e){e.offsetX,e.offsetY;if(o){if(new Date-u>200){var n={style:t.get("style").normal,z:t.get("z"),hoverStyle:t.get("style").emphasis};n.shape=a?{points:UT(l,h,c),axisIndex:i}:{points:l},n.shapeIndex=+new Date,n.shapeType=t.get("paintTool"),t.get("shapeList").push(n),t.set("shapeList",t.get("shapeList"))}r.removeShape("tempShape"),o=!1,l=[],t.get("disableWhenEnd")&&t.set("paintTool",!1)}}),n.on("click",function(e){var n=e.target;n&&n.isSketchShape||!t.get("paintTool")||"number"!=typeof t.get("currentEditIndex")||t.set("currentEditIndex",void 0)})},e.prototype.render=function(t,e,n){var r=this,i=t.get("shapeList"),o=t.get("paintTool"),a=t.get("icon"),s=t.get("iconType"),l=t.get("iconStyle").normal,u=t.get("iconStyle").emphasis,h=t.top,c=t.left,f=void 0,d=void 0;Xo(t.get("$axisIndex"),function(t){var n=e.getComponentByIndex("axis",t);["bottom","top"].indexOf(n.get("position"))>-1?f=n:d=n}),t.get("show")&&Xo(a,function(e,n){var i;i=o===e?u:l,r.setShape("icon_"+e,Vd,{shape:{symbolType:s[e],x:35*n,y:0,width:20,height:20},position:[c,h],style:i,rectHover:!0,iconName:e,z2:999},void 0,function(e){switch(Pf(e,u,{disableMouse:!0}),e.iconName){case"back":e.on("click",function(){t.popShape()}),e.on("mousedown",function(t){t.target.trigger("emphasis")}),e.on("mouseup",function(t){t.target.trigger("normal")});break;default:e.on("click",function(){t.get("paintTool")===this.iconName?t.set("paintTool",!1):t.set("paintTool",this.iconName)})}})}),this.eachShape(function(t,e){e.match("shapeList_")&&r.removeShape(e)}),Xo(i,function(e){var i=aC[e.shapeType](e,t,f,d),o=i.attr,a=i.Shape;o.shapeIndex=e.shapeIndex,o.isSketchShape=!0,r.setShape("shapeList_"+e.shapeIndex,a,o,void 0,function(r){Pf(r,e.hoverStyle),r.on("click",function(e){var i=e.target,o=t.get("paintTool");if(o)if("delete"===o){var a=t.get("confirmWhenDelete");a&&!a()||t.deleteShape(i)}else t.set("currentEditIndex",r.shapeIndex);n.dispatchAction(t,gd.itemClick,e)})})});var p=t.get("currentEditIndex"),g=void 0;if(o&&"number"==typeof p&&(g=Qo(i,function(t){return t.shapeIndex===p})),g){var v=[],y=g.shape.points;g.shape.axisIndex&&(y=VT(y,f,d,!0));for(var m=0;m<y.length;m++)v.push({shape:{type:"rect",x:y[m][0]-5,y:y[m][1]-5,width:10,height:10},style:{fill:"white",stroke:"rgb(49, 207, 214)"},z2:999,z:t.get("z"),pointIndex:m,isSketchShape:!0,rectHover:!0});this.setShapeGroup("editPoints",Vd,v,void 0,function(e){Uf(e,n,{onDragging:function(e){var n=e.target,r=e.offsetX,i=e.offsetY,o=t.get("shapeList"),a=t.get("currentEditIndex"),s=Qo(o,function(t){return t.shapeIndex===a});s&&(s.shape.points[n.pointIndex]=s.shape.axisIndex?qT([r,i],f,d):[r,i],t.dirty())}})})}else this.removeShape("editPoints")},e}(Ad);sC.type=WT,Tp(jT,sC);var lC="calendar",uC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=lC,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.get("range"),e=this.get("dayLabel"),n=this.get("orient"),r=e.firstDay%7,i=void 0,o=void 0,a=[],s={};if(ea(t)){var l=new Date(t[0]);i=new Date(l.getFullYear(),l.getMonth(),l.getDate()),o=new Date(t[1])}else{var u=t.toString().split("-");1===u.length?(i=new Date(t,0,1),o=new Date(+t+1,0,1)):(i=new Date(u[0],+u[1]-1,1),o=new Date(u[0],+u[1],1))}for(var h=Oy(i,o),c=void 0,f=0;f<h.length;f++){var d=h[f],p=d.getDay()-r,g=Py.count(h[0],d),v=d.getFullYear()+"-"+d.getMonth();if(!s[v]&&(s[v]=[]),p<0&&(p+=7),d.getDay()<r&&g--,"horizontal"!==n){var y=[p,g];g=y[0],p=y[1]}var m={d:d,yi:p,xi:g};0===f?(s[v][0]=m,c=v):v!==c&&(s[v][0]=m,s[c][1]=a[f-1],c=v),a.push(m)}s[c][1]=a[a.length-1],a[0].xi<0&&Xo(a,function(t){t.xi++}),this.days=a,this.months=s},e.prototype.calcPoint=function(t){var e=this.days,n=this.get("cellSize"),r=this.get("left"),i=this.get("top"),o=void 0;if(t=new Date(t),o=Qo(e,function(e){var n=e.d;return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()==t.getDate()}))return o.x=r+n*(o.xi+.5),o.y=i+n*(o.yi+.5),o},e}(Od);uC.type=lC,uC.defaultOption={show:!0,left:50,top:50,cellSize:20,orient:"horizontal",range:(new Date).getFullYear(),itemStyle:{stroke:"#ccc",fill:"#fff",lineWidth:1},splitLine:{show:!0,style:{stroke:"#000",lineWidth:1,fill:null}},dayLabel:{show:!0,firstDay:0,margin:10,position:"start",nameMap:"cn",style:{fill:"#000"}},monthLabel:{show:!0,margin:10,position:"start",nameMap:"cn",style:{fill:"#000"}},yearLabel:{show:!0,margin:40,style:{fill:"#ccc",fontSize:20}},zlevel:0,z:0};var hC={cn:["ÈèÉÔøΩ","Ê∂ì‚Ç¨","ÊµúÔøΩ","Ê∂ìÔøΩ","Èç•ÔøΩ","ÊµúÔøΩ","ÈçèÔøΩ"],en:["S","M","T","W","T","F","S"]},cC={cn:["Ê∂ì‚Ç¨ÈèàÔøΩ","ÊµúÂ±æÊπÄ","Ê∂ìÂ§ãÊπÄ","Èç•Ê∂ôÊπÄ","ÊµúÊóÄÊπÄ","ÈçèÓÖüÊπÄ","Ê∂ìÂÜ©ÊπÄ","ÈçèÓÇ£ÊπÄ","Ê∂îÊøáÊπÄ","Èçó‰ΩπÊπÄ","Èçó‰Ω∑Á´¥ÈèàÔøΩ","Èçó‰Ω∑Á∞©ÈèàÔøΩ"],en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},fC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=lC,c(r,n)}return u(e,t),e.prototype.render=function(t,e){this.renderDays.apply(this,arguments),this.renderSplitLine.apply(this,arguments),this.renderDayLabel.apply(this,arguments),this.renderMonthLabel.apply(this,arguments),this.renderYearLabel.apply(this,arguments)},e.prototype.renderDays=function(t,e){for(var n=t.get("cellSize"),r=t.get("left"),i=t.get("top"),o=t.get("itemStyle"),a=t.days,s=[],u=0;u<a.length;u++){var h=a[u],c={shape:{x:r,y:i,width:n,height:n},position:[h.xi*n,h.yi*n],style:l({text:h.d.getDate()},o),silent:!0};s.push(c)}this.setShapeGroup("days",Hc,s)},e.prototype.renderSplitLine=function(t,e){var n=t.get("splitLine");if(n.show){var r=t.months,i=t.get("left"),o=t.get("top"),a=t.get("cellSize"),s=t.get("orient"),l=[];for(var u in r){var h={shape:{points:dC(r[u],a,s)},position:[i,o],style:n.style,silent:!0};l.push(h)}this.setShapeGroup("months",Rc,l)}},e.prototype.renderDayLabel=function(t,e){var n=t.get("dayLabel");if(n.show){var r=n.nameMap,i=n.margin,o=n.position,a=n.style,s=n.firstDay,u=(t.days,t.get("left")),h=t.get("top"),c=t.get("cellSize"),f=t.get("orient"),d=[];"string"==typeof r&&(r=hC[r]),s&&(r=r.slice(s).concat(r.slice(0,s)));for(var p=0;p<7;p++){var g=void 0;"horizontal"===f?"start"===o&&(g={style:l({text:r[p],x:u-i,y:h+(p+.5)*c,textAlign:"right",textVerticalAlign:"middle"},a)}):"start"===o&&(g={style:l({text:r[p],x:u+(p+.5)*c,y:h-i,textAlign:"center",textVerticalAlign:"bottom"},a)}),g.silent=!0,d.push(e.getFormattedText(g))}this.setShapeGroup("dayLabels",Ec,d)}},e.prototype.renderMonthLabel=function(t,e){var n=t.get("monthLabel");if(n.show){var r=n.nameMap,i=n.margin,o=n.position,a=n.style,s=t.months,u=t.get("left"),h=t.get("top"),c=t.get("cellSize"),f=t.get("orient"),d=[];for(var p in"string"==typeof r&&(r=cC[r]),s){var g=s[p],v=void 0;p=parseInt(p.split("-")[1]),"horizontal"===f?"start"===o&&(v={style:l({text:r[p],x:(g[0].xi+g[1].xi+1)/2*c,y:-i,textAlign:"center",textVerticalAlign:"bottom"},a),position:[u,h]}):"start"===o&&(v={style:l({text:r[p],x:-i,y:(g[0].yi+g[1].yi+1)/2*c,textAlign:"right",textVerticalAlign:"middle"},a),position:[u,h]}),v.silent=!0,d.push(e.getFormattedText(v))}this.setShapeGroup("monthLabels",Ec,d)}},e.prototype.renderYearLabel=function(t,e){var n=t.get("yearLabel");if(n.show){var r=t.get("cellSize"),i=t.get("left"),o=t.get("top"),a=t.get("orient"),s=t.days,u=n.margin,h=n.style,c=s[0].d.getFullYear(),f=s[s.length-1].d.getFullYear(),d=void 0,p=void 0;d=c===f?c:c+"-"+f,(p="horizontal"===a?{style:l({text:d,textAlign:"center",textVerticalAlign:"middle"},h),position:[i-u,o+3.5*r],rotation:Math.PI/2}:{style:l({text:d,textAlign:"center",textVerticalAlign:"middle"},h),position:[i+3.5*r,o-u]}).silent=!0,this.setShape("yearLabel",Ec,e.getFormattedText(p))}},e}(Id);function dC(t,e,n){var r=t[0],i=t[1];return"horizontal"===n?[[r.xi*e,r.yi*e],[r.xi*e,7*e],[i.xi*e,7*e],[i.xi*e,(i.yi+1)*e],[(i.xi+1)*e,(i.yi+1)*e],[(i.xi+1)*e,0],[(r.xi+1)*e,0],[(r.xi+1)*e,r.yi*e]]:[[r.xi*e,r.yi*e],[7*e,r.yi*e],[7*e,i.yi*e],[(i.xi+1)*e,i.yi*e],[(i.xi+1)*e,(i.yi+1)*e],[0,(i.yi+1)*e],[0,(r.yi+1)*e],[r.xi*e,(r.yi+1)*e]]}fC.type=lC,Tp(uC,fC);var pC="markArea",gC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=pC,c(r,n)}return u(e,t),e}(Od);gC.type=pC,gC.emphasisList=["areaStyle"],gC.defaultOption={show:!0,$axisIndex:void 0,$seriesIndex:void 0,areaStyle:{normal:{fill:"rgba(128, 128, 128, 0.5)"},emphasis:{}},label:{normal:{show:!1,style:{position:"top"}},emphasis:{show:!1,style:{}}},cursor:"pointer",zlevel:0,z:10};var vC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=pC,c(r,n)}return u(e,t),e.prototype.render=function(t,e){if(t.get("show")){var n=t.getData(),r=t.get("areaStyle"),i=t.get("label").normal,o=t.get("animation"),a=[];Xo(n,function(n,o){var s=Bo((n.areaStyle||{}).normal||{},r.normal),u=Bo(n.label&&n.label.normal||{},i),h={};if(u.show){var c=u.formatter?u.formatter(n):n.value;h=e.getFormattedText(l({text:c},u.style))}if(n.points){var f=t.getAxisModel("x"),d=t.getAxisModel("y"),p=f.range,g=d.range,v=[],y=!1,m=n.points.every(function(t){return t.xValue>f.domain[f.domain.length-1]}),x=n.points.every(function(t){return t.xValue<f.domain[0]});if(m||x||Xo(n.points,function(n){var r=(OT(n,t,e)||{}).position;r&&v.push(r)}),v.length>=2){var _=0,w=1;if(["left","right"].indexOf(f.get("position"))>-1&&(_=1,w=0),(v[0][0]<=p[w]||v[1][0]<=p[w])&&(v[0][0]>=p[_]||v[1][0]>=p[_])&&(v[0][1]<=g[_]||v[1][1]<=g[_])&&(v[0][1]>=g[w]||v[1][1]>=g[w])&&(y=!0),!y)return;v[0][0]=Math.min(Math.max(p[_],v[0][0]),p[w]),v[0][1]=Math.min(Math.max(g[w],v[0][1]),g[_]),v[1][0]=Math.min(Math.max(p[_],v[1][0]),p[w]),v[1][1]=Math.min(Math.max(g[w],v[1][1]),g[_]),["left","right"].indexOf(f.get("position"))>-1&&(v[0]=[v[0][1],v[0][0]],v[1]=[v[1][1],v[1][0]]),a.push(wf({cursor:t.get("cursor"),shape:{x:v[0][0],y:v[0][1],width:v[1][0]-v[0][0],height:v[1][1]-v[0][1]},style:l({},s,h),key:o}))}}else if(n.type){var b=e.getComponentByIndex("series",t.get("$seriesIndex"));if(b&&!1!==b.get("selected")){var S=(b||t).getAxisModel("x"),k=t.getAxisModel("y"),M=b.getDataExtent(n.type),A=void 0;A="average"===n.type?{x:S.range[0],y:k.scale(M),width:S.range[1]-S.range[0],height:k.scale(M)-k.scale(M)}:{x1:S.range[0],y1:k.scale(M[0][1]),x2:S.range[1],y2:k.scale(M[0][1])},a.push(wf({cursor:t.get("cursor"),shape:A,style:l({},s,h),key:o}))}}}),this.setShapeGroup("markAreas",Hc,a,{animation:o,animateList:{shape:{x:0,y:0,width:0,height:0}}})}else this.removeShape("markAreas")},e}(Id);vC.type=pC,Tp(gC,vC);var yC="radarAxis",mC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yC,c(r,n)}return u(e,t),e.prototype.getAxisType=function(){return"polar"},e.prototype.isPointIn=function(t,e){var n=this.center;if(!n)return!1;var r=this.radius;if(0===r)return!1;var i=n[0]-t,o=n[1]-e;return i*i+o*o<=r*r},e.prototype.angleScaleInvert=function(t,e){var n=this.center,r=(this.radius,n[0]),i=n[1];return Math.atan2(t-r,e-i)+Math.PI/2},e.prototype.getDataByIndex=function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.globalModel,r=(this.index,n.getSeriesByAxis(0,e)),i=[],o=0;o<r.length;o++){var a=r[o],s=Ro(a.getData());i.push({originValue:s,name:a.get("name"),color:a.getSeriesColor(),seriesIndex:a.index,type:a.type})}return i},e.prototype.update=function(){var t=this._option,e=t.indicator,n=t.radius,r=t.center,i=(this.globalModel,this.global),o=cI.linear,a=e.length,s=o().domain([0,a]).range([-Math.PI/2,2*Math.PI-Math.PI/2]),l=i.getWidth(),u=i.getHeight();n=qf(n,Math.min(l,u));var h=[];e.map(function(t,e){var r=o().domain([t.min?t.min:0,t.max?t.max:100]).range([0,n]);h.push(r)});var c="string"==typeof r[0]?parseInt(parseFloat(r[0].split("%")[0])/100*l):parseInt(r[0]),f="string"==typeof r[1]?parseInt(parseFloat(r[1].split("%")[0])/100*u):parseInt(r[1]);this.angleScale=s,this.radiusScaleArr=h,this.radius=n,this.center=[c,f]},e}(Od);mC.type=yC,mC.defaultOption={startAngle:90,center:["50%","50%"],radius:170,splitNumber:5,name:{positionOffset:1.1,formatter:void 0,textStyle:{textBaseline:"middle",textFill:"#ccc"}},axisLine:{lineStyle:{color:"#ccc"}},splitLine:{lineStyle:{color:["#f5f5f5","#e5e5e5"],width:1}},splitArea:{areaStyle:{color:["#f5f5f5","#e5e5e5"]}},indicatorName:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[],shape:"polygon",zlevel:0,z:1};var xC=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=yC,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=t.getAxisType(),i=!0;function o(){i||("polar"===r&&n.dispatchAction(t,od.out,{}),i=!0)}n.on("mousemove",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){var a=e.offsetX,s=e.offsetY,l=!1;if(t.isPointIn(a,s)&&(l=!0),l){if("polar"===r){var u=t.angleScaleInvert(a,s),h=Math.round(t.angleScale.invert(u));(h=t.get("indicator").length-h)>=t.get("indicator").length&&(h=0),n.dispatchAction(t,od.move,{e:e,axisIndex:h,indicator:t.get("indicator")[h],axis:{data:t.get("indicator")[h].name,axisIndex:h},series:t.getDataByIndex(h),allSeries:t.getDataByIndex(h,!1)})}i=!1}else i||o()}}),n.on("globalout",o),n.on("mouseup",o)},e.prototype.render=function(t,e,n){this.remove();for(var r=t.get("shape"),i=t.radius,o=t.center[0],a=t.center[1],s=t.get("indicator"),u=t.get("splitNumber"),h=t.get("splitLine").lineStyle,c=t.get("splitArea").areaStyle,f=t.angleScale,d=t.get("axisLine").lineStyle,p=t.get("name").textStyle,g=t.get("name").formatter,v=t.get("name").positionOffset,y=Math.cos,m=Math.sin,x=s.length,_=i/u,w=u-1;w>=0;w--){for(var b=[],S=0;S<x;S++){var k=_*(w+1)*y(f(S)),M=_*(w+1)*m(f(S));if(b.push([k,M]),w==u-1){var A=0==k.toFixed(6)?"center":k.toFixed(6)<0?"right":"left",I="function"==typeof g?g(s[S],S):s[S].name,T=new Ec({z2:2,cursor:"default",style:l({text:I,x:k*v,y:M*v},p,{textAlign:A}),data:I,position:[o,a],axisIndex:S});T.on("click",function(e){n.dispatchAction(t,"LABEL_CLICK",{shape:e.target,data:e.target.data,axisIndex:this.axisIndex})}),this.group.add(T);var C=new Vc({z2:2,shape:{x1:0,y1:0,x2:k,y2:M},position:[o,a],style:{stroke:d.color,fill:null}});this.group.add(C)}}if("polygon"==r){var E=new Rc({z2:1,cursor:"default",shape:{points:b},position:[o,a],style:{stroke:h.color[w%2],fill:c.color[w%2],lineDash:w===u-1?[0,0]:h.lineDash}});this.group.add(E)}else if("circle"==r){var z=new zc({cursor:"default",z2:1,shape:{r:_*(w+1)},position:[o,a],style:{stroke:h.color[w%2],fill:c.color[w%2]}});this.group.add(z)}}},e}(Id);xC.type=yC,Tp(mC,xC);var _C="visualMap",wC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_C,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.get("max"),e=this.get("min"),n=this.get("range"),r=[];n?(r[0]=n[0]<e?e:n[0],r[1]=n[1]>t?t:n[1]):r=[e,t],this.range=r,this.colorStopArr=[];for(var i=this.get("inRange").color,o=0;o<i.length-1;o+=1)this.colorStopArr.push({down:i[o][0],up:i[o+1][0],downColor:i[o][1],upColor:i[o+1][1]})},e.prototype.getUpRectHeight=function(t,e,n,r){return(n-t)/(n-e)*r},e.prototype.getDownRectHeight=function(t,e,n,r){return Math.abs(t-e)/(n-e)*r},e.prototype.isInRange=function(t){var e=this.get("range");return!e||t>=e[0]&&t<=e[1]},e.prototype.getColor=function(t){var e=this.get("max"),n=this.get("min"),r=this.get("inRange").color;return Pv(r[0][1],r[1][1])((t-n)/(e-n))},e.prototype.getColorStop=function(t,e){if(t/=this.get("max")-this.get("min"),e&&!this.get("seriesColorReplace"))return e;for(var n=0;n<this.colorStopArr.length;n+=1){if(t>=this.colorStopArr[n].down&&t<this.colorStopArr[n].up)return Pv(this.colorStopArr[n].downColor,this.colorStopArr[n].upColor)((t-this.colorStopArr[n].down)/(this.colorStopArr[n].up-this.colorStopArr[n].down));if(t>=1&&1===this.colorStopArr[n].up)return this.colorStopArr[n].upColor}},e}(Pd);wC.type=_C,wC.defaultOption={zlevel:0,z:3,min:0,max:10,left:20,top:100,itemWidth:20,itemHeight:200,range:void 0,text:["max","min"],precision:0,seriesColorReplace:!0,textStyle:{fontSize:12,textFill:"#000"},arrowDown:{labelFormatter:void 0,style:{}},arrowUp:{labelFormatter:void 0,style:{}},textGap:10,arrowSize:15,backgroundColor:"grey",inRange:{color:[[0,"rgb(255, 204, 102)"],[1,"rgb(204, 51, 0)"]]},eventKey:"VISUALMAP"};var bC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_C,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r,i=t.get("arrowSize"),o=t.get("min"),a=t.get("max"),s=t.get("backgroundColor"),u=t.get("arrowUp"),h=t.get("arrowDown"),c=t.get("left"),f=t.get("top"),d=t.get("itemWidth"),p=t.get("itemHeight");t.get("throttleTime");this.setShape("VisualMapBar",Hc,{shape:{x:c,y:f,width:d,height:p},style:{fill:(r=t.get("inRange").color,{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:r.map(function(t){return{offset:t[0],color:t[1]}})})}},void 0,function(e){e.on("mousedown",function(e){var n=e.offsetY,r=a-o-(n-f)/p*(a-o);t.range[1]-r>=r-t.range[0]?t.range[0]=r:t.range[1]=r,t.set("range",t.range)})});var g=t.getUpRectHeight(t.range[1],o,a,p);this.setShape("upRect",Hc,{shape:{x:c,y:f,width:d,height:g},style:{fill:s},z:t.get("z"),z2:1e3},void 0,function(e){e.on("mousedown",function(e){var n=e.offsetY,r=a-o-(n-f)/p*(a-o);t.range[1]=r,t.set("range",t.range)})});var v=t.getDownRectHeight(t.range[0],o,a,p);this.setShape("downRect",Hc,{shape:{x:c,y:f+p-v,width:d,height:v},style:{fill:s},z:t.get("z"),z2:1e3},void 0,function(e){e.on("mousedown",function(e){var n=e.offsetY,r=a-o-(n-f)/p*(a-o);t.range[0]=r,t.set("range",t.range)})});for(var y=t.get("text"),m=t.get("textStyle"),x=t.get("textGap"),_=[[c+d/2,f],[c+d/2,f+p]],w=function(t){return t<1?[_[t][0],_[t][1]-x-m.fontSize]:[_[t][0],_[t][1]+x]},b=0;b<y.length;b+=1)this.setShape("VisualMapText"+b,Ec,{style:l({text:y[b],textFill:m.textFill,fontSize:m.fontSize,textAlign:"middle"},m),position:w(b),z:t.get("z"),z2:999});this.setShape("VisualMapArrowUp",Rc,{shape:{points:[[0,i],[i,0],[i,i]]},style:l({fill:t.getColorStop(t.range[1]),text:"function"==typeof u.labelFormatter?u.labelFormatter(t.range[1],t.get("precision")):t.range[1].toFixed(t.get("precision")),textPosition:"right"},u.style),position:[c+d,f+g-i],z:t.get("z"),z2:998},void 0,function(e){var r=!1;e.on("mousedown",function(){r=!0}),n.on("mousemove",function(e){var s=e.offsetY;r&&(t.range[1]=a-o-(s-f+i)/p*(a-o),t.range[1]>=a&&(t.range[1]=a),t.range[1]<=t.range[0]&&(t.range[1]=t.range[0]),t.set("range",t.range),n.dispatchAction(t,t.get("eventKey"),{up:t.range[1],down:t.range[0]}))}),n.on("mouseup",function(){r=!1})}),this.setShape("VisualMapArrowDown",Rc,{shape:{points:[[0,0],[i,0],[i,i]]},style:l({fill:t.getColorStop(t.range[0]),text:"function"==typeof h.labelFormatter?h.labelFormatter(t.range[0],t.get("precision")):t.range[0].toFixed(t.get("precision")),textPosition:"right"},h.style),position:[c+d,f+p-v],z:t.get("z"),z2:998},void 0,function(e){var r=!1;e.on("mousedown",function(){r=!0}),n.on("mousemove",function(e){var i=e.offsetY;r&&(t.range[0]=(p-(i-f))/p*(a-o),t.range[0]<=0?t.range[0]=o:t.range[0]>=t.range[1]&&(t.range[0]=t.range[1]),t.set("range",t.range),n.dispatchAction(t,t.get("eventKey"),{up:t.range[1],down:t.range[0]}))}),n.on("mouseup",function(){r=!1})})},e}(Ad);function SC(t,e,n,r){var i=void 0,o=t[e],a="function"==typeof n.bandwidth?n.bandwidth():0;switch(t[e+"Type"]){case"coordMiddle":i=Math.min(n.range()[0],n.range()[1])+Math.abs(n.range()[0]-n.range()[1])/2;break;case"coordStart":i=Math.min(n.range()[0],n.range()[1]);break;case"coordEnd":i=Math.max(n.range()[0],n.range()[1]);break;case"coord":i=o;break;case"value":i=n(o);break;case"bandValue":i=n(o)+a/2;break;case"number":i=n(n.domain()[o]);break;case"type":case"index":r&&(i=n(t["f"+e](r)))}return"function"==typeof t[e+"Formatter"]?t[e+"Formatter"](i,{bandwidth:a}):i}bC.type=_C,Tp(wC,bC);var kC="region",MC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=kC,c(r,n)}return u(e,t),e.prototype.checkRegionLimit=function(t,e){var n=this.get("region"),r=n.min,i=this.startIndex,o=this.endIndex,a=this.totalNumber-1;return"end"===t?e<=i+r?e-r>=0&&(n.start.x=e-r,n.start.xType="number",n.end.x=e,n.end.xType="number"):(n.start.x=i,n.start.xType="number",n.end.x=e,n.end.xType="number"):e>=o-r?e+r<=a&&(n.start.x=e,n.start.xType="number",n.end.x=e+r,n.end.xType="number"):(n.start.x=e,n.start.xType="number",n.end.x=o,n.end.xType="number"),n},e.prototype.update=function(){var t=this.globalModel,e=(this.global,this.get("$axisIndex")),n=this.get("region"),r=n.min,i=this.get("handlePoints"),o=n.hotspot.expand,a=void 0,s=void 0;i=ea(i)?i:[i,i],Xo(e,function(e){var n=t.getComponentByIndex("axis",e);["bottom","top"].indexOf(n.get("position"))>-1?a=n:s=n});var l=a.scale.domain(),u=void 0,h=void 0;"number"===n.start.xType&&"number"===n.end.xType?(u=n.start.x,h=n.end.x):Ko(l,function(t,e){t===n.start.x&&(u=e),t===n.end.x&&(h=e)});l.length;void 0===u&&n.start.x<l[0]&&(u=0,void 0===h?n.end.x<l[0]&&(h=u+r):h-u<r&&(h=u+r)),void 0!==h&&void 0!==l[h]||(n.end.x>l[l.length-1]||h>l.length-1)&&(h=l.length-1,void 0===u?n.start.x>l[l.length-1]&&(u=h-r):h-u<r&&(u=h-r));var c,f;c=l[u],f=l[h];for(var d=[SC({x:u,xType:"number",xFormatter:n.start.xFormatter},"x",a.scale),SC(n.start,"y",s.scale)],p=[SC({x:h,xType:"number",xFormatter:n.end.xFormatter},"x",a.scale),SC(n.end,"y",s.scale)],g=[{start:[d[0]-o,d[1]],end:[d[0]+o,p[1]]},{start:[p[0]-o,d[1]],end:[p[0]+o,p[1]]}],v=[d,p],y=[],m=0;m<v.length;m++)if("coordMiddle"===i[m].position){var x=SC({y:"coordMiddle",yType:"coordMiddle"},"y",s.scale);y.push([v[m][0],x])}this.points=v,this.startDate=c,this.endDate=f,this.startIndex=u,this.endIndex=h,this.handlePointsPos=y,this.totalNumber=l.length,this.handlePointsStyle=i,this.hotspotPoints=g},e}(Od);function AC(t,e){var n=t.shape,r=t.style,i=n.points;return{attr:wf({shape:{x:i[0][0],y:i[0][1],width:i[1][0]-i[0][0],height:i[1][1]-i[0][1]},style:r}),Shape:Hc}}MC.type=kC,MC.emphasisList=["style","iconStyle"],MC.defaultOption={show:!0,inGrid:!1,inAxis:!0,regionType:"verticalRect",alwaysShowHandlePoint:!0,style:{textFormatter:void 0,normal:{fill:"rgba(49, 207, 214, 0.1)",stroke:"rgba(49, 207, 214, 1)"},emphasis:void 0},handlePoints:{type:"circle",position:"coordMiddle",size:[20,20],offset:[0,0],style:{normal:{fill:"white",stroke:"rgb(49, 207, 214)",lineWidth:2},emphasis:{}}},region:{min:4,hotspot:{expand:10,style:{normal:{fill:"rgba(255, 255, 255, 0)"},emphasis:{fill:"rgba(230, 122, 122, 0.5)"}}},start:void 0,end:void 0},zlevel:0,z:9,cursor:"default"},AC.onlyInAxis=!0,AC.pointNum=2;var IC={verticalRect:AC},TC=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=kC,o.initEvent(n,r,i),o}return u(e,t),e.prototype.initEvent=function(t,e,n){var r=this,i=e.getComponentByIndex("dataZoom",0),o=[],a=[];this.isMousedown={0:!1,1:!1},n.registerAction(i,ld.wheel,function(e){e.e,e.scale,e.zoomX,e.zoomY;var n=t.startDate,r=t.endDate,i=(t.totalNumber,t.startIndex,t.endIndex,t.get("region"));i.start.x=n,i.start.xType="value",i.end.x=r,i.end.xType="value",t.set({region:i})}),n.registerAction(i,ld.start,function(){o=t.get("region"),a=[t.startIndex,t.endIndex],o.start.x=a[0],o.start.xType="number",o.end.x=a[1],o.end.xType="number",t.set({region:o})}),n.on("mouseup",function(e){e.offsetX,e.offsetY;(r.isMousedown[0]||r.isMousedown[1])&&(r.isMousedown={0:!1,1:!1},t.dirty())}),n.on("globalout",function(e){e.offsetX,e.offsetY;(r.isMousedown[0]||r.isMousedown[1])&&(r.isMousedown={0:!1,1:!1},t.dirty())})},e.prototype.render=function(t,e,n){t.get("enableRefresh");var r=t.get("regionType"),i=t.get("$axisIndex"),o=t.get("region").hotspot.style.normal,a=t.get("region").hotspot.style.emphasis,s=t.handlePointsStyle,u=t.points,h=t.handlePointsPos,c=t.hotspotPoints,f=t.get("cursor"),d=void 0;Xo(i,function(t){var n=e.getComponentByIndex("axis",t);["bottom","top"].indexOf(n.get("position"))>-1&&(d=n)});var p=t.get("style").emphasis,g="function"==typeof t.get("style").textFormatter?t.get("style").textFormatter({during:t.endIndex-t.startIndex,endIndex:t.endIndex,startIndex:t.startIndex}):t.endIndex-t.startIndex,v={shape:{points:u},style:l({text:g},t.get("style").normal)},y=IC[r](v,t),m=y.attr,x=y.Shape;m.z=t.get("z"),m.cursor=f,this.setShape("region",x,m,void 0,function(t){p&&Pf(t,p)});for(var _=[],w=0;w<c.length;w++){var b=c[w];_.push({z:t.get("z"),shape:{x:b.start[0],y:b.start[1],width:b.end[0]-b.start[0],height:b.end[1]-b.start[1]},style:this.isMousedown[w]?a:o,pointIndex:w})}var S=this;this.setShapeGroup("hotspot",Hc,_,void 0,function(e){e.on("mousedown",function(t){var e=t.target;t.offsetX,t.offsetY;S.isMousedown[e.pointIndex]=!0,e.setStyle("fill",a.fill)}),e.on("mouseup",function(t){var e=t.target;t.offsetX,t.offsetY;S.isMousedown[e.pointIndex]=!1,e.setStyle("fill",o.fill)}),Uf(e,n,{onDragStart:function(){n.isEnableSketch=!0},onDragging:function(e){var n=e.target,r=e.offsetX,i=e.offsetY,o=d.getIndexByOffset(r,i),a=t.checkRegionLimit(n.pointIndex?"end":"start",o);t.set({region:a})},onDragEnd:function(){n.isEnableSketch=!1}})});for(var k=[],M=0;M<u.length;M++){var A=s[M],I=Xf(A.size),T=I.width,C=I.height,E=A.offset,z=A.style.normal;k.push({position:h[M],shape:{symbolType:A.type,x:-T/2+E[0],y:-C/2+E[1],width:T,height:C},style:z,z2:999,z:t.get("z"),pointIndex:M,silent:!0})}this.setShapeGroup("handlePoints",Vd,k)},e}(Ad);function CC(){return new EC}function EC(){this.reset()}TC.type=kC,Tp(MC,TC),EC.prototype={constructor:EC,reset:function(){this.s=this.t=0},add:function(t){LC(zC,t,this.t),LC(this,zC.s,this.s),this.s?this.t+=zC.t:this.s=zC.t},valueOf:function(){return this.s}};var zC=new EC;function LC(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var OC=1e-6,DC=Math.PI,PC=DC/2,FC=DC/4,NC=2*DC,RC=180/DC,BC=DC/180,WC=Math.abs,jC=Math.atan,GC=Math.atan2,HC=Math.cos,UC=Math.exp,VC=Math.log,qC=Math.sin,YC=Math.sign||function(t){return t>0?1:t<0?-1:0},$C=Math.sqrt,XC=Math.tan;function KC(t){return t>1?PC:t<-1?-PC:Math.asin(t)}function ZC(){}function QC(t,e){t&&tE.hasOwnProperty(t.type)&&tE[t.type](t,e)}var JC={Feature:function(t,e){QC(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)QC(n[r].geometry,e)}},tE={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){eE(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)eE(n[r],e,0)},Polygon:function(t,e){nE(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)nE(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)QC(n[r],e)}};function eE(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function nE(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)eE(t[n],e,1);e.polygonEnd()}function rE(t,e){t&&JC.hasOwnProperty(t.type)?JC[t.type](t,e):QC(t,e)}CC(),CC();function iE(t){return[GC(t[1],t[0]),KC(t[2])]}function oE(t){var e=t[0],n=t[1],r=HC(n);return[r*HC(e),r*qC(e),qC(n)]}function aE(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function sE(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lE(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function uE(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function hE(t){var e=$C(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}CC();function cE(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function fE(t,e){return[WC(t)>DC?t+Math.round(-t/NC)*NC:t,e]}function dE(t,e,n){return(t%=NC)?e||n?cE(gE(t),vE(e,n)):gE(t):e||n?vE(e,n):fE}function pE(t){return function(e,n){return[(e+=t)>DC?e-NC:e<-DC?e+NC:e,n]}}function gE(t){var e=pE(t);return e.invert=pE(-t),e}function vE(t,e){var n=HC(t),r=qC(t),i=HC(e),o=qC(e);function a(t,e){var a=HC(e),s=HC(t)*a,l=qC(t)*a,u=qC(e),h=u*n+s*r;return[GC(l*i-h*o,s*n-u*r),KC(h*i+l*o)]}return a.invert=function(t,e){var a=HC(e),s=HC(t)*a,l=qC(t)*a,u=qC(e),h=u*i-l*o;return[GC(l*i+u*o,s*n+h*r),KC(h*n-s*r)]},a}function yE(t,e){(e=oE(e))[0]-=t,hE(e);var n,r=(n=-e[1])>1?0:n<-1?DC:Math.acos(n);return((-e[2]<0?-r:r)+NC-OC)%NC}function mE(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ZC,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function xE(t,e){return WC(t[0]-e[0])<OC&&WC(t[1]-e[1])<OC}function _E(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wE(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(xE(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new _E(r,t,null,!0)),l.push(n.o=new _E(r,null,n,!1)),s.push(n=new _E(a,t,null,!1)),l.push(n.o=new _E(a,null,n,!0))}}),s.length){for(l.sort(e),bE(s),bE(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,h,c=s[0];;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((h=u[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(u=f.p.z,o=u.length-1;o>=0;--o)i.point((h=u[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}}function bE(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}fE.invert=fE;var SE=CC();function kE(t){return WC(t[0])<=DC?t[0]:YC(t[0])*((WC(t[0])+DC)%NC-DC)}function ME(t,e,n,r){return function(i){var o,a,s,l=e(i),u=mE(),h=e(u),c=!1,f={point:d,lineStart:g,lineEnd:v,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=x,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=v,a=ag(a);var t=function(t,e){var n=kE(e),r=e[1],i=qC(r),o=[qC(n),-HC(n),0],a=0,s=0;SE.reset(),1===i?r=PC+OC:-1===i&&(r=-PC-OC);for(var l=0,u=t.length;l<u;++l)if(c=(h=t[l]).length)for(var h,c,f=h[c-1],d=kE(f),p=f[1]/2+FC,g=qC(p),v=HC(p),y=0;y<c;++y,d=x,g=w,v=b,f=m){var m=h[y],x=kE(m),_=m[1]/2+FC,w=qC(_),b=HC(_),S=x-d,k=S>=0?1:-1,M=k*S,A=M>DC,I=g*w;if(SE.add(GC(I*k*qC(M),v*b+I*HC(M))),a+=A?S+k*NC:S,A^d>=n^x>=n){var T=sE(oE(f),oE(m));hE(T);var C=sE(o,T);hE(C);var E=(A^S>=0?-1:1)*KC(C[2]);(r>E||r===E&&(T[0]||T[1]))&&(s+=A^S>=0?1:-1)}}return(a<-OC||a<OC&&SE<-OC)^1&s}(o,r);a.length?(c||(i.polygonStart(),c=!0),wE(a,IE,t,n,i)):t&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function g(){f.point=p,l.lineStart()}function v(){f.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),h.point(t,e)}function m(){h.lineStart(),s=[]}function x(){y(s[0][0],s[0][1]),h.lineEnd();var t,e,n,r,l=h.clean(),f=u.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(n=f[0]).length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&f.push(f.pop().concat(f.shift())),a.push(f.filter(AE))}return f}}function AE(t){return t.length>1}function IE(t,e){return((t=t.x)[0]<0?t[1]-PC-OC:PC-t[1])-((e=e.x)[0]<0?e[1]-PC-OC:PC-e[1])}var TE=ME(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?DC:-DC,l=WC(o-n);WC(l-DC)<OC?(t.point(n,r=(r+a)/2>0?PC:-PC),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=DC&&(WC(n-i)<OC&&(n-=i*OC),WC(o-s)<OC&&(o-=s*OC),r=function(t,e,n,r){var i,o,a=qC(t-n);return WC(a)>OC?jC((qC(e)*(o=HC(r))*qC(n)-qC(r)*(i=HC(e))*qC(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*PC,r.point(-DC,i),r.point(0,i),r.point(DC,i),r.point(DC,0),r.point(DC,-i),r.point(0,-i),r.point(-DC,-i),r.point(-DC,0),r.point(-DC,i);else if(WC(t[0]-e[0])>OC){var o=t[0]<e[0]?DC:-DC;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-DC,-PC]);function CE(t){var e=HC(t),n=6*BC,r=e>0,i=WC(e)>OC;function o(t,n){return HC(t)*HC(n)>e}function a(t,n,r){var i=[1,0,0],o=sE(oE(t),oE(n)),a=aE(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var u=e*a/l,h=-e*s/l,c=sE(i,o),f=uE(i,u);lE(f,uE(o,h));var d=c,p=aE(f,d),g=aE(d,d),v=p*p-g*(aE(f,f)-1);if(!(v<0)){var y=$C(v),m=uE(d,(-p-y)/g);if(lE(m,f),m=iE(m),!r)return m;var x,_=t[0],w=n[0],b=t[1],S=n[1];w<_&&(x=_,_=w,w=x);var k=w-_,M=WC(k-DC)<OC;if(!M&&S<b&&(x=b,b=S,S=x),M||k<OC?M?b+S>0^m[1]<(WC(m[0]-_)<OC?b:S):b<=m[1]&&m[1]<=S:k>DC^(_<=m[0]&&m[0]<=w)){var A=uE(d,(-p+y)/g);return lE(A,f),[m,iE(A)]}}}function s(e,n){var i=r?t:DC-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return ME(o,function(t){var e,n,l,u,h;return{lineStart:function(){u=l=!1,h=1},point:function(c,f){var d,p=[c,f],g=o(c,f),v=r?g?0:s(c,f):g?s(c+(c<0?DC:-DC),f):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(d=a(e,p))||xE(e,d)||xE(p,d))&&(p[0]+=OC,p[1]+=OC,g=o(p[0],p[1])),g!==l)h=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(i&&e&&r^g){var y;v&n||!(y=a(p,e,!0))||(h=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&xE(e,p)||t.point(p[0],p[1]),e=p,l=g,n=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return h|(u&&l)<<1}}},function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=HC(e),s=qC(e),l=r*n;null==i?(i=e+r*NC,o=e-l/2):(i=yE(a,i),o=yE(a,o),(r>0?i<o:i>o)&&(i+=r*NC));for(var u,h=i;r>0?h>o:h<o;h-=l)u=iE([a,-s*HC(h),-s*qC(h)]),t.point(u[0],u[1])}}(o,t,n,i,e,r)},r?[0,-t]:[-DC,t-DC])}var EE=1e9,zE=-EE;function LE(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,u){var h=0,c=0;if(null==i||(h=a(i,s))!==(c=a(o,s))||l(i,o)<0^s>0)do{u.point(0===h||3===h?t:n,h>1?r:e)}while((h=(h+s+4)%4)!==c);else u.point(o[0],o[1])}function a(r,i){return WC(r[0]-t)<OC?i>0?0:3:WC(r[0]-n)<OC?i>0?2:1:WC(r[1]-e)<OC?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,h,c,f,d,p,g,v,y,m,x=a,_=mE(),w={point:b,lineStart:function(){w.point=S,u&&u.push(h=[]);y=!0,v=!1,p=g=NaN},lineEnd:function(){l&&(S(c,f),d&&v&&_.rejoin(),l.push(_.result()));w.point=b,v&&x.lineEnd()},polygonStart:function(){x=_,l=[],u=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,h=s.length,c=s[0],f=c[0],d=c[1];l<h;++l)o=f,a=d,c=s[l],f=c[0],d=c[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(f-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=m&&e,i=(l=ag(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&wE(l,s,e,o,a),a.polygonEnd());x=a,l=u=h=null}};function b(t,e){i(t,e)&&x.point(t,e)}function S(o,a){var s=i(o,a);if(u&&h.push([o,a]),y)c=o,f=a,d=s,y=!1,s&&(x.lineStart(),x.point(o,a));else if(s&&v)x.point(o,a);else{var l=[p=Math.max(zE,Math.min(EE,p)),g=Math.max(zE,Math.min(EE,g))],_=[o=Math.max(zE,Math.min(EE,o)),a=Math.max(zE,Math.min(EE,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],u=0,h=1,c=e[0]-s,f=e[1]-l;if(a=n-s,c||!(a>0)){if(a/=c,c<0){if(a<u)return;a<h&&(h=a)}else if(c>0){if(a>h)return;a>u&&(u=a)}if(a=i-s,c||!(a<0)){if(a/=c,c<0){if(a>h)return;a>u&&(u=a)}else if(c>0){if(a<u)return;a<h&&(h=a)}if(a=r-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>u&&(u=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<h&&(h=a)}return u>0&&(t[0]=s+u*c,t[1]=l+u*f),h<1&&(e[0]=s+h*c,e[1]=l+h*f),!0}}}}}(l,_,t,e,n,r)?s&&(x.lineStart(),x.point(o,a),m=!1):(v||(x.lineStart(),x.point(l[0],l[1])),x.point(_[0],_[1]),s||x.lineEnd(),m=!1)}p=o,g=a,v=s}return w}}CC();function OE(t){return t}var DE,PE,FE,NE,RE=CC(),BE=CC(),WE={point:ZC,lineStart:ZC,lineEnd:ZC,polygonStart:function(){WE.lineStart=jE,WE.lineEnd=UE},polygonEnd:function(){WE.lineStart=WE.lineEnd=WE.point=ZC,RE.add(WC(BE)),BE.reset()},result:function(){var t=RE/2;return RE.reset(),t}};function jE(){WE.point=GE}function GE(t,e){WE.point=HE,DE=FE=t,PE=NE=e}function HE(t,e){BE.add(NE*t-FE*e),FE=t,NE=e}function UE(){HE(DE,PE)}var VE=1/0,qE=VE,YE=-VE,$E=YE,XE={point:function(t,e){t<VE&&(VE=t);t>YE&&(YE=t);e<qE&&(qE=e);e>$E&&($E=e)},lineStart:ZC,lineEnd:ZC,polygonStart:ZC,polygonEnd:ZC,result:function(){var t=[[VE,qE],[YE,$E]];return YE=$E=-(qE=VE=1/0),t}};var KE,ZE,QE,JE,tz=0,ez=0,nz=0,rz=0,iz=0,oz=0,az=0,sz=0,lz=0,uz={point:hz,lineStart:cz,lineEnd:pz,polygonStart:function(){uz.lineStart=gz,uz.lineEnd=vz},polygonEnd:function(){uz.point=hz,uz.lineStart=cz,uz.lineEnd=pz},result:function(){var t=lz?[az/lz,sz/lz]:oz?[rz/oz,iz/oz]:nz?[tz/nz,ez/nz]:[NaN,NaN];return tz=ez=nz=rz=iz=oz=az=sz=lz=0,t}};function hz(t,e){tz+=t,ez+=e,++nz}function cz(){uz.point=fz}function fz(t,e){uz.point=dz,hz(QE=t,JE=e)}function dz(t,e){var n=t-QE,r=e-JE,i=$C(n*n+r*r);rz+=i*(QE+t)/2,iz+=i*(JE+e)/2,oz+=i,hz(QE=t,JE=e)}function pz(){uz.point=hz}function gz(){uz.point=yz}function vz(){mz(KE,ZE)}function yz(t,e){uz.point=mz,hz(KE=QE=t,ZE=JE=e)}function mz(t,e){var n=t-QE,r=e-JE,i=$C(n*n+r*r);rz+=i*(QE+t)/2,iz+=i*(JE+e)/2,oz+=i,az+=(i=JE*t-QE*e)*(QE+t),sz+=i*(JE+e),lz+=3*i,hz(QE=t,JE=e)}function xz(t){this._context=t}xz.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,NC)}},result:ZC};var _z,wz,bz,Sz,kz,Mz=CC(),Az={point:ZC,lineStart:function(){Az.point=Iz},lineEnd:function(){_z&&Tz(wz,bz),Az.point=ZC},polygonStart:function(){_z=!0},polygonEnd:function(){_z=null},result:function(){var t=+Mz;return Mz.reset(),t}};function Iz(t,e){Az.point=Tz,wz=Sz=t,bz=kz=e}function Tz(t,e){Sz-=t,kz-=e,Mz.add($C(Sz*Sz+kz*kz)),Sz=t,kz=e}function Cz(){this._string=[]}function Ez(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function zz(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),rE(t,n(r))),r.result()}return o.area=function(t){return rE(t,n(WE)),WE.result()},o.measure=function(t){return rE(t,n(Az)),Az.result()},o.bounds=function(t){return rE(t,n(XE)),XE.result()},o.centroid=function(t){return rE(t,n(uz)),uz.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,OE):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Cz):new xz(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Lz(t){return function(e){var n=new Oz;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Oz(){}function Dz(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),rE(n,t.stream(XE)),e(XE.result()),null!=r&&t.clipExtent(r),t}function Pz(t,e,n){return Dz(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}Cz.prototype={_radius:4.5,_circle:Ez(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ez(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Oz.prototype={constructor:Oz,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Fz=16,Nz=HC(30*BC);function Rz(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,u,h,c,f,d,p,g,v){var y=u-r,m=h-i,x=y*y+m*m;if(x>4*e&&g--){var _=a+f,w=s+d,b=l+p,S=$C(_*_+w*w+b*b),k=KC(b/=S),M=WC(WC(b)-1)<OC||WC(o-c)<OC?(o+c)/2:GC(w,_),A=t(M,k),I=A[0],T=A[1],C=I-r,E=T-i,z=m*C-y*E;(z*z/x>e||WC((y*C+m*E)/x-.5)>.3||a*f+s*d+l*p<Nz)&&(n(r,i,o,a,s,l,I,T,M,_/=S,w/=S,b,g,v),v.point(I,T),n(I,T,M,_,w,b,u,h,c,f,d,p,g,v))}}return function(e){var r,i,o,a,s,l,u,h,c,f,d,p,g={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){h=NaN,g.point=m,e.lineStart()}function m(r,i){var o=oE([r,i]),a=t(r,i);n(h,c,u,f,d,p,h=a[0],c=a[1],u=r,f=o[0],d=o[1],p=o[2],Fz,e),e.point(h,c)}function x(){g.point=v,e.lineEnd()}function _(){y(),g.point=w,g.lineEnd=b}function w(t,e){m(r=t,e),i=h,o=c,a=f,s=d,l=p,g.point=m}function b(){n(h,c,u,f,d,p,i,o,r,a,s,l,Fz,e),g.lineEnd=x,x()}return g}}(t,e):function(t){return Lz({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Bz=Lz({point:function(t,e){this.stream.point(t*BC,e*BC)}});function Wz(t,e,n,r){var i=HC(r),o=qC(r),a=i*t,s=o*t,l=i/t,u=o/t,h=(o*n-i*e)/t,c=(o*e+i*n)/t;function f(t,r){return[a*t-s*r+e,n-s*t-a*r]}return f.invert=function(t,e){return[l*t-u*e+h,c-u*t-l*e]},f}function jz(t){return function(t){var e,n,r,i,o,a,s,l,u,h,c=150,f=480,d=250,p=0,g=0,v=0,y=0,m=0,x=0,_=null,w=TE,b=null,S=OE,k=.5;function M(t){return l(t[0]*BC,t[1]*BC)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*RC,t[1]*RC]}function I(){var t=Wz(c,0,0,x).apply(null,e(p,g)),r=(x?Wz:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(c,f-t[0],d-t[1],x);return n=dE(v,y,m),s=cE(e,r),l=cE(n,s),a=Rz(s,k),T()}function T(){return u=h=null,M}return M.stream=function(t){return u&&h===t?u:u=Bz(function(t){return Lz({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(w(a(S(h=t)))))},M.preclip=function(t){return arguments.length?(w=t,_=void 0,T()):w},M.postclip=function(t){return arguments.length?(S=t,b=r=i=o=null,T()):S},M.clipAngle=function(t){return arguments.length?(w=+t?CE(_=t*BC):(_=null,TE),T()):_*RC},M.clipExtent=function(t){return arguments.length?(S=null==t?(b=r=i=o=null,OE):LE(b=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==b?null:[[b,r],[i,o]]},M.scale=function(t){return arguments.length?(c=+t,I()):c},M.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],I()):[f,d]},M.center=function(t){return arguments.length?(p=t[0]%360*BC,g=t[1]%360*BC,I()):[p*RC,g*RC]},M.rotate=function(t){return arguments.length?(v=t[0]%360*BC,y=t[1]%360*BC,m=t.length>2?t[2]%360*BC:0,I()):[v*RC,y*RC,m*RC]},M.angle=function(t){return arguments.length?(x=t%360*BC,I()):x*RC},M.precision=function(t){return arguments.length?(a=Rz(s,k=t*t),T()):$C(k)},M.fitExtent=function(t,e){return Pz(M,t,e)},M.fitSize=function(t,e){return function(t,e,n){return Pz(t,[[0,0],e],n)}(M,t,e)},M.fitWidth=function(t,e){return function(t,e,n){return Dz(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}(M,t,e)},M.fitHeight=function(t,e){return function(t,e,n){return Dz(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&A,I()}}(function(){return t})()}function Gz(t,e){return[t,VC(XC((PC+e)/2))]}function Hz(t){var e,n,r,i=jz(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,u=null;function h(){var o=DC*a(),s=i(function(t){function e(e){return(e=t(e[0]*BC,e[1]*BC))[0]*=RC,e[1]*=RC,e}return t=dE(t[0]*BC,t[1]*BC,t.length>2?t[2]*BC:0),e.invert=function(e){return(e=t.invert(e[0]*BC,e[1]*BC))[0]*=RC,e[1]*=RC,e},e}(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Gz?[[Math.max(s[0]-o,u),e],[Math.min(s[0]+o,n),r]]:[[u,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),h()):a()},i.translate=function(t){return arguments.length?(s(t),h()):s()},i.center=function(t){return arguments.length?(o(t),h()):o()},i.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),h()):null==u?null:[[u,e],[n,r]]},h()}function Uz(t,e){return[VC(XC((PC+e)/2)),-t]}function Vz(){var t=Hz(Uz),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}Gz.invert=function(t,e){return[t,2*jC(UC(e))-PC]},Uz.invert=function(t,e){return[-e,2*jC(UC(t))-PC]};var qz="d3-geo",Yz=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=qz,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel.getComponentByIndex("grid",0).position,e=t.left,n=t.right,r=t.top,i=t.bottom;this.projection=Vz().rotate([-110,0,0]).fitExtent([[e,r],[n,i]],window.chinaBorderData)},e}(Pd);Yz.type=qz,Yz.defaultOption={zlevel:0,z:1,$gridIndex:0,map:{outerPath:{show:!0,style:{stroke:"#00beff",lineWidth:10}},innerPath:{show:!0,style:{stroke:"#027da7",fill:"#04526d",randomFill:{randomFill:!1,colors:["rgb(17, 16, 50)","rgb(25, 24, 62)","rgb(15, 16, 55)","rgb(26, 25, 66)","rgb(15, 51, 51)","rgb(11, 10, 36)"]},lineWidth:2,hover:{hover:!0,hoverFill:"rgba(40,128,255, 1.0)"},lineDash:[0,0]},events:{registion:"REGISTER",dispatch:{mouseover:"MOUSEOVER",mouseout:"MOUSEOUT"}}}},paddingArea:{show:!1,padding:{left:50,right:50,top:50,bottom:50},style:{fill:"rgba(255, 0, 0, 0.2)",stroke:"rgba(255, 0, 0, 1)",lineWidth:1}},markers:{group:[],animation:{animation:!1,speed:1e3,animateSize:.5},overLabel:{show:!1,speed:1e3,style:{lineWidth:2,fill:"#00fffd"},focusStyle:{fill:"rgba(248, 195, 28, 1.6)",stroke:"rgba(248, 195, 28, 0.6)",lineWidth:10,shadowBlur:0,shadowColor:"rgba(255, 255, 255, 0)"},labelLine:{show:!1,position:{startX:20,startY:20,endX:150}},labelGroup:[]},clickLabel:{show:!1,color:"#57FFD9",top:5,style:{textFill:"#FF5654",fontSize:24,textAlign:"center"}},hover:{hover:!1,pannal:{show:!1,width:200,height:150,style:{fill:"rgb(3, 14, 27)",stroke:"rgb(6, 254, 220)",lineWidth:2}},labelGroup:[]}},flylines:{show:!1,colors:["rgba(135,231,60, 1)","rgba(40,128,255, 0.1)"],style:{lineWidth:2,opacity:1,shadowBlur:10,shadowColor:"black"},background:{show:!0,style:{stroke:"rgb(0, 255, 0)"}},animation:!0},routes:{show:!1,colors:["rgba(135,231,60, 1)","rgba(40,128,255, 0.1)"],threshold:{threshold:!0,value:5,colors:["rgba(255,0,0, 1)","rgba(255,0,0, 0.1)"]},animation:{animation:!0,style:{lineWidth:4,fill:"#fff",thresholdFill:["green","rgba(255,15,15, 0)"],lengthPercent:1,speed:3e3,delay:3e3}},style:{lineWidth:4,opacity:1,shadowBlur:10,shadowColor:"black",text:{formatter:function(t){return t.value+"%"}},fontSize:16,textFill:"#fff"}},polygons:{show:!1,style:{fill:"rgba(0, 255, 255, 0.5)",stroke:"rgba(0, 255, 255, 0)",lineWidth:1}},bars:{show:!1,colors:["rgb(255, 251, 242)","rgb(66, 77, 155)","rgb(0, 255, 255)"],size:2,style:{textFill:"white",textPosition:"bottom",fontSize:12}},southSea:{show:!0,offset:[0,0],scale:[.7,.7],lineWidth:2,style:{textFill:"white",textPosition:"bottom",fontSize:14,textOffset:[0,0]}}};var $z=dc.extend({type:"d3-geomap",shape:{path:""},style:{stroke:"red",fill:"#000",lineWidth:null},buildPath:function(t,e){this.proxyPath=Cc(e.path,{}),this.proxyPath.buildPath(t)}}),Xz=void 0,Kz=void 0,Zz=function(t,e,n){var r=t/n*e.style.lineWidth;return r<2?2:r},Qz=function(t,e){return t[0]<e[0]?1:0},Jz=function(t,e){return t[0]>e[0]?1:0},tL=function(t,e,n){return"Ê££Ê¨êËÖê"===e||"Êæ∂‚ïÇËß¶"===e?[t[0]+25,t[1]-10]:"È™ûÂûÆÁ™û"===e?[t[0]-20,t[1]-10]:[t[0]+n[0],t[1]+5+n[1]]},eL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=qz,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.newGroup=[];for(var r=t.getData().markerData||[],i=window.chinaData,o=0;o<r.length;o+=1)if(r[o].position)this.newGroup.push(r[o]);else for(var a=0;a<i.features.length;a+=1)if(i.features[a].properties.name===r[o].name){var s=r[o];s.position=i.features[a].properties.cp,this.newGroup.push(s)}Xz=og(r,function(t){return t.value}),Kz=sg(r,function(t){return t.value}),function(t,e){var n=this,r=t.get("map"),i=r.outerPath,o=r.innerPath,a=t.globalModel.getComponentByIndex("grid",0).position,s=(a.left,a.right,a.top,a.bottom,t.globalModel.getComponentByIndex("visualMap",0)),l=function(){var e=zz().projection(t.projection);return e};if(i.show){this.border=t.getData().borderData;var u=l();this.setShape("border",$z,{shape:{path:u(window.chinaBorderData)},style:{stroke:i.style.stroke,lineWidth:i.style.lineWidth,fill:null}})}if(o.show){var h=l(),c=cy().domain([Kz,Xz]).range([0,1]),f=function(r){var i=[];Xo(window.chinaData.features,function(t,e){var a=void 0,s=void 0;if(o.style.fill instanceof Array){for(var l=o.style.fill[0],u=o.style.fill[1],f=Pv(l,u),d=0;d<n.newGroup.length;d+=1)if(t.properties.name===n.newGroup[d].name)if((s=n.newGroup[d].value)>=r.down&&s<=r.up){var p=c(s);a=f(p)}else a="#fff"}else if(o.style.randomFill.randomFill){var g=o.style.randomFill.colors,v=parseInt(Math.random()*g.length);a=g[v]}else a=o.style.fill;i.push({shape:{path:h(t),currentValue:s,fillType:a},style:{stroke:o.style.stroke,fill:a,lineWidth:o.style.lineWidth,lineDash:o.style.lineDash},data:{name:t.properties.name,value:s,data:function(t){for(var e=0;e<n.newGroup.length;e+=1)if(t===n.newGroup[e].name)return n.newGroup[e]}(t.properties.name)},fill:a})}),n.setShapeGroup("geomap",$z,i,void 0,void 0,function(n){n.on("mouseover",function(r){if(o.style.hover.hover){var i=o.style.hover.hoverFill;"function"==typeof i?n.setStyle({fill:i(r.target.data.data)}):n.setStyle({fill:i})}o.events&&(e.dispatchAction(t,o.events.registion,n.data.data),e.dispatchAction(t,cd.mouseover,n.data.data))}),n.on("click",function(){e.dispatchAction(t,cd.itemClick,n.data.data)}),n.on("mouseout",function(){n.setStyle({fill:n.shape.fillType}),e.dispatchAction(t,cd.mouseout,n.data.data)}),o.events&&(e.registerAction(t,o.events.dispatch.mouseover,function(t){if(n.data.name===t.name){var e=t.fill?t.fill:"white";n.setStyle("fill",e)}}),e.registerAction(t,o.events.dispatch.mouseout,function(t){n.data.name===t.name&&n.setStyle("fill",n.fill)}))})},d=void 0;o.style.fill instanceof Array?(d={up:s.get("max"),down:s.get("min")},e.registerAction(s,s.get("eventKey"),function(t){f(t)})):d={},f(d)}}.call(this,t,n),function(t,e){for(var n=this,r=t.get("markers"),i=r.group,o=r.overLabel,a=r.clickLabel,s=function(s){var u=[],h=[];if(i[s].show){var c=void 0;i[s].animation&&(c=i[s].animation),Xo(n.newGroup,function(e,n){var r=t.projection(e.position),o=e.value/Xz,a=i[s].shape.size[1]*o,f=void 0,d=i[s].style.opacity;f=i[s].sameSize?i[s].shape.size[0]:a<i[s].shape.size[0]?i[s].shape.size[0]:a,c&&c.animation&&(f*=c.animateSize,d=0);var p=i[s].offSet?i[s].offSet:[0,0];u.push({shape:{symbolType:i[s].shape.symbolType,x:r[0]-f/2+p[0],y:r[1]-f/2+p[1],width:f,height:f,r:0},style:l({},i[s].style,{opacity:d}),z:t.get("z"),z2:998,province:e.name,rank:e.rank,key:e.name+s,data:e});var g=i[s].label;g.show&&h.push({style:{text:e.name,textFill:g.style.textFill,textAlign:"middle",fontSize:g.style.fontSize},position:tL(r,e.name,g.padding),z:t.get("z"),z2:998,silent:!0})}),n.setShapeGroup("geomarker"+s,Vd,u,void 0,function(r){var s=r.children();if(o.show){n.newGroup.sort(function(t,e){return t.rank-e.rank}),s.sort(function(t,e){return t.rank-e.rank});var l=0,h=u.length,c=function(t,e){return t.length>1?e<0?t[0]:t[1]:t},d=function(e,r,i,a){var s=e+i/2,l=r+i/2,u=o.labelLine.position,h=u.startX,f=u.startY,d=u.endX,p=s+h,g=l-f,v=s+d;o.labelLine.show&&n.setShape("overLine",$z,{shape:{path:"M"+s+" "+l+"L"+p+" "+g+"L"+v+" "+g},style:{stroke:o.style.fill,fill:"none",lineWidth:o.style.lineWidth},z:t.get("z"),z2:1e3});for(var y=o.labelGroup,m=0;m<y.length;m+=1){var x=y[m],_=x.textFill,w=x.x,b=x.y,S=x.fontSize,k=x.textAlign,M=x.fontFamily,A=void 0;if(y[m].formatter){var I=y[m].formatter;A=I(a)}else A=a;n.setShape("overLineText"+m,Ec,{style:{text:A,textFill:c(_,a.diff),fontSize:S,textAlign:k,fontFamily:M},z:t.get("z"),z2:1e3,position:[p+w,g+b]})}};d(s[0].shape.x,s[0].shape.y,s[0].shape.width,n.newGroup[0]),setInterval(function(){var t=(l+=1)%h;if(t<s.length){var e=s[t].shape,r=e.x,i=e.y,o=e.width;d(r,i,o,n.newGroup[t])}},o.speed)}!0===a.show&&e.registerAction(t,cd.showLabel,function(e){for(var n=0;n<s.length;n+=1)for(var r=0;r<i.length;r+=1)s[n].setColor(i[r].style.fill),s[n].province===e&&(t.isLight=s[n],f(s[n]))})},function(i){if(c&&c.animation){var o=i.shape.width/c.animateSize,a=i.shape.height/c.animateSize,s=i.shape.x-(o-i.shape.width)/2,u=i.shape.y-(a-i.shape.height)/2,h=c.speed;i.animateShape(!0).delay(c.delay+c.randomDelay*i.rank).when(h,{width:o,height:a,x:s,y:u}).start(),i.animateStyle(!0).when(c.randomDelay*i.rank,{opacity:1}).delay(c.delay+c.randomDelay*i.rank).when(h,{opacity:0}).start()}i.on("mousedown",function(){e.dispatchAction(t,cd.markerClick,i.province)}),r.hover.hover&&(i.on("mouseover",function(e){r.hover.pannal.show&&n.setShape("hoverLabel",Hc,{shape:{x:e.offsetX,y:e.offsetY-150,width:r.hover.pannal.width,height:r.hover.pannal.height},style:l({},r.hover.pannal.style),z:t.get("z"),z2:1040,silent:!0});var i=[],o=r.hover.labelGroup;Xo(o,function(n){var r=e.target.data,o=n.formatter(r);i.push({style:{text:o+n.unit,textFill:n.textFill,textAlign:n.textAlign,fontSize:n.fontSize},position:[e.offsetX+n.x,e.offsetY-150+n.y],z:t.get("z"),z2:1050,silent:!0})}),n.setShapeGroup("hoverLabelText",Ec,i)}),i.on("mouseout",function(){var t=n.getShape("hoverLabel");t&&(n.removeShape("hoverLabel"),n.removeShape("hoverLabelText"))}))})}n.setShapeGroup("markerLabel",Ec,h);var f=function(e){e.setColor("#57FFD9");var r=e.shape.x+e.shape.width/2,i=e.shape.y;n.setShape("clickLabel",Ec,{style:{text:e.province,textFill:a.style.textFill,fontSize:a.style.fontSize,textAlign:a.style.textAlign,fontFamily:a.style.fontFamily},z:t.get("z"),z2:1100,position:[r,i-a.top-1.1*a.style.fontSize]});var o=e.province.length*a.style.fontSize*.8,s=r-o,l=r+o,u=i-a.top-1.2*a.style.fontSize,h=i-a.top;n.setShape("clickPolygon",Rc,{shape:{points:[[s,u],[l,u],[l,h],[r+a.top,h],[r,h+a.top],[r-a.top,h],[s,h]]},style:{fill:"white",shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:10,shadowOffsetX:2,shadowOffsetY:2},z:t.get("z"),z2:1010})};t.isLight&&f(t.isLight)},u=0;u<i.length;u+=1)s(u)}.call(this,t,n),function(t){var e=this,n=[],r=t.get("flylines");if(r.show){var i=t.getData().trajectoryData,o=og(i,function(t){return t.value});t.projection(this.newGroup[0].position);i.map(function(t){for(var n=0;n<e.newGroup.length;n+=1)t.src===e.newGroup[n].name&&(t.srcPos=e.newGroup[n].position),t.target===e.newGroup[n].name&&(t.tarPos=e.newGroup[n].position)});for(var a=0;a<i.length;a+=1){var s=t.projection(i[a].srcPos),u=t.projection(i[a].tarPos),h={shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1],cpx1:(s[0]+u[0])/2-.2*(s[1]-u[1]),cpy1:(s[1]+u[1])/2-.2*(u[0]-s[0]),percent:1},style:l({},r.style,{stroke:{x1:0,x2:1,colorStops:[{offset:Qz(s,u),color:r.colors[0]},{offset:Jz(s,u),color:r.colors[1]}]},lineWidth:Zz(i[a].value,r,o)}),z:t.get("z"),z2:997};n.push(h),r.background.show&&this.setShape("flyBG"+a,$c,h,void 0,function(t){t.setStyle("stroke",r.background.style.stroke),t.setStyle("shadowColor","rgba(0, 0, 0, 0)"),t.setStyle("lineWidth",r.background.style.lineWidth)})}this.setShapeGroup("flylines",$c,n,void 0,void 0,function(t){var e=2*(t.shape.x1-t.shape.x2),n=2*(t.shape.y1-t.shape.y2),i=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));t.style.lineDash=[i,i];var o=i,a=o-2*i;t.style.lineDashOffset=o;var s=Math.random()+1;r.animation&&t.animate("style",!0).delay(3e3*Math.random()).when(3e3*s,{lineDashOffset:a}).start()})}}.call(this,t),function(t){var e=t.get("polygons");if(e.show){var n=[],r=t.getData().polygonData||{points:[]},i=r.points.map(function(e){return t.projection(e.position)});n.push({shape:{points:i},style:{fill:e.style.fill,stroke:e.style.stroke,lineWidth:e.style.lineWidth},data:r,z:t.get("z"),z2:996}),this.setShapeGroup("polygons",Rc,n)}}.call(this,t),function(t){var e=this,n=t.get("bars");if(n.show)for(var r=window.chinaData,i=function(i){e.removeShape("geobarTop"+i),e.removeShape("geobar"+i);var o=r.features[i].properties,a=t.projection(o.cp),s=20+40*Math.random(),l=[[a[0],a[1]],[a[0]-2*n.size,a[1]-.4*n.size],[a[0]+n.size,a[1]-n.size],[a[0]-.8*n.size,a[1]-1.4*n.size]],u=l.map(function(t){return[t[0],t[1]-s]});e.setShape("geobarTop"+i,Rc,{shape:{points:[u[0],u[1],u[3],u[2]]},style:{fill:n.colors[0]},z:t.get("z"),z2:998,position:[0,0]},{animation:!0,animateFrom:{position:[0,s]},easing:"cubicOut",duration:1e3});e.setShapeGroup("geobar"+i,Rc,[{shape:{points:[l[0],l[1],[l[1][0],l[1][1]-1],[l[0][0],l[0][1]-1]]},style:{fill:n.colors[1],text:o.name,textFill:n.style.textFill,textPosition:n.style.textPosition,textOffset:function(t){var e=[0,0];"È™ûÂ§∏Á¨¢"===t?e=[-20,-10]:"Â©¢ÊäΩÊ£¨"===t?e=[30,-15]:"Â®åÂÜ≤Â¥°"===t&&(e=[10,0]);return e}(o.name),fontSize:n.style.fontSize},z:t.get("z"),z2:999},{shape:{points:[l[0],l[2],[l[2][0],l[2][1]-1],[l[0][0],l[0][1]-1]]},style:{fill:n.colors[2]},z:t.get("z"),z2:999}],void 0,void 0,function(t){var e=t.shape.points;t.animateShape(!1).when(1e3,{points:[e[0],e[1],[e[2][0],e[2][1]-s],[e[3][0],e[3][1]-s]]}).start("cubicOut")})},o=0;o<r.features.length;o+=1)i(o)}.call(this,t),function(t){var e=[],n=[],r=t.get("southSea"),i=(t.get("markers"),t.globalModel.getComponentByIndex("grid",0).position),o=i.right,a=i.bottom,s=t.get("map").outerPath;function l(t){var e=t.replace("%","");return e/=100}r.show&&(Xo(nL,function(t){e.push({shape:{path:t},style:{stroke:s.style.stroke,fill:s.style.fill,lineWidth:1},scale:r.scale,position:[o*l(r.offset[0]),a*l(r.offset[1])]})}),Xo(rL,function(t){n.push({shape:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},style:{stroke:s.style.stroke,fill:s.style.fill,lineWidth:r.lineWidth},scale:r.scale,position:[o*l(r.offset[0]),a*l(r.offset[1])]})}),this.setShapeGroup("southSea",$z,e),this.setShapeGroup("southSeaLine",Vc,n),this.setShape("southSeaLabel",Ec,{style:{text:"Ê∂ìÓÖûÊµóÈçóÊ•ÅÊç£ÁíáÁ®øÁüù",textFill:r.style.textFill,textAlign:"middle",fontSize:r.style.fontSize},position:[o*l(r.offset[0])+(75+r.style.textOffset[0])*r.scale[0],a*l(r.offset[1])+(190-2*r.style.fontSize+r.style.textOffset[1])*r.scale[1]],z:t.get("z"),scale:r.scale,z2:999}))}.call(this,t),function(t){var e=this,n=t.get("routes"),r=[];if(n.show){var i=t.getData().trajectoryData,o=og(i,function(t){return t.value});t.projection(this.newGroup[0].position);i.map(function(t){for(var n=0;n<e.newGroup.length;n+=1)t.src===e.newGroup[n].name&&(t.srcPos=e.newGroup[n].position),t.target===e.newGroup[n].name&&(t.tarPos=e.newGroup[n].position)});var a=function(t,e){if(n.threshold.threshold){return t>n.threshold.value?n.threshold.colors[0]:e}return e};Xo(i,function(e){var i=t.projection(e.srcPos),s=t.projection(e.tarPos);r.push({shape:{x1:i[0],y1:i[1],x2:s[0],y2:s[1]},style:{stroke:{x1:0,x2:1,colorStops:[{offset:Qz(i,s),color:a(e.value,n.colors[0])},{offset:Jz(i,s),color:a(e.value,n.colors[1])}]},lineWidth:Zz(e.value,n,o),shadowBlur:n.style.shadowBlur,shadowColor:n.style.shadowColor,opacity:n.style.opacity,text:n.style.text.formatter(e),textFill:n.style.textFill,fontSize:n.style.fontSize},z:t.get("z"),z2:997,value:e.value,silent:!0})}),this.setShapeGroup("routes",Vc,r);if(n.animation.animation){var s=-1;this.setShapeGroup("routesAnimation",Vc,r,void 0,void 0,function(t){var e=2*(t.shape.x1-t.shape.x2),i=2*(t.shape.y1-t.shape.y2),o=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),a=n.animation.style.lengthPercent*o,l=n.animation.style.delay/n.animation.style.speed;t.setStyle("lineDash",[a,o*l-a]),t.setStyle("lineDashOffset",a),t.setStyle("stroke",function(t,e,r,i,o){if(t instanceof Array){var a=void 0;return a=n.threshold.threshold&&r>n.threshold.value?e:t,{x1:0,x2:1,colorStops:[{offset:Qz(i,o),color:a[0]},{offset:Jz(i,o),color:a[1]}]}}return t}(n.animation.style.fill,n.animation.style.thresholdFill,t.value,[t.shape.x1,t.shape.y1],[t.shape.x2,t.shape.y2])),t.setStyle("lineWidth",n.animation.style.lineWidth),t.attr("z2",998),s+=1,t.animate("style",!0).delay(n.animation.style.delay*s/r.length).when(n.animation.style.speed,{lineDashOffset:-o*l+a}).start()})}}}.call(this,t)},e}(Ad);eL.type=qz;var nL=["m6,31.5l9,7.5l15,9l15,4l18,0l17,-14l21,-31L20,7L6,24z","m113,7l10,25l11,-25z","m46.5,66.5l14.5,-6.5l-1,13l-7,7l-15,4l8.5,-17.5z"],rL=[{y2:7,x2:145,y1:7,x1:20},{y2:24,x2:6,y1:7,x1:20},{y2:195,x2:145,y1:7,x1:145},{y2:195,x2:6,y1:24,x1:6},{y2:195,x2:145,y1:195,x1:6},{y2:46.5,x2:132.5,y1:31.5,x1:141.5},{y2:76.5,x2:115.5,y1:61.5,x1:121.5},{y2:111.5,x2:110.5,y1:92.5,x1:110.5},{y2:147.5,x2:101.5,y1:127.5,x1:108.5},{y2:177.5,x2:78.5,y1:163.5,x1:91.5},{y2:188.5,x2:39.5,y1:184.5,x1:54.5},{y2:158.5,x2:11.5,y1:172.5,x1:17.5},{y2:132.5,x2:39.5,y1:142.5,x1:24.5},{y2:98.5,x2:37.5,y1:113.5,x1:40.5}];Tp(Yz,eL);var iL="geo",oL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=iL,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel.getComponentByIndex("grid",0),e=t.position,n=e.left,r=e.right,i=e.top,o=e.bottom;this.projection=Vz().rotate([-110,0,0]).fitExtent([[n,i],[r,o]],window.chinaBorderData),this.position=t.position},e}(Od);oL.type=iL,oL.defaultOption={$gridIndex:0,$visualMapIndex:void 0,mapName:"china",map:{outerPath:{show:!0,style:{stroke:"#00beff",lineWidth:10}},label:{show:!1},innerPath:{normal:{show:!0,style:{stroke:"rgba(83, 167, 227, 0.5)",fill:"rgba(255, 255, 255, 1)",lineWidth:1,lineDash:void 0}},emphasis:{show:!0,style:{fill:"rgba(40, 128, 255, 0.8)"}}}},southSea:{show:!0,offset:[0,0],scale:[.7,.7],lineWidth:2,style:{textFill:"white",textPosition:"bottom",fontSize:14,textOffset:[0,0]}},zlevel:0,z:0};var aL={"ÈçôÁâàÂíï":[121,24],"Â®åÂÜ≤ÂØ≥":[115.5,38.5],"ÁÅûËæ´„Çø":[112.3,37.5],"ÈçêÂë∞ÊåãÈçôÔøΩ":[110,41],"ÊùàËóâÁïû":[123.2,41.3],"ÈçöÂ§ãÁÅÑ":[126,43.7],"Ê¶õÊà¶Á∑≥ÂßπÔøΩ":[127.8,46.8],"ÂßπÁÜªÂ´É":[120,32.4],"Â®¥Ê¨êÁùô":[120,29.2],"ÁÄπÂ§äÁ™ò":[117.2,31.5],"ÁªÇÂøìÁºì":[118.2,26],"ÂßπÁÜª„Çø":[115.7,28],"ÁÅûÂèòÁ¨¢":[117.5,36.3],"Â®åÂÜ≤Â¥°":[113.6,34],"Â©ÄÊ†ßÂØ≥":[113,31],"Â©ÄÊ†ßÂ¥°":[112,28],"È™ûÂ§∏Á¨¢":[113.5,23],"È™ûËÉØ„Çø":[108.5,23.5],"Â®¥Â≥∞Â¥°":[110,19.5],"Èç•Ê∂òÁ™õ":[103.5,30.6],"ÁíêÈùõÁ™û":[106.7,26.6],"ÊµúÊàùÂ¥°":[102,24.7],"ÁëóËÉØÊ£å":[91,30.5],"ÈóÑÊõ°„Çø":[108.9,34.26],"Èê¢Ê®øÂÄë":[104,35.5],"ÈóàÊéìÊç£":[97,36],"ÁÄπ‰Ω∏Óò¥":[106.1,37.5],"ÈèÇÊâÆÊûÇ":[87,41],"ÈçñÊ§æÂê´":[116.4,40.24],"Êæ∂‚ïÇËß¶":[116.87,39.5],"Ê∂ìÂ©ÉÊç£":[121.4,31.1],"Èñ≤Â∂ÖÁ∞°":[107.5,29.7],"Ê££Ê¨êËÖê":[113.2,22.75],"Â©¢ÊäΩÊ£¨":[114.52,22.86]},sL=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=iL,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){},e.prototype.render=function(t,e,n){this.renderCanvas(t,e,n),function(t,e,n){var r=[],i=[],o=t.get("southSea"),a=(t.get("markers"),t.globalModel.getComponentByIndex("grid",0).position),s=a.right,l=a.bottom,u=t.get("map").outerPath;function h(t){var e=t.replace("%","");return e/=100}o.show&&(Xo(lL,function(t){r.push({shape:{path:t},style:{stroke:u.style.stroke,fill:u.style.fill,lineWidth:1},scale:o.scale,position:[s*h(o.offset[0]),l*h(o.offset[1])]})}),Xo(uL,function(t){i.push({shape:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},style:{stroke:u.style.stroke,fill:u.style.fill,lineWidth:o.lineWidth},scale:o.scale,position:[s*h(o.offset[0]),l*h(o.offset[1])]})}),this.setShapeGroup("southSea",$z,r),this.setShapeGroup("southSeaLine",Vc,i),this.setShape("southSeaLabel",Ec,{style:{text:"Ê∂ìÓÖûÊµóÈçóÊ•ÅÊç£ÁíáÁ®øÁüù",textFill:o.style.textFill,textAlign:"middle",fontSize:o.style.fontSize},position:[s*h(o.offset[0])+(75+o.style.textOffset[0])*o.scale[0],l*h(o.offset[1])+(190-2*o.style.fontSize+o.style.textOffset[1])*o.scale[1]],z:t.get("z"),scale:o.scale,z2:999}))}.call(this,t,e,n)},e.prototype.renderCanvas=function(t,e,n){var r=t.get("map"),i=r.outerPath,o=r.innerPath,a=t.get("mapName"),s=t.get("$visualMapIndex"),u=e.getComponentByIndex("visualMap",s),h=t.position,c=(h.left,h.right,h.top,h.bottom,t.getData()),f=void 0,d=void 0;"china"==a?(f=window.chinaData,d=window.chinaBorderData):"provinceCenter"==a&&(f=Ro(window.chinaData),window.chinaData.features.map(function(t){var e=t.properties.name;f.features.map(function(t){e===t.properties.name&&(t.properties.cp=aL[e])})}),d=window.chinaBorderData);var p=function(){return zz().projection(t.projection)};if(i.show){var g=p();this.setShape("border",$z,{shape:{path:g(d)},style:l({},i.style,{fill:null})})}if(o.normal.show){var v=p(),y=[];Xo(f.features,function(t,e){var n=void 0,r=void 0;if(c&&u)for(var i=0;i<c.length;i++)if(u.isInRange(c[i].value)&&c[i].name===t.properties.name){n=u.getColorStop(c[i].value);break}n||(n="function"==typeof o.normal.style?(r=o.normal.style({axisIndex:t.properties.name,geoPos:t.properties.cp})).fill||"#04526d":(r=o.normal.style).fill),y.push({shape:{path:v(t),fillType:n},style:l({},r,{fill:n}),data:{name:t.properties.name},fill:n})}),this.setShapeGroup("geomap",$z,y,void 0,void 0,function(e){e.on("mouseover",function(r){n.dispatchAction(t,ad.over,{data:e.data}),o.emphasis.show&&e.setStyle(o.emphasis.style)}),e.on("mouseout",function(r){n.dispatchAction(t,ad.out,{data:e.data}),o.normal.show&&e.setStyle(o.normal.style)}),e.on("click",function(r){n.dispatchAction(t,ad.itemClick,{data:e.data})})})}},e}(Ad);sL.type=iL;var lL=["m6,31.5l9,7.5l15,9l15,4l18,0l17,-14l21,-31L20,7L6,24z","m113,7l10,25l11,-25z","m46.5,66.5l14.5,-6.5l-1,13l-7,7l-15,4l8.5,-17.5z"],uL=[{y2:7,x2:145,y1:7,x1:20},{y2:24,x2:6,y1:7,x1:20},{y2:195,x2:145,y1:7,x1:145},{y2:195,x2:6,y1:24,x1:6},{y2:195,x2:145,y1:195,x1:6},{y2:46.5,x2:132.5,y1:31.5,x1:141.5},{y2:76.5,x2:115.5,y1:61.5,x1:121.5},{y2:111.5,x2:110.5,y1:92.5,x1:110.5},{y2:147.5,x2:101.5,y1:127.5,x1:108.5},{y2:177.5,x2:78.5,y1:163.5,x1:91.5},{y2:188.5,x2:39.5,y1:184.5,x1:54.5},{y2:158.5,x2:11.5,y1:172.5,x1:17.5},{y2:132.5,x2:39.5,y1:142.5,x1:24.5},{y2:98.5,x2:37.5,y1:113.5,x1:40.5}];function hL(t,e){return arguments.length<2&&(e=.5),(t>>0)+e}function cL(t,e,n,r){var i,o,a,s;Ko(t,e<=3?function(t,e){i=hL(t[1].lineX,n),a=hL(t[1].lineYTop,n),s=hL(t[1].lineYBottom,n),o=Math.abs(a-s)<2?2:0,r.moveTo(i,a-o),r.lineTo(i,s)}:function(t,o){i=hL(t[1].lineX,n),t[1].h<1?(r.moveTo(hL(t[0],n),hL(t[1].y,n)),r.lineTo(hL(t[0]+e,n),hL(t[1].y,n))):r.rect(hL(t[0],n),hL(t[1].y,n),e,t[1].h),r.moveTo(i,hL(t[1].lineYTop,n)),r.lineTo(i,hL(t[1].y,n)),r.moveTo(i,hL(t[1].y+t[1].h,n)),r.lineTo(i,hL(t[1].lineYBottom,n))})}Tp(oL,sL);var fL={vol:cL,kline:cL,bamboo:function(t,e,n,r){e&&Ko(t,function(t,i){var o=hL(t[1].lineX,n);r.moveTo(o,hL(t[1].lineYTop,n)),r.lineTo(o,hL(t[1].lineYBottom,n)),t[2].c>=t[2].o?(r.moveTo(o,hL(t[1].y,n)),r.lineTo(o+e/2,hL(t[1].y,n)),r.moveTo(o,hL(t[1].y+t[1].h,n)),r.lineTo(o-e/2,hL(t[1].y+t[1].h,n))):(r.moveTo(o,hL(t[1].y,n)),r.lineTo(o-e/2,hL(t[1].y,n)),r.moveTo(o,hL(t[1].y+t[1].h,n)),r.lineTo(o+e/2,hL(t[1].y+t[1].h,n)))})}};var dL=dc.extend({type:"candlesticks",shape:{data:[]},style:{lineWidth:1},updateKLine:function(){var t,e,n,r;!this.kline&&(this.kline=(t=1,e=cL,n=void 0,(r=function r(i){return i.length&&e(i,t,.5,n),r}).ctx=function(t){return n=t,r},r.bandWidth=function(e){return t=e,r},r.lineWidth=function(t){return r},r.drawTemplate=function(t){return e="function"==typeof t?t:fL[t],r},r));var i=this.kline,o=this.shape;for(var a in o)!~["data","percent","yStart"].indexOf(a)&&i[a]&&void 0!==o[a]&&i[a](o[a])},buildPath:function(t,e){this.updateKLine(),this.kline.ctx(t)(e.data)}}),pL="hqbar",gL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=pL,r.isScatter=!1,c(r,n)}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(Qf(e,"line.normal.style.stroke")||Zf(e,"line.normal.style.stroke",e.color),Qf(e,"symbol.normal.style.fill")||Qf(e,"symbol.normal.style.stroke")||(Zf(e,"symbol.normal.style.fill","white"),Zf(e,"symbol.normal.style.stroke",e.color)))},e.prototype.formatData=function(t){switch(this.get("hqbarType")){case"kline":case"bamboo":return Ko(t,function(t,e){return[e,[t.o,t.a,t.i,t.c],t]});case"vol":return Ko(t,function(t,e){return[e,[t.n],t]})}},e.prototype.getDrawData=function(t){var e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=r.bandwidth()/2,a=r(this.get("getXKey")(t)),s=this.get("hqbarType");if("kline"===s||"bamboo"===s)return{x:a,y:i(Math.max(t.o,t.c)),h:Math.abs(i(t.o)-i(t.c)),lineX:a+o,lineYTop:i(t.a),lineYBottom:i(t.i)};if("vol"===s){var l=i.range()[0]-Math.floor(i(t.n))-1,u=l<1?1:0;return{x:a,y:i(t.n)-u,h:l+u,lineX:a+o,lineYTop:i(t.n),lineYBottom:i.range()[0]}}},e.prototype.update=function(){var t=this,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=i.domain(),a=(r.domain(),r.bandwidth()),s=this.get("getColorKey"),l=this.get("getXKey"),u=a/2,h=[],c={up:[],eq:[],down:[]},f=e.startIndex,d=e.endIndex,p=i(o[1]<0?o[1]:o[0]>0?o[0]:0);Xo(this.getData().slice(f,d+1),function(e,n){e[0],e[1];var i=e[2],o=[r(l(i)),t.getDrawData(i),i,n+f,n];h.push(o),"be"===s(i)?c.down.push(o):"ab"===s(i)?c.up.push(o):c.eq.push(o)}),this.bandwidth=a,this.centerOffset=u,this.pointsByColor=c,this.points=h,this.y0=p,this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.yAxis=n},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("line").normal,n=this.get("symbol").normal;return e.show?e.style.stroke:n.style.fill||n.style.stroke},e}(Pd);gL.type=pL,gL.emphasisList=["symbol","link","label","line","area"],gL.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,hqbarType:"kline",getColorKey:function(t){return t.s},getXKey:function(t){return t.t},hq:{up:{stroke:"rgba(247,48,75,1)",fill:"rgba(247,48,75,1)"},down:{stroke:"rgba(48,172,99,1)",fill:"rgba(48,172,99,1)"},eq:{stroke:"rgba(68,68,68,1)",fill:"rgba(68,68,68,1)"}},line:{normal:{show:!0,style:{fill:void 0,stroke:"#058499",lineWidth:2}},emphasis:{}},symbol:{normal:{show:!1,type:"circle",offset:[0,0],size:8,style:{}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},cursor:"default",zlevel:0,z:3};var vL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=pL,c(r,n)}return u(e,t),e.prototype.render=function(e,n,r){var i;(i=t.prototype.render).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));this.group;var o=e.get("line").normal,a=(e.get("animation"),e.get("cursor")),s=e.get("hqbarType"),l=e.get("hq"),u=e.y0,h=(e.points,e.getData(),e.bandwidth),c=(e.centerOffset,e.pointsByColor),f=u;if(e.lastPoints&&(f=function(t,n){return e.lastPoints[n]?e.lastPoints[n][1]:t[1]}),o.show){var d=l.down.stroke===l.up.stroke,p=Ko(["down","up","eq"],function(t){var e=h<=3?{stroke:d?l[t].fill:l[t].stroke,fill:l[t].fill}:l[t];return{shape:{data:c[t],bandWidth:h,yStart:f,percent:1,drawTemplate:s},style:e,z2:1,cursor:a}});this.setShapeGroup("hqbarGroup",dL,p,void 0,function(t){})}},e}(Ad);vL.type=pL,Tp(gL,vL);var yL="hqIndicator",mL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yL,c(r,n)}return u(e,t),e.prototype.formatData=function(t){var e=this.get("indicatorType");return Ko(t,ep.getClass(e).formatData)},e.prototype.update=function(){var t=this,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.startIndex,i=e.endIndex,o=e.scale,a=n.scale,s=a.domain(),l=(o.domain(),o.bandwidth()),u=this.get("getXKey"),h=this.get("indicatorType"),c=l/2,f=void 0;if(ep.getClass(h)){var d=ep.getClass(h),p=new d;f=this.get("indicator")?Bo(this.get("indicator"),Ro(d.defaultOption)):Ro(d.defaultOption);var g=a(s[1]<0?s[1]:s[0]>0?s[0]:0),v=this.getData().slice(r,i+1),y=[];Xo(f,function(e,n){var i=void 0;if("line"!==e.type)i=p.getDrawData({name:n,xScale:o,yScale:a,data:v,item:e,model:t});else{for(var s=[],l=0;l<v.length;l++)s.push([o(u(v[l][2]))+c,a(v[l][2][n]),v[l],l+r,l]);i={shape:{x:function(t){return t[0]},y:function(t){return t[1]},data:s,yStart:g,percent:1,defined:function(t){return t}},style:e.normal.style}}if(ea(i))for(var h=0;h<i.length;h++)i[h].z2=t.get("z"),i[h].cursor=t.get("cursor");else i.z2=t.get("z"),i.cursor=t.get("cursor");y.push({name:n,shapeType:e.type,normal:e.normal,emphasis:e.emphasis,attr:i})}),this.bandwidth=l,this.centerOffset=c,this.indicatorOption=f,this.shapes=y,this.y0=g,this.startIndex=r,this.endIndex=i,this.indicator=p}},e.prototype.getSeriesColor=function(t){var e={};return Xo(this.indicatorOption,function(t,n){e[n]=t.normal.style.stroke}),e},e}(Pd);mL.type=yL,mL.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,indicatorType:"macd",getXKey:function(t){return t.xIndex},indicator:void 0,cursor:"default",zlevel:0,z:3};var xL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yL,c(r,n)}return u(e,t),e.prototype.render=function(e,n,r){var i,o=this;(i=t.prototype.render).call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),this.remove();e.get("cursor");var a=e.shapes,s=(e.y0,e.indicator);Ko(a,function(t){var e=void 0;switch(t.shapeType){case"line":e=df;break;default:e=s.getShape(t.shapeType)}ea(t.attr)?o.setShapeGroup(t.name,e,t.attr,void 0,function(t){}):o.setShape(t.name,e,_f(t.attr),void 0,function(t){})})},e}(Ad);function _L(t,e){if(t){if(n=t,"[object String]"===DL.call(n))t=parseFloat(t);else if(isNaN(parseFloat(t))){return(0).toFixed(e)}}else t=0;var n;return t.toFixed(e)}xL.type=yL;var wL=function(t){return t.a},bL=function(t){return t.i},SL=function(t){return t.c},kL=function(t){return t.o},ML=function(t){return t.n};var AL={maxMinDataInRound:function(t,e,n,r){for(var i={},o=0;o<e.length;o++){var a,s,l,u,h=e[o],c="maxR"+h,f="minR"+h,d=0,p=1e6;if(n+1<h)break;if(null!==r[c]&&r[c])if(a=wL(t[n]),s=bL(t[n]),l=wL(t[n-h]),u=bL(t[n-h]),l==r[c]||r[f]==u)for(var g=0;g<h;g++)a=wL(t[n-g]),s=bL(t[n-g]),d=a>d?a:d,p=s<p?s:p;else d=a>r[c]?a:r[c],p=s<r[f]?s:r[f];else for(g=0;g<h;g++)a=wL(t[n-g]),s=bL(t[n-g]),d=a>d?a:d,p=s<p?s:p;i[c]=d,i[f]=p}return i},averageDataInRound:function(t,e,n,r){for(var i,o,a,s,l={},u=0;u<e.length&&(o="ma"+(a=e[u]),i=0,!(n+1<a));u++){if(null!==r[o]&&r[o])i=r[o]*a-SL(t[n-a])+SL(t[n]);else for(s=0;s<a;s++)i+=SL(t[n-s]);l[o]=_L(i/a,4)}return l},volStatusInRound:function(t,e,n,r){for(var i,o,a,s,l,u,h,c,f,d,p,g,v={},y=0;y<e.length&&(l=e[y],a="upVol"+e[y],s="downVol"+e[y],i=0,o=0,!(n<l));y++){if(null!==r[a]&&r[a])c=SL(t[n])>SL(t[n-1])||!1,h=SL(t[n-l])>SL(t[n-l-1])||!1,p=r[a],g=r[s],f=ML(t[n]),d=ML(t[n-l]),h&&c?(i=f+p-d,o=g):!h&&c?(i=f+p,o=g-d):h&&!c?(i=p-d,o=f+g):h||c||(i=p,o=f+g-d);else for(u=0;u<l;u++)SL(t[n-u])>SL(t[n-u-1])?i+=ML(t[n-u]):o+=ML(t[n-u]);v[a]=i,v[s]=o}return v}},IL=function(t,e,n,r){for(var i=function(t,e){var n={},r=0,i=0;for(r=0;r<t.length;r++)for(i=0;i<e.length;i++)n[e[i]+t[r]]=NaN;return n}(e,r),o=[],a={},s=0;s<t.length;s++)a=AL[n](t,e,s,o[s-1]),o[s]=WL(a,i);return o},TL=function(t,e,n){return t?e:n},CL=function(t,e){return+t>+e?+t:+e},EL=function(t){return Math.abs(+t)},zL=function(t,e,n,r){return(n*t+(e-n)*r)/e},LL={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},OL={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},DL=Object.prototype.toString;function PL(t){return"object"===(void 0===t?"undefined":a(t))&&"number"==typeof t.nodeType&&"object"===a(t.ownerDocument)}function FL(t){return!!LL[DL.call(t)]}function NL(t){return"[object Array]"===DL.call(t)}function RL(t){var e=void 0===t?"undefined":a(t);return"function"===e||!!t&&"object"===e}function BL(t){if(null==t||"object"!==(void 0===t?"undefined":a(t)))return t;var e=t,n=DL.call(t);if("[object Array]"===n){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=BL(t[r])}else if(OL[n]){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(var s=0,l=t.length;s<l;s++)e[s]=BL(t[s])}}else if(!LL[n]&&!PL(t))for(var u in e={},t)t.hasOwnProperty(u)&&(e[u]=BL(t[u]));return e}function WL(t,e,n){if(!RL(e)||!RL(t))return n?BL(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],o=e[r];!RL(o)||!RL(i)||NL(o)||NL(i)||PL(o)||PL(i)||FL(o)||FL(i)?!n&&r in t||(t[r]=BL(e[r])):WL(i,o,n)}return t}var jL,GL,HL=function(){function t(e){s(this,t);var n=e?BL(e):{};this._option=WL(n,this.constructor.defaultOption,!1)}return t.prototype.get=function(t){return t?this._option[t]:this._option},t}();function UL(t){HL.registerClass(t,t.type)}HL.type="indicatorFormula",GL={},(jL=HL).registerClass=function(t,e){return GL[e]=t,t},jL.getClass=function(t){return GL[t]},jL.hasClass=function(t){return!!GL[t]},jL.getAllClass=function(){return GL};var VL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e,n,r,i,o,a,s,l,u,h,c,f,d,p,g,v,y,m=this.get("M1"),x=this.get("M2"),_=[],w=[],b=0,S=0,k=0,M=[],A=0,I=0;I<t.length;I++)if(r=t[I-1],a=t[I],b=0,S=0,A=0,r&&(i=SL(r),d=kL(r),f=bL(r),u=wL(a),h=bL(a),s=SL(a),l=kL(a),o=EL(u-i),c=EL(h-i),p=EL(u-f),g=EL(i-d),y=TL(c>p&&c>o,c+o/2+g/4,p+g/4),v=TL(o>c&&o>p,o+c/2+g/4,y),A=16*(s-i+(s-l)/2+i-d)/v*CL(o,c)),_.push(A),I<m)M.push({ASI:0,ASIT:0});else{for(e=0;e<m;e++)b+=_[I-e];if(w.push(b),I<m+x)M.push({ASI:b,ASIT:0});else{for(n=0;n<x;n++)S+=w[I-m-n];k=S/x,M.push({xIndex:t[I].t,ASI:+_L(b,2),ASIT:+_L(k,2)})}}return M},e}(HL);VL.type="asi",VL.defaultOption={M1:26,M2:10},UL(VL,VL.type);var qL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e=0,n=0,r=0,i={},o=[],a=[this.get("L1"),this.get("L4"),this.get("L5")],s="ma"+a[0],l="ma"+a[1],u="ma"+a[2],h=IL(t,a,"averageDataInRound",["ma"]),c=0;c<h.length;c++)(i=h[c])[s]&&(e=(SL(t[c])-i[s])/i[s]*100,i[l]&&(n=(SL(t[c])-i[l])/i[l]*100,i[u]&&(r=(SL(t[c])-i[u])/i[u]*100))),o.push({xIndex:t[c].t,BIAS:e,BIAS2:n,BIAS3:r});return o},e}(HL);qL.type="bias",qL.defaultOption={L1:6,L4:12,L5:24},UL(qL,qL.type);var YL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a,s,l=this.get("BOLL_N"),u=this.get("BOLL_P"),h=[],c=0;for(i=0;i<t.length;i++){if(c+=t[i].c,i>=l-1){for(e=c/l,s=0,o=i-(l-1);o<=i;o++)s+=(a=t[o].c-e)*a;n=e+u*(s=Math.sqrt(s/l)),r=e-u*s,c-=t[i-(l-1)].c}else e=n=r=0;h.push({xIndex:t[i].t,MID:e,UPPER:n,LOWER:r})}return h},e}(HL);YL.type="boll",YL.defaultOption={BOLL_N:20,BOLL_P:2},UL(YL,YL.type);var $L=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a=this.get("N"),s=this.get("M1"),l=this.get("M2"),u=1/0,h=-1/0,c=0,f=0,d=[];for(i=0;i<t.length;i++){for(e=t[i].c,u=1/0,h=-1/0,o=i<a?0:i-a+1;o<=i;o++)u>t[o].i&&(u=t[o].i),h<t[o].a&&(h=t[o].a);n=(e-u)/(h-u)*100,(isNaN(n)||n===-1/0||n===1/0)&&(n=0),f=i<a?((c=(n+c*i)/(i+1))+f*i)/(i+1):((c=(n+(s-1)*c)/s)+(l-1)*f)/l,r=3*c-2*f,d.push({xIndex:t[i].t,K:c,D:f,J:r})}return d},e}(HL);$L.type="kdj",$L.defaultOption={N:9,M1:3,M2:3},UL($L,$L.type);var XL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a,s=this.get("SHORT"),l=this.get("LONG"),u=this.get("M"),h=s-1,c=s+1,f=l-1,d=l+1,p=u-1,g=u+1,v=0,y=[];for(v=0;v<t.length;v++)e=t[v].c,0!=v&&e?i=2*((n=(o=(2*e+h*o)/c)-(a=(2*e+f*a)/d))-(r=(2*n+p*r)/g)):(r=n=(o=a=e||0)-a,i=0),y.push({xIndex:t[v].t,MACD:i,DIFF:n,DEA:r});return y},e}(HL);XL.type="macd",XL.defaultOption={SHORT:12,LONG:26,M:9},UL(XL,XL.type);var KL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a,s,l,u,h,c,f,d=this.get("N1"),p=this.get("N2"),g=this.get("N3"),v=[];for(f=0;f<t.length;f++){var y;e=t[f].c,0==f?(n=e,i=s=h=0,o=l=c=0):(n=t[f-1].c,i=zL(CL(e-n,0),d,1,i),o=zL(EL(e-n),d,1,o),s=zL(CL(e-n,0),p,1,s),l=zL(EL(e-n),p,1,l),h=zL(CL(e-n,0),g,1,h),c=zL(EL(e-n),g,1,c)),r=i/o*100||0,a=s/l*100||0,u=h/c*100||0,v.push(((y={xIndex:t[f].t})["RSI"+d]=r,y["RSI"+p]=a,y["RSI"+g]=u,y.A=20,y.D=80,y))}return v},e}(HL);KL.type="rsi",KL.defaultOption={N1:6,N2:12,N3:24},UL(KL,KL.type);var ZL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e=this.get("M1"),n=this.get("M2"),r=this.get("M3"),i=[e],o="upVol"+i[0],a="downVol"+i[0],s=[],l=NaN,u=IL(t,i,"volStatusInRound",["upVol","downVol"]),h=0;h<t.length;h++)u[h][o]&&(l=u[h][o]/u[h][a]*100),s.push({xIndex:t[h].t,VR:l||0,A:n,B:r});return s},e}(HL);ZL.type="vr",ZL.defaultOption={M1:26,M2:100,M3:200},UL(ZL,ZL.type);var QL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e=this.get("N"),n=this.get("N1"),r=this.get("N2"),i=this.get("N3"),o=[n,e],a="maxR"+o[0],s="minR"+o[0],l="maxR"+o[1],u="minR"+o[1],h=IL(t,o,"maxMinDataInRound",["maxR","minR"]),c=[],f={},d=0,p=0,g=0;g<h.length;g++)(f=h[g])[a]&&(d=100*(f[a]-SL(t[g]))/(f[a]-f[s])),f[l]&&(p=100*(f[l]-SL(t[g]))/(f[l]-f[u])),c.push({xIndex:t[g].t,WR1:p,WR2:d,A:r,D:i});return c},e}(HL);QL.type="wr",QL.defaultOption={N:10,N1:6,N2:20,N3:80},UL(QL,QL.type);var JL=new(HL.getClass("macd")),tO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return JL.calculate(t)},e.formatData=function(t,e){return[e,[t.MACD,t.DIFF,t.DEA],t]},e.prototype.getShape=function(t){return dL},e.prototype.getDrawData=function(t){t.name;for(var e=t.xScale,n=t.yScale,r=t.data,i=t.item,o=t.model,a=e.bandwidth()/2,s=o.get("getXKey"),l=[],u={up:[],down:[],eq:[]},h=0;h<r.length;h++){var c=r[h][2],f=e(s(c)),d=n(c.MACD)-n(0)>0?1:n(c.MACD)-n(0)<0?-1:0,p=[f,{lineX:f+a,lineYTop:n(d>0?c.MACD:0),lineYBottom:n(d>0?0:c.MACD)},c];d<0?u.up.push(p):d>0?u.down.push(p):u.eq.push(p)}for(var g in u)l.push({shape:{bandwidth:1,data:u[g]},style:{stroke:i.normal.hq[g],lineWidth:1}});return l},e}(ep);tO.type="macd",tO.defaultOption={MACD:{type:"hqbar",normal:{show:!0,hq:{up:"rgba(247,48,75,1)",down:"rgba(48,172,99,1)",eq:"rgba(68,68,68,1)"},style:{lineWidth:1,stroke:"#555"}},emphasis:void 0},DEA:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},DIFF:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0}};var eO=new(HL.getClass("kdj")),nO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return eO.calculate(t)},e.formatData=function(t,e){return[e,[t.K,t.D,t.J],t]},e}(ep);nO.type="kdj",nO.defaultOption={K:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},D:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},J:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0}};var rO=new(HL.getClass("wr")),iO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return rO.calculate(t)},e.formatData=function(t,e){return[e,[t.WR1,t.WR2,t.A,t.D],t]},e}(ep);iO.type="wr",iO.defaultOption={WR1:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},WR2:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},A:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0},D:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0}};var oO=new(HL.getClass("vr")),aO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return oO.calculate(t)},e.formatData=function(t,e){return[e,[t.VR,t.A,t.B],t]},e}(ep);aO.type="vr",aO.defaultOption={VR:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},A:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0},B:{type:"line",normal:{show:!0,style:{lineDash:[2,4],lineWidth:1,stroke:"rgba(204,204,204,0.8)"}},emphasis:void 0}};var sO=new(HL.getClass("rsi")),lO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return sO.calculate(t)},e.formatData=function(t,e){return[e,[t.RSI6,t.RSI12,t.RSI24,t.A,t.D],t]},e}(ep);lO.type="rsi",lO.defaultOption={RSI6:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},RSI12:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},RSI24:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0},A:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0},D:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0}};var uO=new(HL.getClass("boll")),hO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return uO.calculate(t)},e.formatData=function(t,e){return[e,[t.MID,t.UPPER,t.LOWER],t]},e}(ep);hO.type="boll",hO.defaultOption={MID:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},UPPER:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},LOWER:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0}};var cO=new(HL.getClass("bias")),fO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return cO.calculate(t)},e.formatData=function(t,e){return[e,[t.BIAS,t.BIAS2,t.BIAS3],t]},e}(ep);fO.type="bias",fO.defaultOption={BIAS:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},BIAS2:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},BIAS3:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0}};var dO=new(HL.getClass("asi")),pO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return dO.calculate(t)},e.formatData=function(t,e){return[e,[t.ASI,t.ASIT],t]},e}(ep);function gO(t){this.configs=Bo(t,this.constructor.defaultConfigs)}function vO(t){var e,n={};return t[276]>0||t[277]>0?(e="coolingPeriod",n=function(t){var e=t[276].substring(0,2)+":"+t[276].substring(2,4)+":"+t[276].substring(4,6),n=t[277].substring(0,2)+":"+t[277].substring(2,4)+":"+t[277].substring(4,6);return{considerPrice:t[51],priceCeil:t[69],priceFloor:t[70],starttime:t[276],starttimeStr:e,endtime:t[277],endtimeStr:n}}(t)):/^(4|5|105|106|107)$/.test(t.hkStatus)&&(e="bidPeriod",n=function(t){var e={bidPeriod:void 0,minPrice:void 0,maxPrice:void 0,considerPrice:void 0,direct:void 0,directNum:void 0};return e.bidPeriod={3:"ÂØÆ‚Ç¨Èê©ÔøΩ",4:"Ê∂îÊùøÂ¥†Èê©Ê©ÄÂé§ÁÄµÂΩíÊ®ÅÂ®àÔøΩ",5:"ÊùàÊí≥ÂèÜÊ∂îÊùøÂ¥†Èê©Ê©ÄÊ®ÅÂ®àÔøΩ",105:"ÈçôÂÇù‚Ç¨ÂÜ®ÁïæÊµ†ÁÉΩÊ®ÅÂ®àÔøΩ",106:"ÈçôÂÇù‚Ç¨ÂÜ®ÁïæÊµ†ÁÉΩÊ®ÅÂ®àÔøΩ",107:"ÈóÖÂøîÊ∫ÄÈèÄÂâÅÊ¥è",0:"ÈèÄÂâÅÊ¥è"}[t.hkStatus],e.direct=t[278]>=0?"Ê∂îÔøΩ":"ÈçóÔøΩ",e.directNum=Math.abs(t[278]),e.minPrice=t[70],e.maxPrice=t[69],/^(105|106|5)$/.test(t.hkStatus)?e.considerPrice=t[10]:e.considerPrice="",e}(t)),n.msg={coolingPeriod:"ÈçêÁÉΩÊΩ§ÈèàÔøΩ ÁîØÂÇöÊ∫ÄÂ®â„à†Âß©ÁíãÂÜ≠Â¶≠ÈóÉËàµÓÜå",bidPeriod:"ÈóÜÂóóÊÇéÁªîÁÇ∞ÁéØÈóÉËàµÓÜå"}[e],{hqStatus:e,hqStatusDetail:n}}function yO(t,e){var n=parseFloat(t),r=parseFloat(e),i=n-r,o=i/r*100,a=MO(n,r);return{rateP:SO(i,3),status:a,curPrice:t,curPriceShow:SO(t,3),oldPrice:e,oldPriceShow:SO(e,3),rate:SO(o,2)}}function mO(t,e){return/^(HK_stock)/.test(t=t||"HS_stock")?vO(e):/^(USA_stock)/.test(t)?function(t){var e,n={};return t[254]>0?(e="panqian",n=yO(t[254],t[10])):t[278]>0&&(e="panhou",n=yO(t[278],t[10])),n.msg={panqian:"Èê©Ê®∫Â¢†",panhou:"Èê©Ê®∫ÊÇó"}[e],n.time=t.time,{hqStatus:e,hqStatusDetail:n}}(e):void 0}function xO(t){return new gO({code:t}).init()}function _O(){return{abAxis:"#de422e",beAxis:"#3e9663",eqAxis:"#444",ma:"#444",axisLine:"#ccc",ma5:"#1F6195",ma10:"#E0AC58",ma30:"#9C73AF",hoverLine:"#A0A0A0",hideColor:"rgba(255,255,255,0)"}}pO.type="asi",pO.defaultOption={ASI:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},ASIT:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0}},Ip(tO,tO.type),Ip(pO,pO.type),Ip(fO,fO.type),Ip(hO,hO.type),Ip(lO,lO.type),Ip(aO,aO.type),Ip(iO,iO.type),Ip(nO,nO.type),Tp(mL,xL),gO.defaultConfigs={code:"33_300033",hs:{fsXaxisShow:{"0930":0,1030:60,1130:120,1400:180,1500:241}},hskcb:{fsXaxisShow:{"0930":0,1130:120,1500:241}},hk:{fsXaxisShow:{"0930":0,1030:60,1200:150,1400:211,1610:341}}},gO.prototype.get=function(t){return this.configs[t]},gO.prototype.render=function(t){this.init()},gO.prototype.init=function(){var t=ha(this.get("code")).split("_"),e=t[1],n=t[0],r={shortStockCode:e,marketCode:n,volUnit:""};return/^(hs|sz|sh|zs|16|32|24|48|bk|17|18|22|33|34|sb|144|145|21|37)$/.test(n)?(r.keepLen=2,r.needConvertoShou=!0,r.volUnit="ÈéµÔøΩ",r.fsXaxisShow=this.get("hs").fsXaxisShow,/^(688)/.test(e)?(r.msg="HS_stock_kcb",r.fsXaxisShow=this.get("hskcb").fsXaxisShow):/^(zs|16|32|24)$/.test(n)?r.msg="HS_index":/^(48|bk)$/.test(n)?/^(881)/.test(e)?r.msg="HS_block_hangye":r.msg="HS_block_gainian":/^(sb|144|145)$/.test(n)?r.msg="HS_stock_sb":r.msg="HS_stock"):/^(hk|176|177|178|179|180|182|181|183)$/.test(n)?(r.keepLen=3,r.needConvertoShou=!1,r.volUnit="",r.fsXaxisShow=this.get("hk").fsXaxisShow,/^(176)$/.test(n)?r.msg="HK_index":r.msg="HK_stock"):/^(usa|169|168|170|185|184|186|189|200|88|201|202)$/.test(n)?(r.needConvertoShou=!1,r.volUnit="",/^(200|88)$/.test(n)?(r.msg="USA_index",r.keepLen=2):(r.msg="USA_stock",r.keepLen=3)):/^(pmetal|41|wh|92|97|98|99|gzqh|129|fd|20|36|gqh|217|219|qh|65|66|67|68|69|70|shzq|szzq|19|35|gzs|sj|81|ggqq|233|104|120)$/.test(n)?(r.keepLen=2,r.needConvertoShou=!0,r.volUnit="ÈéµÔøΩ",/^(pmetal|41)$/.test(n)?r.msg="Others_pmetal":/^(wh|97|98|99)$/.test(n)?(r.msg="Others_wh",r.keepLen=5):/^(gzqh|129)$/.test(n)?(r.msg="Others_gzqh",r.needConvertoShou=!1):/^(fd|20|36)$/.test(n)?(r.msg="Others_fd",r.keepLen=3):/^(gqh|217|219)$/.test(n)?(r.msg="Others_gqh",r.needConvertoShou=!1,r.volUnit="",r.keepLen=3):/^(qh|65|66|67|68|69|70)$/.test(n)?(r.msg="Others_qh",r.needConvertoShou=!1,r.volUnit="",r.keepLen=2):/^(shzq|szzq|19|35)$/.test(n)?r.msg="Others_zq":/^(gzs|92)$/.test(n)?(r.msg="Others_gzs",r.keepLen=2):/^(sj|81)$/.test(n)?(r.msg="Others_sj",r.needConvertoShou=!1,r.volUnit="",r.keepLen=2):/^(ggqq|233|104|120)$/.test(n)?(r.msg="Others_ggqq",r.keepLen=2):r.msg="Others_"+n):/^(eu|161)$/.test(n)?(r.msg="UK_stock",r.keepLen=2,r.needConvertoShou=!1,r.volUnit=""):(r.msg="HS_stock",r.keepLen=2,r.needConvertoShou=!0,r.volUnit="ÈéµÔøΩ"),r};var wO={abAxis:"#de422e",beAxis:"#3e9663",eqAxis:"#444",ma:"#444",axisLine:"#ccc",ma5:"#1F6195",ma10:"#E0AC58",ma30:"#9C73AF",hoverLine:"#A0A0A0",hideColor:"rgba(255,255,255,0)"};function bO(t,e,n){var r,i,o,a,s,l,u,h,c,f,d,p,g,v;return void 0!==t.o&&(r=SO(t.o,e),i=MO(t.o,t.yc)),void 0!==t.a&&(o=SO(t.a,e),a=MO(t.a,t.yc)),void 0!==t.i&&(s=SO(t.i,e),l=MO(t.i,t.yc)),void 0!==t.c&&(u=SO(t.c,e),h=MO(t.c,t.yc)),void 0!==t.n&&(c=kO(t.n,n)),void 0!==t.np&&(f=kO(t.np)),void 0!==t.h&&(d=parseFloat(t.h).toFixed(2)),p=t.yc,void 0!==t.preRateP&&(g=SO(t.preRateP,e)),void 0!==t.preRate&&(v=SO(t.preRate,2)),{openP:r,openPStatus:i,maxP:o,maxPStatus:a,minP:s,minPStatus:l,curP:u,curPStatus:h,n:c,np:f,turnRate:d,yesterdayP:p,rateP:g,rate:v}}function SO(t,e){if(t){if(ra(t))t=parseFloat(t);else if(isNaN(parseFloat(t))){return(0).toFixed(e)}}else t=0;return t.toFixed(e)}function kO(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&0!=t)return"";t=e?Math.floor(t/100):Math.floor(t);var n=Math.abs(t);return t=n>1e12?SO(t/1e12,1)+"Ê∂ìÂõ¶Âöé":n>1e10?SO(t/1e8,0)+"ÊµúÔøΩ":n>1e8?SO(t/1e8,1)+"ÊµúÔøΩ":n>1e7?SO(t/1e4,0)+"Ê∂ìÔøΩ":n>1e4?SO(t/1e4,1)+"Ê∂ìÔøΩ":SO(t,0)}function MO(t,e){var n=parseFloat(t),r=parseFloat(e);return n-r>0?"ab":n-r<0?"be":"eq"}function AO(t,e){var n=t.c===t.o&&e?e.c:t.o;return MO(t.c,n)}function IO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.abs(t);return r>1e12?(t/1e12).toFixed(n)+"Ê∂ìÂõ¶Âöé":r>1e8||r<-1e8?(t/1e8).toFixed(n)+"ÊµúÔøΩ":r>1e4||r<-1e4?(t/1e4).toFixed(n)+"Ê∂ìÔøΩ":t.toFixed(e)}var TO=Object.freeze({getStockType:xO,getDefaultColor:_O,getLimitByMarket:function(t){var e=t.msg,n={fs:{av:!0,vol:!0,moneyflow:!0},kline:{vol:!0}};return/^(HK_index|Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(e)&&(n.fs.av=!1),"HS_stock"!==e&&(n.fs.moneyflow=!1),/^(Others_wh|Others_gzs|Others_pmetal)/.test(e)&&(n.fs.vol=!1),/^(Others_wh|Others_zq|Others_pmetal|Others_gqh)/.test(e)&&(n.kline.vol=!1),n},getXData:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.msg||"HS_stock",o=t.fsXaxisShow,a=n[0].split("-")[0],s=n[n.length-1].split("-")[1];o||(/^(HS)/.test(i)?o={"0930":0,1030:60,1130:120,1400:180,1500:240}:((o={})[a]=0,o[s]=e-1)),r||(r=[],/^(HS|HK)/.test(i)?(Xo(o,function(t,e){r.push(e)}),r.sort()):r=[a,s]);for(var l=[],u=0;u<e;u++)l.push("___"+u);for(var h=[],c=0;c<r.length;c++)void 0!==o[r[c]]&&h.push(o[r[c]]);for(var f=0;f<h.length;f++)l[h[f]]=r[f];return{xData:l,xTick:r}},convertToShowData:bO,decimalRound:SO,filterNum:kO,filterStatus:MO,getKLineStatus:AO,numFormatter:IO,inheritFrom:function(t,e){var n=function(t){function e(){}return e.prototype=t,new e}(e.prototype);for(var r in n.constructor=t,t.prototype=n,e)e.hasOwnProperty(r)&&(t[r]=e[r])},fsPrice_tooltip:function(t,e,n){var r=e.pre,i=e.keepLen,o=e.needConvertoShou,a=e.hqMarket,s=parseFloat(r),l=Bo({t:"",preClosePrice:"",nowp:"",np:"",av:"",n:"",status:"",rate:"",ratep:""},t,!0),u="";""!=t.nowp?(u=t.nowp,l.status=MO(u,s)):(u="",l.status="eq"),l.preClosePrice=s,l.nowp=SO(u,i),l.av=SO(t.av,i),l.avStatus=MO(t.av,s),o&&(l.n=t.n/100),l.n=IO(l.n,0,1)||0,l.np=IO(t.np,0,1)||0;var h,c=SO(-(s-u),i),f=SO(c/s*100,2);return l.rate=f+"%",l.ratep=c,h=/^(Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(a)?"<%t%> ÈêúÈ¢ÅÁéØ:<%nowp%> Â®ë„Ñ®Á©º:<%ratep%> Â®ë„Ñ•ÁÆô:<%rate%> Èñ≤ÔøΩ:<%n%> Ê£∞ÔøΩ:<%np%>":"<%t%> ÈêúÈ¢ÅÁéØ:<%nowp%> ÈçßÂõ¶ÁéØ:<%av%> Â®ë„Ñ®Á©º:<%ratep%> Â®ë„Ñ•ÁÆô:<%rate%> Èñ≤ÔøΩ:<%n%> Ê£∞ÔøΩ:<%np%>","function"==typeof n?n({tpl:h,result:l}):h.replace(/<%([^%>]+)?%>/g,function(t,e){return"t"===e?l[e].substr(0,2)+":"+l[e].substr(2,2):'<span style="color:'+wO[l.status+"Axis"]+';">'+l[e]+"</span>"})},klinePrice_tooltip:function(t,e,n){var r=e.keepLen,i=e.needConvertoShou,o={},a=t.yc,s=t.yj||a,l="";l=""!==t.c?t.c:"",o.t=t.t,o.ratep=SO(l-s,r),o.maxP=SO(t.a,r),o.minP=SO(t.i,r),o.openP=SO(t.o,r),o.closeP=SO(l,r),o.n=t.n,i&&(o.n=t.n/100),o.n=IO(o.n,0,1)||0,o.maxPStatus=MO(t.a,a),o.minPStatus=MO(t.i,a),o.openPStatus=MO(t.o,a),o.rate=SO((l-s)/s*100,2)+"%",o.status=l-s>0?"ab":l-s==0?"eq":"be";var u='<%t%> ÂØÆ‚Ç¨ÈîõÔøΩ<span style="color: <%openPStatus%>;"><%openP%></span> Ê•ÇÊ©àÁ¥∞<span style="color: <%maxPStatus%>"><%maxP%></span> Êµ£Â∫ØÁ¥∞<span style="color: <%minPStatus%>"><%minP%></span> ÈèÄËÆπÁ¥∞<span style="color: <%status%>"><%closeP%></span> Â®ë„Ñ®Á©ºÈîõÔøΩ<span style="color: <%status%>"><%ratep%></span> Â®ë„Ñ•ÁÆôÈîõÔøΩ<span style="color: <%status%>"><%rate%></span><br/>',h="";for(var c in t)/^(ma[{0-9}]+)/.test(c)&&t[c]&&(h+='<span style="color:<%'+c+'Status%>">'+c.toUpperCase()+":<%"+c+"%> </span>");var f=u+h;return"function"==typeof n?n({tpl:u,maTpl:h,result:o,data:t}):f.replace(/<%([^%>]+)?%>/g,function(e,n){return"status"===n||"openPStatus"===n||"maxPStatus"===n||"minPStatus"===n?wO[o[n]+"Axis"]:/^(ma[{0-9}]+Status)$/.test(n)?wO.ma:/^(ma[{0-9}]+)$/.test(n)?parseFloat(t[n]).toFixed(r):o[n]})},getStockstatus:mO});n(function(t,n){
/*!
   * @overview es6-promise - a tiny implementation of Promises/A+.
   * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
   * @license   Licensed under MIT license
   *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
   * @version   v4.2.8+1e68dce6
   */
t.exports=function(){function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,i=void 0,o=void 0,s=function(t,e){p[r]=t,p[r+1]=e,2===(r+=2)&&(o?o(g):_())},l="undefined"!=typeof window?window:void 0,u=l||{},h=u.MutationObserver||u.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(g,1)}}var p=new Array(1e3);function g(){for(var t=0;t<r;t+=2){var e=p[t],n=p[t+1];e(n),p[t]=void 0,p[t+1]=void 0}r=0}var v,y,m,x,_=void 0;function w(t,e){var n=this,r=new this.constructor(k);void 0===r[S]&&N(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return P(i,r,o,n._result)})}else O(n,r,t,e);return r}function b(t){if(t&&"object"===(void 0===t?"undefined":a(t))&&t.constructor===this)return t;var e=new this(k);return C(e,t),e}c?_=function(){return process.nextTick(g)}:h?(y=0,m=new h(g),x=document.createTextNode(""),m.observe(x,{characterData:!0}),_=function(){x.data=y=++y%2}):f?((v=new MessageChannel).port1.onmessage=g,_=function(){return v.port2.postMessage(0)}):_=void 0===l?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(g)}:d()}catch(t){return d()}}():d();var S=Math.random().toString(36).substring(2);function k(){}var M=void 0,A=1,I=2;function T(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===b?function(t,e){e._state===A?z(t,e._result):e._state===I?L(t,e._result):O(e,void 0,function(e){return C(t,e)},function(e){return L(t,e)})}(e,n):void 0===r?z(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?C(t,n):z(t,n))},function(e){r||(r=!0,L(t,e))},t._label);!r&&i&&(r=!0,L(t,i))},t)}(e,n,r):z(e,n)}function C(t,e){if(t===e)L(t,new TypeError("You cannot resolve a promise with itself"));else if(i=void 0===(r=e)?"undefined":a(r),null===r||"object"!==i&&"function"!==i)z(t,e);else{var n=void 0;try{n=e.then}catch(e){return void L(t,e)}T(t,e,n)}var r,i}function E(t){t._onerror&&t._onerror(t._result),D(t)}function z(t,e){t._state===M&&(t._result=e,t._state=A,0!==t._subscribers.length&&s(D,t))}function L(t,e){t._state===M&&(t._state=I,t._result=e,s(E,t))}function O(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+A]=n,i[o+I]=r,0===o&&t._state&&s(D,t)}function D(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?P(n,r,i,o):i(o);t._subscribers.length=0}}function P(e,n,r,i){var o=t(r),a=void 0,s=void 0,l=!0;if(o){try{a=r(i)}catch(t){l=!1,s=t}if(n===a)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==M||(o&&l?C(n,a):!1===l?L(n,s):e===A?z(n,a):e===I&&L(n,a))}var F=0;function N(t){t[S]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[S]||N(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?z(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&z(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===M&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===b){var i=void 0,o=void 0,a=!1;try{i=t.then}catch(t){a=!0,o=t}if(i===w&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===B){var s=new n(k);a?L(s,o):T(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===M&&(this._remaining--,t===I?L(r,n):this._result[e]=n),0===this._remaining&&z(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(A,e,t)},function(t){return n._settledAt(I,e,t)})},t}(),B=function(){function e(t){this[S]=F++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){C(t,e)},function(e){L(t,e)})}catch(e){L(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return B.prototype.then=w,B.all=function(t){return new R(this,t).promise},B.race=function(t){var e=this;return n(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=b,B.reject=function(t){var e=new this(k);return L(e,t),e},B._setScheduler=function(t){o=t},B._setAsap=function(t){s=t},B._asap=s,B.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}t.Promise=B},B.Promise=B,B}()}).polyfill();function CO(t){return t.replace(/([\W])/g,function(t,e){return"/"===e||","===e?"_":"__"})}function EO(t){var e=t.dataArray[t.dataArray.length-1].t;return 2===e.split(" ").length&&(e=e.split(" ")[1]),e}function zO(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return e;var n="";return t.replace(/\/{2}([\w.:]+)\//,function(t,e){n=e}),function(t,e){var n=t.split(e)[1].replace(/(\/)/g,function(){return"_"});return"quotebridge_"+(n=CO(n=n.replace(/(.js)/g,function(){return""})))}(t,n+"/")}function LO(t){var e=t.time,n=t.fuquan,r={day:"0",week:"1",month:"2","5min":"3","30min":"4","60min":"5","1min":"6","4hour":"7",year:"8",season:"9"},i={bfq:"0",qfq:"1",hfq:"2"};return(r[e]?r[e]:"0")+(i[n]?i[n]:"1")}var OO=n(function(t,e){(function(t,e){var n={cache:!1,timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(t){try{delete window[t]}catch(e){window[t]=void 0}}function i(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}e.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=t,a=e.timeout||n.timeout,s=e.jsonpCallback||n.jsonpCallback,l=void 0;return new Promise(function(u,h){var c=e.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),f=s+"_"+c;window[c]=function(t){u({ok:!0,json:function(){return Promise.resolve(t)}}),l&&clearTimeout(l),i(f),r(c)};var d=document.createElement("script");e.cache||n.cache?d.setAttribute("src",""+o):(o+=-1===o.indexOf("?")?"?":"&",d.setAttribute("src",""+o+s+"="+c)),e.charset&&d.setAttribute("charset",e.charset),d.id=f,document.getElementsByTagName("head")[0].appendChild(d),l=setTimeout(function(){h(new Error("JSONP request to "+t+" timed out")),r(c),i(f),window[c]=function(){r(c)}},a),d.onerror=function(){h(new Error("JSONP request to "+t+" failed")),r(c),i(f),l&&clearTimeout(l)}})}})(0,t)}),DO=rp||"undefined"!=typeof document&&"https:"==document.location.protocol?"https:":"http:";function PO(t,e){return e+"__"+(t.dType||"common")+"__"+CO(t.code)}function FO(t){NO.registerClass(t,t.type)}var NO=function(){function t(e,n){s(this,t),this.dataPool=n;var r=Bo(Ro(this.constructor.defaultOption),t.defaultOption);this.option=Bo(e,r),this.dataId=PO(this.option,this.constructor.type),this.fetchStatus,this._data}return t.prototype.getHqCallbackNameAndUrl=function(t,e){var n=this.dataPool.getFilterUrl(t);return{url:n,callbackName:zO(n,e)}},t.prototype.fetchRemote=function(t,e){var n=Bo(e,{cache:!0,jsonpCallback:null,jsonpCallbackFunction:void 0,timeout:9e3});if(rp){var r=n.jsonpCallbackFunction;return wx.pro.request({url:t,dataType:"json"}).then(function(t){if(t.data){var e=t.data.split(r+"(")[1].split(")")[0];return JSON.parse(e)}})}return OO(t,n).then(function(t){return t.json()})},t.prototype.getFetchStatus=function(t,e){var n={};switch(t){case"success":n={code:"000",msg:t};break;case"isPending":n={code:"001",msg:t};break;case"fail":n={code:"002",msg:e||t};break;default:n={code:"000",msg:"success"}}return n.tip="ÈéªÊÑÆ„Åö:ÁíáÂ≥∞Â¨ÅÁëïÂóôÊ¥ädataÊ∂ìÂ¨´ÊöüÈéπÓÜªÊç¢Èé∞ÂøìÁìßÂ®àÔøΩ!!",n.dataId=this.dataId,n},t.prototype.init=function(){},t.prototype.update=function(){this.fetchPending();var t=this;this.dataPool._status.lazyInit?setTimeout(function(){t.init()}):this.init()},t.prototype.get=function(t){return t?this.option[t]:this.option},t.prototype.getAllActions=function(){return xd},t.prototype.fetchSuccess=function(t){this._data=t;var e=this.dataPool;this.fetchStatus=this.getFetchStatus("success"),e.triggerAction(this,xd.update,{data:this._data,fetchStatus:this.fetchStatus})},t.prototype.fetchFail=function(t,e){this._data=e;var n=this.dataPool,r=t.message||"error";this.fetchStatus=this.getFetchStatus("fail",r),n.triggerAction(this,xd.update,{data:this._data,fetchStatus:this.fetchStatus})},t.prototype.fetchPending=function(){var t=this.dataPool;this.fetchStatus=this.getFetchStatus("isPending"),t.triggerAction(this,xd.update,{data:void 0,fetchStatus:this.fetchStatus})},t.prototype.stopGetData=function(){this.keepingGetHandle&&clearTimeout(this.keepingGetHandle)},t.prototype.getData=function(){return this._data},t}();NO.type="dataProvider",NO.defaultOption={code:"hs_300033",version:"v6",dType:"common",protocol:DO,isKeepingGet:!1,intervalTime:6e4};var RO=th(NO),BO={time:function(t){return t[1]},openP:function(t){return t[7]},maxP:function(t){return t[8]},minP:function(t){return t[9]},curP:function(t){return t[10]},closeP:function(t){return t[11]},dealType:function(t){return t[12]},vol:function(t){return t[13]},volMoney:function(t){return t[19]},curVol:function(t){return t[49]},turnRate:function(t){return t[1968584]},dealNum:function(t){return t[625295]}};function WO(t,e,n){var r=[],i="--";t.His&&(i=(r=t.His.split(":"))[0]+":"+r[1]);var o=BO.curP(t),a=BO.dealType(t),s="";return s=a>4?"buy":4==a?"eq":"sell",{time:i,color:MO(o,e),price:o,dealTypeStr:s,curVol:kO(BO.curVol(t),n)}}var jO={fiverangeArrange:function(t){var e=t.remoteData,n=(t.code,t.stockType),r=e.items,i={};for(var o in r)/^(25|27|29|151|155|31|33|35|153|157)$/.test(o)?i[o]=kO(r[o],n.needConvertoShou):(i[o]=""==r[o]?"":SO(r[o],n.keepLen),i["color-"+o]=MO(r[o],r[6]));return i},exchangedetailArrange:function(t){var e=t.remoteData,n=(t.code,t.stockType),r={items:[]};if(!e.items.length)return"";for(var i=0;i<e.items.length;i++)r.items.push(WO(e.items[i],e[6],n.needConvertoShou));return r},realheadArrange:function(t){var e,n,r=t.remoteData,i=t.code,o=t.stockType,a=r.items,s=mO(o.msg,a),l=i.split("_")[1],u=o.keepLen,h=o.needConvertoShou,c=a[66]?a[66]:""===a[6]?0:a[6];a[66]?(e=a[10]?a[10]-a[66]:void 0,n=a[10]?e/a[66]*100:void 0):(e=a[264648],n=a[199112]);var f=bO({o:a[7],a:a[8],i:a[9],c:a[10],h:a[1968584],n:a[13],np:a[19],yc:c,preRateP:e,preRate:n},u,h);return{hqStatus:s&&s.hqStatus,hqStatusDetail:s&&s.hqStatusDetail,name:a.name,shortcode:l,keepLen:u,isStop:a.stop,openP:f.openP,openPStatus:f.openPStatus,maxP:f.maxP,maxPStatus:f.maxPStatus,minP:f.minP,minPStatus:f.minPStatus,curP:f.curP,curPStatus:f.curPStatus,yesterdayP:f.yesterdayP,n:f.n,np:f.np,turnRate:f.turnRate,rateP:f.rateP,rate:f.rate,staticSYL:a[134152],dynamicSYL:a[2034120],sjl:SO(a[592920],2),totalM:kO(a[3541450]),stockM:kO(a[3475914]),zf:SO(a[526792],2)}}},GO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n}return u(e,t),e.prototype.init=function(){var t=this,e=t.get("code"),n=xO(e);this.stockType=n,t.getFromWeb(function(n){var r=t.get("dType"),i=void 0;"function"==typeof jO[r+"Arrange"]&&(i=jO[r+"Arrange"]({remoteData:n,code:e,stockType:t.stockType})),t.fetchSuccess({remoteData:n,afterArrage:i,stockType:t.stockType}),t.get("isKeepingGet")&&t.keepingGetData()})},e.prototype.getFromWeb=function(t){var e=this,n=this.get("urlFormatter"),r=this.option.callbackName,i=n(l({},this.option)),o=this.getHqCallbackNameAndUrl(i,r),a=o.url,s=o.callbackName;this.fetchRemote(a,{jsonpCallbackFunction:s}).then(function(e){t(e)}).catch(function(t){e.fetchFail(t)})},e.prototype.keepingGetData=function(){var t=this;this.keepingGetHandle=setTimeout(function e(){t.getFromWeb(function(e){var n,r=t.get("dType");"function"==typeof jO[r+"Arrange"]&&(n=jO[r+"Arrange"]({remoteData:e,code:t.get("code"),stockType:t.stockType})),t.fetchSuccess({remoteData:e,afterArrage:n,stockType:t.stockType})}),t.keepingGetHandle=setTimeout(e,t.get("intervalTime"))},t.get("intervalTime"))},e}(RO);GO.type="othersHq",GO.defaultOption={code:"hs_300033",dType:"realhead",urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/"+t.dType+"/"+t.code+"/last.js"},callbackName:null},FO(GO);var HO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n.dataError=!1,n}return u(e,t),e.prototype.arrangeData=function(t,e){var n=this,r={};return Xo(this.get("code").split(","),function(i){r[i]={};var o=!(!e||!e[i]),a=o?e[i].dataArray:"",s=o?e[i].preClosePrice:void 0,l=o&&e[i],u=t[i],h=xO(i),c=u.dates;s||(s=u.pre);var f,d=c.length,p=u.data.split(";"),g=a?a.slice(0):[],v=[],y=void 0,m=o?l.todayStart:"",x=function(t,e,n){f||(f=e),"0000"==t[0]&&(f=n);var r=parseFloat(t[1]?t[1]:0),i=parseFloat(t[3]?t[3]:t[1]),o=(r-s)/s,a=(i-s)/s;return{s:void 0,t:f+" "+t[0],nowp:r,np:parseInt(t[2]?t[2]:0),av:i,n:parseInt(t[4]?t[4]:0),nowpPct:o,avPct:a}};if((s||p[0].split(",")[2]&&0!=p[0].split(",")[2])&&p[0].split(",")[1]&&0!=p[0].split(",")[1]){var _=o?l.max.nowp:-1/0,w=o?l.min.nowp:1/0,b=o?l.max.av:-1/0,S=o?l.min.av:1/0,k=o?l.max.n:-1/0,M=o?l.min.n:1/0;if(p.length&&p[0]){for(var A=0;A<p.length;A++){y=x(v=p[A].split(","),c[0],c[d-1]);var I=g[g.length-1];y.s=0==A?y.nowp-s>0?"ab":y.nowp-s<0?"be":"eq":y.nowp-I.nowp>0?"ab":y.nowp-I.nowp<0?"be":"eq",_=Math.max(y.nowp,_),w=Math.min(y.nowp,w),b=Math.max(y.av,b),S=Math.min(y.av,S),k=Math.max(y.n,k),M=Math.min(y.n,M),v[1]&&g.length&&g[g.length-1].t&&v[0]==m&&g.pop(),g.push(y)}x=null,m=g[g.length-1].t.split(" ")[1]}}else;r[i]={stockType:h,afterTradeTime:u.afterTradeTime,tradeTime:u.tradeTime,isTrading:u.isTrading,code:i,formatterDate:c,preClosePrice:s,totalTimeNum:u.dotsCount,name:u.name,max:{nowp:_,av:b,n:k},min:{nowp:w,av:S,n:M},stop:u.stop,open:u.open,todayStart:m,dataArray:g.length?g:[]},function(t){return t.dataArray&&t.dataArray.length&&t.dataArray[0].nowp&&t.preClosePrice}(r[i])||(n.dataError=!0)}),r},e.prototype.init=function(){var t=this,e=this.get("urlFormatter")(l({},this.option)),n=this.getHqCallbackNameAndUrl(e),r=n.url,i=n.callbackName;this.fetchRemote(r,{jsonpCallbackFunction:i}).then(function(e){var n=t.arrangeData(e);return t.dataError?(t.fetchFail({message:"ÈèÅÁâàÂµÅÂßùÔΩÖÁà∂Êù©ÊñøÊ¥ñÈîõÂ±ΩÂî¥ÁÄπÁë∞Á¥ìÁîØÔøΩ"},n),!1):(t.fetchSuccess(n),t.checkNeedGetting()?void(t.keepingGetHandle=setTimeout(function e(){t.keepGettingData(),t.keepingGetHandle=setTimeout(e,t.get("intervalTime"))},t.get("intervalTime"))):(t.keepingGetHandle&&clearTimeout(t.keepingGetHandle),!1))}).catch(function(e){t.fetchFail(e)})},e.prototype.checkIsTradingTime=function(t){var e=this.get("code").split(","),n=this.getData();try{ea(e)&&(e=e[0]);var r=n[e];return!!r&&!(!r.isTrading||!r.open)}catch(t){return!1}},e.prototype.checkNeedGetting=function(){if(this.dataError)return!1;var t=this.get("code").split(","),e=this.getData();ea(t)&&(t=t[0]);for(var n=e[t],r=this.get("isKeepingGet"),i=EO(n),o=void 0,a=void 0,s=void 0,l=void 0,u=!1,h=0;h<n.tradeTime.length;h++)o=n.tradeTime[h].split("-")[0],(a=n.tradeTime[h].split("-")[1])<o&&(a="2400",s="0000",l=n.tradeTime[h].split("-")[1]),!s&&i>=o&&i<a?u=r:s&&(i>=o&&i<a||i>=s&&i<l)&&(u=r);return u},e.prototype.keepGettingData=function(){var t=this,e=this.get("code").split(","),n=this.getData();ea(e)&&(e=e[0]);var r=n[e],i=this.get("keepGetUrlFormatter")(l({todayStart:r.todayStart},this.option)),o=this.getHqCallbackNameAndUrl(i),a=o.url,s=o.callbackName;this.fetchRemote(a,{jsonpCallbackFunction:s}).then(function(e){var n=t.arrangeData(e,t.getData());t.fetchSuccess(n)}).catch(function(e){t.fetchFail(e)})},e}(RO);HO.type="fsToday",HO.defaultOption={code:"hs_300033",urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/time/"+t.code+"/last.js"},keepGetUrlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/time/"+t.code+"/"+t.todayStart+".js"}};var UO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n.dataError=!1,n}return u(e,t),e.prototype.arrangeData=function(t){var e={},n=this.get("code");e[n]={};var r,i=t[n],o=xO(n),a=i.dataArray[0],s=a.dates,l=s.length,u=a.pre,h=a.data.split(";"),c=[],f=[],d=void 0,p="",g=(r=void 0,function(t,e,n){r||(r=e),"0000"==t[0]&&(r=n);var i=parseFloat(t[1]?t[1]:0),o=parseFloat(t[3]?t[3]:t[1]),a=(i-u)/u,s=(o-u)/u;return{s:void 0,t:r+" "+t[0],nowp:i,np:parseInt(t[2]?t[2]:0),av:o,n:parseInt(t[4]?t[4]:0),nowpPct:a,avPct:s}}),v=-1/0,y=1/0,m=-1/0,x=1/0,_=-1/0,w=1/0;if((u||h[0].split(",")[2]&&0!=h[0].split(",")[2])&&h[0].split(",")[1]&&0!=h[0].split(",")[1]){if(h.length&&h[0]){for(var b=0;b<h.length;b++){d=g(f=h[b].split(","),s[0],s[l-1]);var S=c[c.length-1];d.s=0==b?d.nowp-u>0?"ab":d.nowp-u<0?"be":"eq":d.nowp-S.nowp>0?"ab":d.nowp-S.nowp<0?"be":"eq",v=Math.max(d.nowp,v),y=Math.min(d.nowp,y),m=Math.max(d.av,m),x=Math.min(d.av,x),_=Math.max(d.n,_),w=Math.min(d.n,w),f[1]&&c.length&&c[c.length-1].t&&f[0]==p&&c.pop(),c.push(d)}g=null,p=c[c.length-1].t.split(" ")[1]}}else this.fetchFail({message:"Èë≤ÔºÑ„Ç®ÈèàÓÅÉÁ¨ÇÁîØÔøΩ"});return e[n]={stockType:o,afterTradeTime:i.afterTradeTime,tradeTime:i.tradeTime,isTrading:i.isTrading||0,code:n,formatterDate:s,preClosePrice:u,totalTimeNum:i.dotsCount,name:i.name,max:{nowp:v,av:m,n:_},min:{nowp:y,av:x,n:w},stop:i.stop||0,open:i.open||0,todayStart:p,dataArray:c.length?c:[]},function(t){return t.dataArray&&t.dataArray.length&&t.dataArray[0].nowp&&t.preClosePrice}(e[n])||(this.dataError=!0),e},e.prototype.init=function(){var t=this,e=this.get("urlFormatter")(l({},this.option)),n=this.getHqCallbackNameAndUrl(e),r=n.url,i=n.callbackName;this.fetchRemote(r,{jsonpCallbackFunction:i}).then(function(e){var n=t.arrangeData(e);if(t.dataError)return t.fetchFail({message:"ÈèÅÁâàÂµÅÂßùÔΩÖÁà∂Êù©ÊñøÊ¥ñÈîõÂ±ΩÂî¥ÁÄπÁë∞Á¥ìÁîØÔøΩ"},n),!1;t.fetchSuccess(n)}).catch(function(e){t.fetchFail(e)})},e}(RO);UO.type="fsHistory",UO.defaultOption={code:"hs_300033",urlFormatter:function(t){var e=t.version,n=t.protocol,r=t.code,i=t.dates;return n+"//d.10jqka.com.cn/"+e+"/time/"+r+("/"+i[0]+"/"+i[0])+"/fmt/history.js"}};var VO=function(t,e){return{t:e+" "+t[0],mfsb:parseFloat(t[1]?t[1]:0),mfss:parseFloat(t[2]?t[2]:0),mfbb:parseFloat(t[3]?t[3]:0),mfbs:parseFloat(t[4]?t[4]:0),mflb:parseFloat(t[5]?t[5]:0),mfls:parseFloat(t[6]?t[6]:0),mfmb:parseFloat(t[7]?t[7]:0),mfms:parseFloat(t[8]?t[8]:0)}},qO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n}return u(e,t),e.prototype.getToday=function(t){var e=this,n=this.get("urlFormatter")(l({},this.option)),r=this.getHqCallbackNameAndUrl(n),i=r.url,o=r.callbackName;this.fetchRemote(i,{jsonpCallbackFunction:o}).then(function(e){t(e)}).catch(function(t){e.fetchFail(t)})},e.prototype.keepGetting=function(t){var e=this,n=this.get("code").split(","),r=this.getData();ea(n)&&(n=n[0]);var i=r[n],o=this.get("keepGetUrlFormatter")(l({todayStart:i.todayStart},this.option)),a=this.getHqCallbackNameAndUrl(o),s=a.url,u=a.callbackName;this.fetchRemote(s,{jsonpCallbackFunction:u}).then(function(e){t(e)}).catch(function(t){e.fetchFail(t)})},e.prototype.arrangeData=function(t,e){var n={};return Xo(this.get("code").split(","),function(r,i){n[r]={};for(var o=!(!e||!e[r]),a=o?e[r].dataArray:"",s=o&&e[r],l=t[r],u=l.data.split(";"),h=a?a.slice(0):[],c=[],f=o?s.todayStart:"",d=0;d<u.length;d++)(c=u[d].split(","))[1]&&h.length&&c[0]==f?(h.pop(),h.push(VO(c,l.date))):h.push(VO(c,l.date));f=h[h.length-1].t.split(" ")[1],n[r]={tradeTime:l.rt.split(","),code:r,totalTimeNum:l.dotsCount||241,name:l.name,stop:0,open:l.open,todayStart:f,dataArray:h.length?h:[]}}),n},e.prototype.checkNeedGetting=function(){var t=this.get("code").split(","),e=this.getData();ea(t)&&(t=t[0]);for(var n=e[t],r=this.get("isKeepingGet"),i=EO(n),o=void 0,a=void 0,s=!1,l=0;l<n.tradeTime.length;l++)o=n.tradeTime[l].split("-")[0],a=n.tradeTime[l].split("-")[1],i>=o&&i<a&&(s=r);return s},e.prototype.init=function(){var t=this;this.getToday(function(e){if(t.fetchSuccess(t.arrangeData(e)),!t.checkNeedGetting())return t.keepingGetHandle&&clearTimeout(t.keepingGetHandle),!1;t.keepingGetHandle=setTimeout(function e(){t.keepGetting(function(e){t.fetchSuccess(t.arrangeData(e,t.getData()))}),t.keepingGetHandle=setTimeout(e,t.get("intervalTime"))},t.get("intervalTime"))})},e}(RO);function YO(t){return t=String(t),new Date(t.slice(0,4),t.slice(4,6)-1,t.slice(6,8))}function $O(t){return(t=parseInt(t))%3==0?t/3:Math.ceil(t/3)}qO.type="fsMoneyFlow",qO.defaultOption={code:"hs_300033",urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/moneyflow/"+t.code+"/last.js"},keepGetUrlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/moneyflow/"+t.code+"/"+t.todayStart+".js"}},FO(HO),FO(UO),FO(qO);var XO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.option=Bo(n.option,e.defaultOption),n.keepingGetHandle,n}return u(e,t),e.prototype.arrangeHistory=function(t){return t},e.prototype.arrangeCurrent=function(t){var e,n=t[this.get("code")];return{current:{open:n.open,dt:n.dt},dataArray:n[11]?[(e=n,{t:e[1],o:parseFloat(e[7]),a:parseFloat(e[8]),i:parseFloat(e[9]),c:parseFloat(e[11]),n:parseFloat(e[13]),np:parseFloat(e[19]),an:parseFloat(e[74]),h:parseFloat(e[1968584]),yj:parseFloat(e[66]),yc:"",s:""})]:[]}},e.prototype.checkNeedGetting=function(t){var e=this.getData(),n=(this.get("code"),this.get("isKeepingGet"));try{return n&&e.current.current.open}catch(t){return!1}},e.prototype.mergeHistoryWithCurrent=function(t,e,n){var r=this.getDType().time,i=t.slice(0);if(i.length||(i[0]={t:e[0].t}),function(t,e,n){if("day"===n)return t===e;if("week"===n){var r=YO(Math.min(t,e)),i=YO(Math.max(t,e));return r.getDay()+(i.getTime()-r.getTime())/864e5<=6}return"month"===n?t.slice(4,6)===e.slice(4,6):"season"===n?t.slice(0,4)==e.slice(0,4)&&$O(t.slice(4,6))===$O(e.slice(4,6)):t===e}(e[0].t,i[i.length-1].t,r))i.pop();var o=e.slice(0);if(i.length){var a=i[i.length-1];o[0].yc=a.c,o[0].s=AO(o[0],a)}else o[0].yc=n||o[0].o,o[0].s=AO(o[0]);return function(t,e){var n=t.length,r=n;if(n>=e.length){for(var i=0,o=e.length;i<o;i++)t.push(e[i]);return t}for(;--r>=0;)e.unshift(t[r]);return e}(i,e.slice(0))},e.prototype.calculateMaOnEndData=function(t){var e=t.length,n=this.get("ma"),r=n.length,i="",o=void 0,a=0,s=0,l=void 0,u=0,h=0;function c(e,c){for(u=0;u<r;u++){for(o=n[u],i="ma"+n[u],a=0,s=0,"nMa"+n[u],0,0,e+1<o&&(o=e+1),h=0;h<o;h++)l=t[e-h],s+=l.c,l.n;a=s/o,c[i]=a}return c}for(var f="ma"+n[0],d=e-1;d>=0&&!(f in t[d]);d--)c(d,t[d]);return t},e.prototype.calculateMa=function(t){var e=t.length,n=this.get("ma"),r=n.length,i="",o=void 0,a=0,s=0,l=void 0,u=0,h=0;function c(e,c){for(u=0;u<r;u++){if(o=n[u],i="ma"+n[u],a=0,s=0,"nMa"+n[u],0,0,e+1<o){o=e+1,c[i]=NaN;for(var f=r-1;f>u;f--)c["ma"+n[f]]=NaN;break}for(h=0;h<o;h++)l=t[e-h],s+=l.c,l.n;a=s/o,c[i]=a}return c}var f=Math.floor(e/8),d=e%8,p=0;if(e>=8){if(d>0)do{c(p,t[p++])}while(--d>0);do{c(p,t[p++]),c(p,t[p++]),c(p,t[p++]),c(p,t[p++]),c(p,t[p++]),c(p,t[p++]),c(p,t[p++]),c(p,t[p++])}while(--f>0)}else do{c(p,t[p++])}while(--d>0);return t},e.prototype.isSettingMa=function(){return this.get("ma")&&this.get("ma").length},e.prototype.getDType=function(){var t=this.get("dType");return{fuquan:t.substr(0,3).toLowerCase(),time:t.slice(3).toLowerCase()}},e.prototype.init=function(){var t=this,e=this.get("urlFormatter")(l({typecode:LO(this.getDType())},this.option)),n=this.getHqCallbackNameAndUrl(e),r=n.url,i=n.callbackName;if(this.get("keepGetUrlFormatter")){var o=this.get("keepGetUrlFormatter")(l({typecode:LO(this.getDType())},this.option)),a=this.getHqCallbackNameAndUrl(o),s=a.url,u=a.callbackName;Promise.all([this.fetchRemote(r,{jsonpCallbackFunction:i}),this.fetchRemote(s,{jsonpCallbackFunction:u})]).then(function(e){var n=t.arrangeHistory(e[0]),r=t.arrangeCurrent(e[1]),i=n;i.current=r;var o=[];(n.dataArray.length||r.dataArray.length)&&(o=t.mergeHistoryWithCurrent(n.dataArray,r.dataArray,n.issuePrice)),o.length&&t.isSettingMa()&&(o=t.calculateMa(o)),i.dataArray=o,t.fetchSuccess(i)}).catch(function(e){t.fetchFail(e)})}else this.fetchRemote(r,{jsonpCallbackFunction:i}).then(function(e){var n=t.arrangeHistory(e);n.dataArray.length&&t.isSettingMa()&&(n.dataArray=t.calculateMa(n.dataArray)),t.fetchSuccess(n)}).catch(function(e){t.fetchFail(e)})},e}(RO);XO.type="klineBase",XO.defaultOption={code:"hs_300033",dType:"qfqDay",ma:[5,10,30,60],urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/line/"+t.code+"/"+t.typecode+"/all.js"},keepGetUrlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/line/"+t.code+"/"+t.typecode+"/today.js"},isKeepingGet:!1,intervalTime:6e4};var KO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.arrangeHistory=function(t){var e=xO(this.get("code")),n=t.sortYear,r=t.priceFactor,i=t.issuePrice,o=t.name,a=t.total,s=t.start,l=t.volumn.split(","),u=t.price.split(","),h=t.dates.split(","),c=t.afterVolumn.split(","),f=h.length,d={stockType:e,sortYear:n,priceFactor:r,issuePrice:i,name:o,totalKlineNum:a,firstDate:s,isGetTotalFirstData:!0,dataArray:[]};if(0==a)return d;for(var p=[],g=["i","o","a","c"],v=0,y="",m=0,x=[],_=0;_<n.length;_++)x.push([n[_][0],m]),m+=n[_][1];x.push(["",1/0]);for(var w=0;w<f;w++){p[w]={},0===w?(y=x[v][0],p[w].t=y+h[w]):w<x[v+1][1]?p[w].t=y+h[w]:w>=x[v+1][1]&&(y=x[++v][0],p[w].t=y+h[w]),p[w].n=parseInt(l[w]);for(var b=0;b<4;b++)p[w].i||0==p[w].i?p[w][g[b]]=u[4*w+b]/r+p[w].i:p[w][g[b]]=u[4*w+b]/r;p[w].s=AO(p[w],p[w-1]),p[w].yc=0===w?p[w].o:p[w-1].c,p[w].yj=c[w]}return p[0].yc=parseFloat(d.issuePrice),d.dataArray=p,d},e}(XO);KO.type="klineCommon",KO.defaultOption={urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/line/"+t.code+"/"+t.typecode+"/all.js"}};var ZO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.arrangeHistory=function(t){var e=this.get("forceHistory"),n=xO(this.get("code")),r=[],i=t.total,o=t.start,a=t.issuePrice,s=t.name,l=t.today,u={stockType:n,totalKlineNum:i,firstDate:o,issuePrice:a,name:s,dataArray:[]},h=!1;if(0==i||!t.data)return u;for(var c=t.data.split(";"),f=0;f<c.length;f++){var d=c[f].split(",");if(e&&l&&l==d[0])break;r.push({t:d[0],o:parseFloat(d[1]),a:parseFloat(d[2]),i:parseFloat(d[3]),c:parseFloat(d[4]),n:parseFloat(d[5]),np:parseFloat(d[6]),h:parseFloat(d[7]),s:void 0,yc:void 0,yj:void 0!==d[8]&&""!==d[8]?parseFloat(d[8]):void 0,an:parseFloat(d[9]),anp:parseFloat(d[10])}),r[f].s=AO(r[f],r[f-1]),0===f?(r[f].yc=r[f].o,h=o==r[f].t):r[f].yc=r[f-1].c}return h&&(r[0].yc=parseFloat(a)),u.isGetTotalFirstData=h,u.dataArray=r,u},e}(XO);ZO.type="klineLast",ZO.defaultOption={urlFormatter:function(t){var e=t.version,n=t.protocol,r=t.code,i=t.typecode,o=t.lastDays,s=t.sliceDays;return n+"//d.10jqka.com.cn/"+e+"/line/"+r+"/"+i+"/"+("object"===(void 0===s?"undefined":a(s))?s.join("_")+"last":"number"==typeof s?"last"+Math.abs(s):"last"+(o||""))+".js"},lastDays:void 0,sliceDays:void 0,forceHistory:!0},FO(KO),FO(ZO);var QO=function(){this.maxCallbackNum=50,this.maxCallbackAlert=!0,this.eventTopics={},this.eventSubUid=0};QO.prototype.trigger=function(t,e){if(/^\./.test(t)||!this.hasTopic(t))return!1;var n=this._getTopicName(t),r=n.topic,i=n.namespace,o=this;return setTimeout(function(){for(var t=o.eventTopics[r],n=t?t.length:0;n--;)i&&t[n].namespace!=i||t[n].func(e)},0),!0},QO.prototype._getTopicName=function(t){return{topic:t.split(".")[0],namespace:t.split(".")[1]}},QO.prototype.hasTopic=function(t){var e=this._getTopicName(t),n=e.topic,r=e.namespace;if(!this.eventTopics[n])return!1;if(r){for(var i=!1,o=this.eventTopics[n],a=o?o.length:0;a--;)o[a].namespace==r&&(i=!0);return i}return!0},QO.prototype.getTopicsByNamespace=function(t){var e=[];return this.eachTopics(function(n,r){for(var i=0;i<n.length;i++)n[i].namespace===t&&e.push(r)}),e},QO.prototype.eachTopics=function(t,e){var n=this.eventTopics;for(var r in n)n.hasOwnProperty(r)&&t.call(e,n[r],r,n)},QO.prototype.getTotalCallbackNum=function(){var t=0;if(this.eachTopics(function(e,n){for(var r=0;r<e.length;r++)t++}),this.maxCallbackAlert&&t>this.maxCallbackNum)throw new Error("Ë§∞Êí≥Â¢†Èê©ÊàùÊÉâÈê®Âã´Ê¥ñÁíãÂÜ®Âö±ÈèÅÊãåÊè™ÈçíÈ¢ÅÁ¨ÇÈóÑÔøΩ"+this.maxCallbackNum+"Ê∂ìÔøΩ, ÁíáÈîãÓóÖÈèå„É§Âî¨ÈêÆÔøΩ,Èç¶„ÑßÁ≤¶ÁÄπÊ∞¨ÊÇìÈçöÂ∂ÑÁ∞®Êµ†Ë∑∫Â¢†ÈçèÂ†£–íÁºÅÊàúÁÆ£ÈçìÂ∂áÊÆëÈê©ÊàùÊÉâ:Èñ≤Â©ÉÊñÅÁíßÂã¨Á∞Æ");return t},QO.prototype.on=function(t,e){var n=this._getTopicName(t),r=n.topic,i=n.namespace;this.eventTopics[r]||(this.eventTopics[r]=[]);var o=++this.eventSubUid;return this.eventTopics[r].push({token:o,namespace:i,func:e}),o},QO.prototype._arrangeTopicAndPos=function(t){var e=this.eventTopics[t];if(!e||e.length<1)delete this.eventTopics[t];else{for(var n=[],r=0;r<e.length;r++)void 0!==e[r]&&n.push(e[r]);n.length<1?delete this.eventTopics[t]:this.eventTopics[t]=n}},QO.prototype._clearEventByTopicAndPos=function(t,e){this.eventTopics[t].splice(e,1,void 0)},QO.prototype._offByTopicName=function(t){var e,n;if(/^\./.test(t)){var r=!1;e=this._getTopicName(t),n=e.namespace;var i=[],o=[];this.eachTopics(function(t,e){for(var a=!1,s=0;s<t.length;s++)t[s].namespace===n&&(r=!0,a=!0,i.push({topic:e,pos:s}));a&&o.push(e)});for(var a=0;a<i.length;a++)this._clearEventByTopicAndPos(i[a].topic,i[a].pos);for(a=0;a<o.length;a++)this._arrangeTopicAndPos(o[a]);return r}if(!this.hasTopic(t))return!1;e=this._getTopicName(t),n=e.namespace;var s=e.topic;for(a=0;a<this.eventTopics[s].length;a++)n&&this.eventTopics[s][a].namespace!==n||this._clearEventByTopicAndPos(s,a);return this._arrangeTopicAndPos(s),s},QO.prototype.off=function(t){if(!t&&0!=t)return!1;var e="string"==typeof t,n=!e&&("string"==typeof t||"number"==typeof t);if(e)return this._offByTopicName(t);if(n){var r=!1;return this.eachTopics(function(e,n){for(var i=0;i<e.length;i++)e[i].token===t&&(r=n,this._clearEventByTopicAndPos(n,i))},this),r&&this._arrangeTopicAndPos(r),r}return!1};var JO=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),fp(n);var r=c(this,t.call(this));return r._maps={},r.setStatus(),r}return u(e,t),e.prototype.register=function(t){lp(t,void 0,void 0,!0);var e=t.type,n=h(t,["type"]),r=this.convertOptionToDataId(t);if(this._maps[r])return this._maps[r];var i=new(RO.getClass(e))(n,this);return this._maps[i.dataId]=i,i.update(),i},e.prototype.convertOptionToDataId=function(t){var e=t.type,n=h(t,["type"]);if(RO.hasClass(e))return PO(Bo(n,RO.getClass(e).defaultOption),e)},e.prototype.getDataProvider=function(t){if("string"==typeof t)return this._maps[t];var e=this.convertOptionToDataId(t);return this._maps[e]},e.prototype.fomatTopicName=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?"."+n:"";return t.dataId+"__hxc3__"+e+r},e.prototype.getDataInMap=function(){var t=[];return Xo(this._maps,function(e,n){var r=e.fetchStatus,i=e._data;t.push({fetchStatus:r,data:i})}),t},e.prototype.triggerAction=function(t,e,n){this.trigger(t.dataId+"__hxc3__"+e,n),this.trigger(_d.update,this.getDataInMap())},e.prototype.onAction=function(t,e,n){var r=t.dataId,i=e.split(".")[0],o=e.split(".")[1],a=this.fomatTopicName(t,i,o);if(this._maps[r]){var s=this._maps[r];return n({data:s._data,fetchStatus:s.fetchStatus}),this.on(a,n)}},e.prototype.offAction=function(t,e){var n=void 0;if("string"==typeof t)return n=t,this.off(n);var r=e.split(".")[0],i=e.split(".")[1];n=this.fomatTopicName(t,r,i);var o=t.dataId;return!!this._maps[o]&&this.off(n)},e.prototype.removeProvider=function(t){var e=void 0;if("string"==typeof t){e=t;var n=this.getTopicsByNamespace(e.replace(".",""));this.offAction(e),Xo(n,function(t,e){this._maps[t.split("__hxc3__")[0]].stopGetData(),delete this._maps[t.split("__hxc3__")[0]]},this)}},e.prototype.getFilterUrl=function(t){return this._status.enableFilterUrl?this._status.filterUrl(t):t},e.prototype.setStatus=function(t){t=t||{};this._status=Bo(t,this._status||{lazyInit:!0,enableFilterUrl:!1,filterUrl:function(t){var e=t;return t.replace(/\/(line|real|multimarketreal|time|realhead|rank)\//,function(n,r){switch(r){case"line":/today/.test(t)&&(e=t.replace(/(.+)(\/)/,function(t,e){return e+"/defer/"}));break;case"time":case"realhead":case"rank":e=t.replace(/(.+)(\/)/,function(t,e){return e+"/defer/"});break;case"real":case"multimarketreal":e=t.replace(/(.+)(\/)/,function(t,e){return e+"/defer/"})}return r}),e}})},e.prototype.getStatus=function(){return this._status},e}(QO);JO.msg="D3Charts";var tD,eD,nD=function(t){return tD||(tD=new JO(t)),tD},rD=function(t){return eD||(eD=window&&window.hxc3&&"function"==typeof window.hxc3.getDataPool?hxc3.getDataPool():new nD(t)),eD};t.scales=cI,t.d3Time=km,t.hqHelper=TO,t.getDataPool=rD,t.BaseDataProvider=RO,t.registerDataProvider=FO,t.setCanvasCreator=function(t){No("createCanvas",t)},t.VERSION=np,t.init=function(t,e){var n=new Sp(t,void 0,e);return mp[n.id]=n,n},t.track=function(t){op=t},t.event=_p,t.initMap=function(t){var e=document.createElement("div");return e.id=t,e.width="100%",e.height="600px",e},t.registerModel=Mp,t.registerView=Ap,t.registerComponent=Tp,t.registerIndicator=Ip,t.zrender=Ju,t.util=Jf,t.graphic=Vf,t.colorTool=Ps,t.symbol=$d,t.ChartView=Ad,t.ComponentView=Id,t.Indicator=ep,t.ChartModel=Pd,t.ComponentModel=Od,t.action=wd,t.instances=mp,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=d3_charts.js.map